"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7141],{52008:(e,a,l)=>{l.d(a,{Z:()=>s});l(47313);const s=l.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},57141:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var s=l(47313),t=l(97890),n=l(23560),i=l(10976),d=l(77181),r=l(68197),c=l(59624),u=l(74294),m=l(72652),h=l(66672),o=l(86345),p=l(59491),x=l(2717),j=l(90954),y=l(24511),Z=l(78520),f=l(42111),b=(l(52008),l(26672),l(92709),l(46417));const v=()=>{const{t:e}=(0,y.$)(),{activeMenu:a}=(0,x.v9)((e=>e.menu),x.wU),l=(0,x.I0)(),[v]=i.Z.useForm(),g=(0,t.s0)(),{id:q}=(0,t.UO)(),[k,I]=(0,s.useState)(!1),[N,_]=(0,s.useState)(!1),[w,F]=(0,s.useState)([]),[C,z]=(0,s.useState)(null);(0,s.useEffect)((()=>()=>{const e=v.getFieldsValue(!0);l((0,j.nc)({activeMenu:a,data:e}))}),[]);(0,s.useEffect)((()=>{a.refetch&&((e=>{_(!0),Z.Z.getById(e).then((e=>{let{data:a}=e;z({label:a.payment.tag,value:a.payment.id}),v.setFieldsValue({...a,payment_id:a.payment.tag})})).finally((()=>l((0,j.A_)(a))))})(q),async function(){_(!0),Z.Z.allPayment().then((e=>{let{data:a}=e;const l=a.map((e=>({label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id})));F(l)})).finally((()=>_(!1)))}())}),[a.refetch]);return(0,b.jsx)(d.Z,{title:e("edit.payment"),className:"h-100",children:N?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(m.Z,{size:"large",className:"py-5"})}):(0,b.jsxs)(i.Z,{name:"edit.payment",layout:"vertical",onFinish:s=>{I(!0);const t={...s,payment_id:C.value};Z.Z.update(q,t).then((()=>{const s="seller/payments";n.Am.success(e("successfully.updated")),l((0,j.ph)({...a,nextUrl:s})),g("/".concat(s)),l((0,f.BN)())})).finally((()=>I(!1)))},form:v,initialValues:{status:!0,...a.data},className:"d-flex flex-column h-100",children:[(0,b.jsxs)(r.Z,{gutter:12,children:[(0,b.jsx)(c.Z,{span:"cash"===(null===C||void 0===C?void 0:C.label)||"wallet"===(null===C||void 0===C?void 0:C.label)?12:24,children:(0,b.jsx)(i.Z.Item,{label:e("payment"),name:"payment_id",rules:[{required:!0,message:e("required")}],children:(0,b.jsx)(u.Z,{notFoundContent:N?(0,b.jsx)(m.Z,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"cash"===(null===C||void 0===C?void 0:C.label)||"wallet"===(null===C||void 0===C?void 0:C.label)?"":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:e("client.id"),name:"client_id",rules:[{required:!0,message:e("required")}],children:(0,b.jsx)(h.Z,{})})}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:e("secret.id"),name:"secret_id",rules:[{required:!0,message:e("required")}],children:(0,b.jsx)(h.Z,{})})}),"Paystack"===(null===C||void 0===C?void 0:C.label)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:e("payment.id"),name:"payment_key",rules:[{required:!0,message:e("required")}],children:(0,b.jsx)(h.Z,{})})}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:e("merchant.email"),name:"merchant_email",rules:[{required:!0,message:e("required")}],children:(0,b.jsx)(h.Z,{type:"email"})})})]}):""]}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:e("status"),name:"status",valuePropName:"checked",children:(0,b.jsx)(o.Z,{})})})]}),(0,b.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,b.jsx)("div",{className:"pb-5",children:(0,b.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:k,disabled:k,children:e("submit")})})})]})})}}}]);