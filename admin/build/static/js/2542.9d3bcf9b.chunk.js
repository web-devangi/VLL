"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2542,5452],{94337:(e,s,r)=>{r.d(s,{Z:()=>a});var i=r(34344);const a={getAll:e=>i.Z.get("dashboard/admin/subscriptions",{params:e}),getById:(e,s)=>i.Z.get("dashboard/admin/subscriptions/".concat(e),{params:s}),update:(e,s)=>i.Z.put("dashboard/admin/subscriptions/".concat(e),s),create:e=>i.Z.post("dashboard/admin/subscriptions",e)}},32542:(e,s,r)=>{r.r(s),r.d(s,{default:()=>_});var i=r(47313),a=r(77181),t=r(45705),l=r(59491),n=r(68197),c=r(59624),d=r(41068),m=r(72652),h=r(94337),o=r(2717),u=r(24511),x=r(65452),p=r(10976),j=r(9274),Z=r(66672),v=r(16124),b=r(86345),f=r(46417);function g(e){let{modal:s,handleCancel:r,refetch:a}=e;const[t]=p.Z.useForm(),{t:d}=(0,u.$)(),[m,o]=(0,i.useState)(!1);return(0,f.jsx)(j.Z,{visible:!!s,title:d("add.subscription"),onCancel:r,style:{minWidth:800},footer:[(0,f.jsx)(l.Z,{type:"primary",onClick:()=>t.submit(),loading:m,children:d("save")},"save-btn"),(0,f.jsx)(l.Z,{type:"default",onClick:r,children:d("cancel")},"cancel-btn")],children:(0,f.jsx)(p.Z,{form:t,layout:"vertical",onFinish:e=>{const s={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};o(!0),h.Z.create(s).then((()=>{r(),a()})).finally((()=>o(!1)))},initialValues:{active:!0,with_report:!0,...s},children:(0,f.jsxs)(n.Z,{gutter:12,children:[(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("title"),name:"title",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(Z.Z,{})})}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("period"),name:"month",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(v.Z,{min:0,max:12,className:"w-100"})})}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("product_limit"),name:"product_limit",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(v.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("order_limit"),name:"order_limit",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(v.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("price"),name:"price",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(v.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(c.Z,{span:12}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("with_report"),name:"with_report",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.Z,{})})}),(0,f.jsx)(c.Z,{span:12,children:(0,f.jsx)(p.Z.Item,{label:d("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(b.Z,{})})})]})})})}var y=r(55768),N=r(12019),w=r(90954);const q=[],_=()=>{const{t:e}=(0,u.$)(),{defaultCurrency:s}=(0,o.v9)((e=>e.currency),o.wU),[r,p]=(0,i.useState)(null),[j,Z]=(0,i.useState)(null),[v,b]=(0,i.useState)(!1),[_,I]=(0,i.useState)([]),C=_.length,k=(0,o.I0)(),{activeMenu:S}=(0,o.v9)((e=>e.menu),o.wU),z=()=>{b(!0),h.Z.getAll().then((e=>{I(e.data)})).finally((()=>{b(!1),k((0,w.A_)(S))}))};return(0,i.useEffect)((()=>{S.refetch&&z()}),[S.refetch]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{className:"h-100",extra:(0,f.jsx)(t.Z,{children:(0,f.jsx)(l.Z,{type:"primary",icon:(0,f.jsx)(y.Z,{}),onClick:()=>p(!0),children:e("add.subscription")})}),children:v?(0,f.jsx)(c.Z,{className:"ant-col-spin d-flex justify-content-center",children:(0,f.jsx)(m.Z,{size:"large"})}):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"text-center mb-4",children:[(0,f.jsx)("h2",{className:"font-weight-semibold",children:"Pick a base plan"}),(0,f.jsx)(n.Z,{type:"flex",justify:"center",children:(0,f.jsx)(c.Z,{sm:24,md:12,lg:8,children:(0,f.jsx)("p",{children:"Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission."})})})]}),(0,f.jsx)(n.Z,{children:_.map(((r,i)=>(0,f.jsx)(c.Z,{span:6,className:C===i+1?"":"border-right",children:(0,f.jsxs)("div",{className:"p-3",children:[(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsxs)("h1",{className:"display-4 mt-4",children:[(0,f.jsx)("span",{className:"font-size-md d-inline-block mr-1",style:{transform:"translate(0px, -17px)"},children:null===s||void 0===s?void 0:s.symbol}),(0,f.jsx)("span",{children:r.price})]}),(0,f.jsxs)("p",{className:"mb-0 text-lowercase",children:[r.month," ",e("month")]})]}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsxs)("h2",{className:"text-center font-weight-semibold cursor-pointer",onClick:()=>Z(r),children:[r.title," ",(0,f.jsx)("span",{className:"ant-btn-link",children:(0,f.jsx)(N.Z,{})})]})}),(0,f.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,f.jsx)("div",{children:null===q||void 0===q?void 0:q.map(((e,s)=>(0,f.jsxs)("p",{children:[(0,f.jsx)(d.Z,{color:"blue"}),(0,f.jsx)("span",{children:e})]},"pricing-feature-".concat(s))))})})]})},"price-column-".concat(i))))})]})}),j&&(0,f.jsx)(x.default,{modal:j,handleCancel:()=>Z(null),refetch:z}),r&&(0,f.jsx)(g,{modal:r,handleCancel:()=>p(null),refetch:z})]})}},65452:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});var i=r(47313),a=r(10976),t=r(9274),l=r(59491),n=r(68197),c=r(59624),d=r(66672),m=r(16124),h=r(86345),o=r(24511),u=r(94337),x=r(51282),p=r(46417);function j(e){let{modal:s,handleCancel:r,refetch:j}=e;const[Z]=a.Z.useForm(),{t:v}=(0,o.$)(),[b,f]=(0,i.useState)(!1),[g,y]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{y(!0),u.Z.getById(s.id).then((e=>{console.log("data",e.data),Z.setFieldsValue({...e.data})})).finally((()=>y(!1)))}),[s]),(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(t.Z,{visible:!!s,title:v("edit.subscription"),onCancel:r,style:{minWidth:800},footer:[(0,p.jsx)(l.Z,{type:"primary",onClick:()=>Z.submit(),loading:b,children:v("save")},"save-btn"),(0,p.jsx)(l.Z,{type:"default",onClick:r,children:v("cancel")},"cancel-btn")],children:g?(0,p.jsx)(x.Z,{}):(0,p.jsx)(a.Z,{form:Z,layout:"vertical",onFinish:e=>{const i={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};f(!0),u.Z.update(s.id,i).then((()=>{r(),j()})).finally((()=>f(!1)))},initialValues:{active:Boolean(null===s||void 0===s?void 0:s.active),with_report:Boolean(null===s||void 0===s?void 0:s.with_report),...s},children:(0,p.jsxs)(n.Z,{gutter:12,children:[(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("title"),name:"title",rules:[{required:!0,message:v("required")}],children:(0,p.jsx)(d.Z,{})})}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("period"),name:"month",rules:[{required:!0,message:v("required")}],children:(0,p.jsx)(m.Z,{min:0,max:12,className:"w-100"})})}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("product_limit"),name:"product_limit",rules:[{required:!0,message:v("required")}],children:(0,p.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("order_limit"),name:"order_limit",rules:[{required:!0,message:v("required")}],children:(0,p.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("price"),name:"price",rules:[{required:!0,message:v("required")}],children:(0,p.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,p.jsx)(c.Z,{span:12}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("with_report"),name:"with_report",valuePropName:"checked",children:(0,p.jsx)(h.Z,{})})}),(0,p.jsx)(c.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:v("active"),name:"active",valuePropName:"checked",children:(0,p.jsx)(h.Z,{})})})]})})})})}},55768:(e,s,r)=>{r.d(s,{Z:()=>c});var i=r(1413),a=r(47313);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var l=r(17469),n=function(e,s){return a.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:s,icon:t}))};n.displayName="PlusCircleOutlined";const c=a.forwardRef(n)}}]);