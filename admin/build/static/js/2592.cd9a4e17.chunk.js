"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2592],{55940:function(e,n,i){i.d(n,{Z:function(){return c}});var l=i(1413),t=i(45987),a=(i(47313),i(59491)),o=i(47515),r=i(23560),u=i(24511),d=i(79492),s=i(46417),v=["size","onClick","type"];function c(e){var n=e.size,i=void 0===n?"":n,c=e.onClick,f=e.type,h=void 0===f?"default":f,Z=(0,t.Z)(e,v),m=(0,u.$)().t,p=(0,d.Z)().isDemo;return(0,s.jsx)(a.Z,(0,l.Z)({size:i,icon:(0,s.jsx)(o.Z,{}),onClick:function(e){p?r.Am.warning(m("cannot.work.demo")):c(e)},type:h},Z))}},4014:function(e,n,i){function l(e){var n,i,l=null===e||void 0===e?void 0:e.slice(0,1),t=null===e||void 0===e?void 0:e.lastIndexOf("@"),a=null===e||void 0===e?void 0:e.slice(1,t-1);a=null===(n=a)||void 0===n?void 0:n.replace(/./g,"*");var o=null===e||void 0===e?void 0:e.slice(t-1,e.length);return null===l||void 0===l||null===(i=l.concat(a))||void 0===i?void 0:i.concat(o)}i.d(n,{Z:function(){return l}})},41481:function(e,n,i){i.d(n,{Z:function(){return c}});var l=i(1413),t=i(29439),a=i(45987),o=i(47313),r=i(66672),u=i(16031),d=i(40765),s=i(46417),v=["handleChange","defaultValue","resetSearch"];function c(e){var n=e.handleChange,i=e.defaultValue,c=e.resetSearch,f=(0,a.Z)(e,v),h=(0,o.useState)(i),Z=(0,t.Z)(h,2),m=Z[0],p=Z[1],x=(0,o.useMemo)((function(){return(0,u.debounce)((function(e){n(e)}),800)}),[]);return(0,o.useEffect)((function(){p(i)}),[c]),(0,s.jsx)(r.Z,(0,l.Z)({value:m,onChange:function(e){p(e.target.value),x(e.target.value)},prefix:(0,s.jsx)(d.Z,{})},f))}},32592:function(e,n,i){i.r(n),i.d(n,{default:function(){return U}});var l=i(1413),t=i(29439),a=i(47313),o=i(26824),r=i(66204),u=i(45705),d=i(59491),s=i(77181),v=i(78508),c=i(24511),f=i(80314),h=i(2717),Z=i(94291),m=i(90954),p=i(79492),x=i(4014),y=i(97421),j=i(12019),g=i(47515),k=i(55940),w=i(41481),C=i(10976),b=i(9274),_=i(68197),S=i(59624),I=i(74294),z=[{label:"new",value:1,key:1},{label:"viewed",value:2,key:2},{label:"excepted",value:3,key:3},{label:"rejected",value:4,key:4}],E=i(58328),D=i(46417),H=function(e){var n,i,o=e.data,r=e.handleCancel,u=e.paramsData,s=(0,c.$)().t,v=C.Z.useForm(),f=(0,t.Z)(v,1)[0],p=(0,h.I0)(),x=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,y=(0,a.useState)(!1),j=(0,t.Z)(y,2),g=j[0],k=j[1];return(0,D.jsx)(b.Z,{visible:!!o,title:s(null===o||void 0===o?void 0:o.name),onCancel:r,footer:[(0,D.jsx)(d.Z,{type:"primary",onClick:function(){return f.submit()},loading:g,children:s("save")}),(0,D.jsx)(d.Z,{type:"default",onClick:r,children:s("cancel")})],children:(0,D.jsx)(C.Z,{form:f,layout:"vertical",onFinish:function(e){var n;k(!0);var i=(0,l.Z)({},e);E.Z.statusChange(null===o||void 0===o||null===(n=o.invite)||void 0===n?void 0:n.id,i).then((function(){r(),(0,h.dC)((function(){p((0,Z.EH)(u)),p((0,m.A_)(x))}))})).finally((function(){return k(!1)}))},initialValues:{status:null===(i=z.filter((function(e){var n;return e.label===(null===o||void 0===o||null===(n=o.invite)||void 0===n?void 0:n.status)})))||void 0===i?void 0:i[0]},children:(0,D.jsx)(_.Z,{gutter:12,children:(0,D.jsx)(S.Z,{span:24,children:(0,D.jsx)(C.Z.Item,{label:s("status"),name:"status",rules:[{required:!0,message:s("required")}],children:(0,D.jsx)(I.Z,{children:z.map((function(e){return(0,D.jsx)(I.Z.Option,{value:null===e||void 0===e?void 0:e.value,children:s(null===e||void 0===e?void 0:e.label)},null===e||void 0===e?void 0:e.key)}))})})})})})},null===o||void 0===o||null===(n=o.invite)||void 0===n?void 0:n.id)},M=i(97890);var U=function(){var e,n,i,C,b=(0,c.$)().t,_=(0,h.I0)(),S=(0,M.s0)(),I=((0,p.Z)().isDemo,(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu),z=(0,h.v9)((function(e){return e.deliveryman}),h.wU),E=z.deliverymans,U=z.params,V=z.loading,A=z.meta,F=(0,h.v9)((function(e){return e.myShop}),h.wU).myShop,$=(0,a.useState)(null),q=(0,t.Z)($,2),O=(q[0],q[1],(0,a.useState)(null)),K=(0,t.Z)(O,2),L=K[0],P=K[1],R=(0,l.Z)({search:null!==(e=null===I||void 0===I||null===(n=I.data)||void 0===n?void 0:n.search)&&void 0!==e?e:null},U);null!==R&&void 0!==R&&null!==(i=R.search)&&void 0!==i&&i.length||null===R||void 0===R||delete R.search;var B=[{title:b("id"),is_show:!0,dataIndex:"id",key:"id"},{title:b("image"),dataIndex:"img",is_show:!0,render:function(e){return(0,D.jsx)(o.Z,{width:100,src:y.bV+e,placeholder:!0,style:{borderRadius:4}})}},{title:b("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,n){return((null===n||void 0===n?void 0:n.firstname)||"")+" "+((null===n||void 0===n?void 0:n.lastname)||"")}},{title:b("email"),dataIndex:"email",key:"email",is_show:!0,render:function(e){return(0,x.Z)(e)}},{title:b("status"),dataIndex:"status",key:"status",is_show:!0,render:function(e,n){var i,t,a=null===n||void 0===n||null===(i=n.invitations)||void 0===i||null===(t=i.filter((function(e){return(null===e||void 0===e?void 0:e.shop_id)===(null===F||void 0===F?void 0:F.id)})))||void 0===t?void 0:t[0];return(0,D.jsxs)("div",{children:["new"===(null===a||void 0===a?void 0:a.status)?(0,D.jsx)(r.Z,{color:"blue",children:b(null===a||void 0===a?void 0:a.status)}):"rejected"===(null===a||void 0===a?void 0:a.status)?(0,D.jsx)(r.Z,{color:"error",children:b(null===a||void 0===a?void 0:a.status)}):(0,D.jsx)(r.Z,{color:"cyan",children:b(null===a||void 0===a?void 0:a.status)}),2===(null===F||void 0===F?void 0:F.delivery_type)&&(0,D.jsx)(j.Z,{onClick:function(){return P((0,l.Z)((0,l.Z)({},n),{},{invite:a}))}})]})}},{title:b("options"),dataIndex:"options",key:"options",is_show:!1,render:function(){return(0,D.jsxs)(u.Z,{children:[(0,D.jsx)(d.Z,{type:"primary",icon:(0,D.jsx)(j.Z,{})}),(0,D.jsx)(k.Z,{icon:(0,D.jsx)(g.Z,{})})]})}}];return(0,f.Z)((function(){_((0,Z.EH)(R))}),[null===(C=I.data)||void 0===C?void 0:C.search]),(0,a.useEffect)((function(){I.refetch&&(0,h.dC)((function(){_((0,Z.EH)(R)),_((0,m.A_)(I))}))}),[I.refetch]),(0,D.jsxs)(a.Fragment,{children:[(0,D.jsxs)(s.Z,{children:[(0,D.jsx)(u.Z,{wrap:!0,size:[14,20],children:(0,D.jsx)(w.Z,{placeholder:b("search"),handleChange:function(e){return function(e){var n=I.data;_((0,m.nc)({activeMenu:I,data:(0,l.Z)((0,l.Z)({},n),e)}))}({search:e})}})}),2===(null===F||void 0===F?void 0:F.delivery_type)&&(0,D.jsx)(d.Z,{style:{float:"right"},type:"primary",onClick:function(){_((0,m.bL)({id:"seller-deliverymen-add",url:"seller/deliverymen/add",name:b("add.deliveryman")})),S("add",{state:{paramsData:R}})},children:b("add.deliveryman")})]}),(0,D.jsx)(s.Z,{children:(0,D.jsx)(v.Z,{loading:V,dataSource:E||[],columns:null===B||void 0===B?void 0:B.filter((function(e){return null===e||void 0===e?void 0:e.is_show})),scroll:{x:!0},rowKey:function(e){return e.id},pagination:{pageSize:null===A||void 0===A?void 0:A.per_page,page:null===A||void 0===A?void 0:A.current_page,total:null===A||void 0===A?void 0:A.total},onChange:function(e){var n=e.pageSize,i=e.current,t=(0,l.Z)((0,l.Z)({},R),{},{perPage:n,page:i});_((0,Z.EH)(t))}})}),L&&(0,D.jsx)(H,{data:L,handleCancel:function(){return P(null)},paramsData:R})]})}}}]);