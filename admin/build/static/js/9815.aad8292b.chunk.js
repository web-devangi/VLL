"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9815],{38628:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(77181),a=n(14133),o=(n(47313),n(46417));const i=e=>{let{loading:t}=e;return(0,o.jsx)(l.Z,{className:"order-card",children:(0,o.jsx)(a.Z,{loading:t,avatar:!0,active:!0})})}},41481:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(47313),a=n(66672),o=n(16031),i=n(40765),d=n(46417);function s(e){let{handleChange:t,defaultValue:n,resetSearch:s,...r}=e;const[c,u]=(0,l.useState)(n),v=(0,l.useMemo)((()=>(0,o.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(n)}),[s]),(0,d.jsx)(a.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.Z,{}),...r})}},98501:(e,t,n)=>{n.d(t,{Q:()=>l});const l={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]}},36311:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(34344);const a={orderExport:(e,t)=>l.Z.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:t,responseType:"blob"})}},24391:(e,t,n)=>{n.d(t,{Z:()=>x});var l=n(47313),a=n(36311),o=n(83334),i=n.n(o),d=n(51282),s=n(77181),r=n(9274),c=n(59491),u=n(68197),v=n(59624),p=n(24511),h=n(58821),y=n(57864),m=n(97890),f=n(46417);const g=s.Z.Meta,x=e=>{let{id:t,handleCancel:n}=e;const[o,x]=(0,l.useState)(null),{t:Z}=(0,p.$)(),b=(0,m.s0)();return(0,f.jsx)(f.Fragment,{children:o?(0,f.jsx)(d.Z,{}):(0,f.jsx)(r.Z,{visible:!!t,title:Z("selected.download"),closable:!1,handleCancel:n,footer:[(0,f.jsx)(c.Z,{type:"default",onClick:n,children:Z("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:Z("download.pdf"),onClick:()=>function(e){x(!0),a.Z.orderExport(e).then((t=>{i()(t,"invoice_".concat(e,".pdf"),"application/pdf"),n()})).finally((()=>x(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(h._JY,{size:80})})})}),(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:Z("download.check"),onClick:()=>(e=>{b("/orders/generate-invoice/".concat(e))})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(y.ih9,{size:85})})})})]})})})}},19815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var l=n(47313),a=n(99096),o=n(45705),i=n(59491),d=n(77181),s=n(97890),r=n(15386),c=n(55768),u=n(2717),v=n(90954),p=n(24511),h=n(80314),y=n(22054),m=n(40197),f=n(41481),g=n(73270),x=n(89281),Z=n(49986),b=n(7920),j=n(24077),C=n(80355),k=n(24391),w=n(23560),_=n(7370),S=n(74580),M=n(69658),D=n(70816),O=n.n(D),P=n(53149),E=n(43773),I=n(93709),Y=n(66204),T=n(58840),N=n(46417);const z=e=>{let{children:t,title:n,name:l,isDropDisabled:a,total:i=0,loading:d=!1,reloadOrder:s}=e;const{t:r}=(0,p.$)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(I.Z,{message:(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(E.Z,{size:20,style:{cursor:"pointer"},spin:d,onClick:s}),r(n),(0,N.jsx)(Y.Z,{children:d?(0,N.jsx)(E.Z,{spin:!0}):i})]}),className:"mb-4 ".concat(l),style:{textAlign:"center",fontSize:16,textTransform:"capitalize"}}),(0,N.jsx)(T.bK,{droppableId:l,isDropDisabled:a,children:e=>(0,N.jsx)("div",{ref:e.innerRef,className:"h-screen",style:{opacity:a?.6:1},children:(0,N.jsxs)(N.Fragment,{children:[t,e.placeholder]})})})]})};var H=n(72652),F=n(39548),K=n(60931),L=n(45427),A=n(86949),V=n(35529),U=n(91805),B=n(47515),R=n(6986),q=n(31741),$=n(14133),Q=n(45334),G=n(42346),J=n(84017),X=n(5958),W=n(79492);const{Meta:ee}=d.Z,te=e=>{var t,n,l,a,i,s,r,c,u,v,h,y;let{data:m,goToShow:f,loading:g,setLocationsMap:x,setId:Z,setIsModalVisible:b,setText:j,setDowloadModal:C,setTabType:k}=e;const{t:_}=(0,p.$)(),S=[{title:"Client",icon:(0,N.jsx)(F.Z,{}),data:null!==m&&void 0!==m&&m.user?"".concat((null===(t=m.user)||void 0===t?void 0:t.firstname)||"-"," ").concat((null===(n=m.user)||void 0===n?void 0:n.lastname)||"-"):_("deleted.user")},{title:"Deliveryman",icon:(0,N.jsx)(K.Z,{}),data:"".concat((null===(l=m.deliveryman)||void 0===l?void 0:l.firstname)||"-"," ").concat((null===(a=m.deliveryman)||void 0===a?void 0:a.lastname)||"-")},{title:"Amount",icon:(0,N.jsx)(L.Z,{}),data:(0,J.Z)(null===m||void 0===m?void 0:m.total_price,null===(i=m.currency)||void 0===i?void 0:i.symbol,null===(s=m.currency)||void 0===s?void 0:s.position)},{title:"Payment type",icon:(0,N.jsx)(A.Z,{}),data:(null===(r=m.transaction)||void 0===r||null===(c=r.payment_system)||void 0===c?void 0:c.tag)||"-"},{title:"Payment status",icon:(0,N.jsx)(V.Z,{}),data:(null===(u=m.transaction)||void 0===u?void 0:u.status)||"-"},{title:"Delivery date",icon:(0,N.jsx)(U.Z,{}),data:O()(null===m||void 0===m?void 0:m.delivery_date).format("YYYY-MM-DD")||"-"},{title:"Created at",icon:(0,N.jsx)(U.Z,{}),data:O()(null===m||void 0===m?void 0:m.created_at).format("YYYY-MM-DD")||"-"}],{isDemo:M}=(0,W.Z)(),D=[(0,N.jsx)(X.Y4r,{size:20,onClick:e=>{e.stopPropagation(),x(m.id)}}),(0,N.jsx)(B.Z,{onClick:e=>{M?w.Am.warning(_("cannot.work.demo")):(e.stopPropagation(),Z([m.id]),b(!0),j(!0),k(m.status))}}),(0,N.jsx)(R.Z,{onClick:e=>{e.stopPropagation(),C(m.id)}}),(0,N.jsx)(q.Z,{onClick:e=>{e.stopPropagation(),f(m)}})];return(0,N.jsx)(d.Z,{actions:D,className:"order-card",children:(0,N.jsxs)($.Z,{loading:g,avatar:!0,active:!0,children:[(0,N.jsx)(ee,{avatar:(0,N.jsx)(Q.C,{src:null===m||void 0===m||null===(v=m.user)||void 0===v?void 0:v.img}),description:"#".concat(m.id),title:null===m||void 0===m||null===(h=m.shop)||void 0===h||null===(y=h.translation)||void 0===y?void 0:y.title}),(0,N.jsx)(G.ZP,{itemLayout:"horizontal",dataSource:S,renderItem:(e,t)=>(0,N.jsx)(G.ZP.Item,{children:(0,N.jsxs)(o.Z,{children:[null===e||void 0===e?void 0:e.icon,"".concat(null===e||void 0===e?void 0:e.title,":  ").concat(null===e||void 0===e?void 0:e.data)]})},t)})]})})};var ne=n(7142),le=n(82508),ae=n(98501),oe=n(38628),ie=n(51282),de=n(59511);const se=e=>{let{goToEdit:t,goToShow:n,fetchOrderAllItem:a,fetchOrders:o,setLocationsMap:i,setId:d,setIsModalVisible:s,setText:r,setDowloadModal:c,type:v,setTabType:p}=e;const h=(0,u.I0)(),{statusList:m,loading:f}=(0,u.v9)((e=>e.orderStatus),u.wU),g=null===m||void 0===m?void 0:m.map((e=>null===e||void 0===e?void 0:e.name)),{items:x}=(0,u.v9)((e=>e.orders),u.wU),Z=(0,u.v9)((e=>e.orders),u.wU),[b,j]=(0,l.useState)(""),[C,k]=(0,l.useState)({}),[S,M]=(0,l.useState)({}),[D,O]=(0,l.useState)({}),[P,E]=(0,l.useState)(null),[I,Y]=(0,l.useState)(""),F=e=>{const t={...x},n=t[e.source.droppableId],[l,a]=((e,t)=>{const n=Array.from(e),[l]=n.splice(t,1);return[l,n]})(n,e.source.index);t[e.source.droppableId]=a;const o=t[e.destination.droppableId];t[e.destination.droppableId]=((e,t,n)=>{const l=Array.from(e);return l.splice(t,0,n),l})(o,e.destination.index,l),h((0,y.U7)(t)),O(null)},K=e=>{var t,n;e.destination&&(M(e),t=e.draggableId,n={status:e.destination.droppableId},_.Z.updateStatus(t,n).then((()=>{w.Am.success("#".concat(t," order status changed"))})),F(e))},L=e=>(0!==e||D!==g.length-1)&&Boolean(D>e);(0,l.useEffect)((()=>{h((0,y.H5)()),a()}),[v]);return(0,N.jsxs)(N.Fragment,{children:[f?(0,N.jsx)("div",{children:(0,N.jsx)(ie.Z,{})}):(0,N.jsx)(T.Z5,{onDragEnd:K,onDragStart:e=>{const t=g.findIndex((t=>t===e.source.droppableId));k(e),O(t)},children:(0,N.jsx)("div",{className:"order-board",children:null===g||void 0===g?void 0:g.map(((e,l)=>{var a,u,v,m,f,g,C;return(0,N.jsx)("div",{className:"dnd-column",children:(0,N.jsx)(z,{title:e,onDragEnd:K,name:e,isDropDisabled:L(l),total:null===(a=x[e])||void 0===a?void 0:a.length,loading:null===(u=Z[e])||void 0===u?void 0:u.loading,reloadOrder:()=>(e=>{h((0,y.x9)(e)),o({status:e})})(e),children:(0,N.jsxs)(ne.ZP,{onScroll:t=>((e,t)=>{const n=e.target.lastChild,l=e.target.clientHeight+e.target.scrollTop;var a;n&&l>n.offsetTop+n.clientHeight+19.9&&Z[t].meta.last_page>Z[t].meta.current_page&&(null===(a=Z[t])||void 0===a||!a.loading)&&(j(t),o({page:Z[t].meta.current_page+1,perPage:5,status:t}))})(t,e),autoHeight:!0,autoHeightMin:"75vh",autoHeightMax:"75vh",autoHide:!0,id:e,children:[Boolean((null===(v=Z[e])||void 0===v?void 0:v.loading)&&!(null!==(m=x[e])&&void 0!==m&&m.length))?null===(g=ae.Q[e])||void 0===g?void 0:g.map((()=>(0,N.jsx)(oe.Z,{loading:!0}))):null===(f=x[e])||void 0===f?void 0:f.map(((e,l)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(T._l,{draggableId:e.id.toString(),index:l,children:l=>(0,N.jsx)("div",{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,children:(0,N.jsx)(te,{data:e,goToEdit:t,goToShow:n,setLocationsMap:i,setId:d,setIsModalVisible:s,setText:r,setDowloadModal:c,setTabType:p})})},e.id)}))),(null===(C=Z[e])||void 0===C?void 0:C.loading)&&e===b&&(0,N.jsx)(H.Z,{indicator:(0,N.jsx)(le.Z,{style:{fontSize:24},spin:!0})})]})})},e)}))})}),P&&(0,N.jsx)(de.Z,{result:S,changeColumnData:F,statusChangedOrder:P,setStatusChangedOrder:E,modalNoteType:I})]})};var re=n(21186),ce=n(3925),ue=n(97421),ve=n(27453),pe=n(47139),he=n(79637);const{RangePicker:ye}=a.Z;function me(){var e,t,n,a,D,E,I,Y,T,z;const H=(0,u.I0)(),F=(0,s.s0)(),{t:K}=(0,p.$)(),{type:L}=(0,s.UO)(),{statusList:A}=(0,u.v9)((e=>e.orderStatus),u.wU),[V,U]=(0,l.useState)(null),[B,R]=(0,l.useState)(null),[q,$]=(0,l.useState)(null),[Q,G]=(0,l.useState)(!1),[J,X]=(0,l.useState)(null),[W,ee]=(0,l.useState)(null),{setIsModalVisible:te}=(0,l.useContext)(S._),{activeMenu:ne}=(0,u.v9)((e=>e.menu),u.wU),[le,ae]=(0,l.useState)(null),[oe,ie]=(0,l.useState)(null),[de,me]=(0,l.useState)(!1),[fe,ge]=(0,l.useState)(null),xe=null===ne||void 0===ne?void 0:ne.data,Ze={search:null!==xe&&void 0!==xe&&xe.search?xe.search:void 0,perPage:(null===xe||void 0===xe?void 0:xe.perPage)||5,page:(null===xe||void 0===xe?void 0:xe.page)||1,user_id:null===xe||void 0===xe?void 0:xe.client_id,region_id:null===xe||void 0===xe||null===(e=xe.region)||void 0===e?void 0:e.value,country_id:null===xe||void 0===xe||null===(t=xe.country)||void 0===t?void 0:t.value,city_id:null===xe||void 0===xe||null===(n=xe.city)||void 0===n?void 0:n.value,status:null===xe||void 0===xe?void 0:xe.role,type:"1",shop_id:null!==(null===(a=ne.data)||void 0===a?void 0:a.shop_id)?null===(D=ne.data)||void 0===D?void 0:D.shop_id:null,delivery_type:"scheduled"!==L?L:void 0,delivery_date_from:"scheduled"===L?O()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===fe||void 0===fe||null===(E=fe[0])||void 0===E?void 0:E.format("YYYY-MM-DD"))||void 0,date_to:(null===fe||void 0===fe||null===(I=fe[1])||void 0===I?void 0:I.format("YYYY-MM-DD"))||void 0};(0,h.Z)((()=>{H((0,y.H5)()),ke()}),[xe,fe]);const be=(e,t)=>{(0,u.dC)((()=>{H((0,y.H5)()),H((0,v.nc)({activeMenu:ne,data:{...xe,[t]:e}}))}))};const je=()=>{U(null),X(null),R(null),$(null)};const Ce=e=>{var t,n,l,a,o,i,d;const s={...e,delivery_type:"scheduled"!==L?L:void 0,delivery_date_from:"scheduled"===L?O()().add(1,"day").format("YYYY-MM-DD"):void 0,search:null!==xe&&void 0!==xe&&xe.search?xe.search:void 0,user_id:null===xe||void 0===xe?void 0:xe.client_id,region_id:null===xe||void 0===xe||null===(t=xe.region)||void 0===t?void 0:t.value,country_id:null===xe||void 0===xe||null===(n=xe.country)||void 0===n?void 0:n.value,city_id:null===xe||void 0===xe||null===(l=xe.city)||void 0===l?void 0:l.value,status:null===e||void 0===e?void 0:e.status,type:"1",shop_id:null!==(null===(a=ne.data)||void 0===a?void 0:a.shop_id)?null===(o=ne.data)||void 0===o?void 0:o.shop_id:null,date_from:(null===fe||void 0===fe||null===(i=fe[0])||void 0===i?void 0:i.format("YYYY-MM-DD"))||void 0,date_to:(null===fe||void 0===fe||null===(d=fe[1])||void 0===d?void 0:d.format("YYYY-MM-DD"))||void 0};switch(null===e||void 0===e?void 0:e.status){case"new":H((0,y.O7)(s));break;case"accepted":H((0,y.We)(s));break;case"ready":H((0,y.wC)(s));break;case"on_a_way":H((0,y.Ri)(s));break;case"delivered":H((0,y.Rd)(s));break;case"canceled":H((0,y.eV)(s));break;case"cooking":H((0,y.XK)(s));break;case"pause":H((0,y.p2)(s));break;default:console.log("Sorry, we are out of")}},ke=()=>{Ce({status:"new"}),Ce({status:"accepted"}),Ce({status:"ready"}),Ce({status:"on_a_way"}),Ce({status:"delivered"}),Ce({status:"canceled"}),Ce({status:"cooking"}),Ce({status:"pause"})};return(0,l.useEffect)((()=>{null!==ne&&void 0!==ne&&ne.refetch&&(0,u.dC)((()=>{H((0,y.AU)(Ze)),H((0,v.A_)(ne)),H((0,m.dX)({})),H((0,m.ZL)({}))}))}),[null===ne||void 0===ne?void 0:ne.refetch]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{className:"w-100 justify-content-end mb-3",children:[(0,N.jsx)(re.Z,{listType:"orders-board"}),(0,N.jsxs)(i.Z,{onClick:()=>{G(!0),_.Z.export(Ze).then((e=>window.location.href=ue.S0+e.data.file_name)).finally((()=>G(!1)))},loading:Q,style:{width:"100%"},children:[(0,N.jsx)(ce.bwQ,{className:"mr-2"}),K("export")]}),(0,N.jsx)(i.Z,{icon:(0,N.jsx)(r.Z,{}),onClick:()=>{(0,u.dC)((()=>{H((0,y.H5)()),H((0,v.nc)({activeMenu:ne,data:null}))})),ke()},style:{width:"100%"},children:K("clear")}),(0,N.jsx)(i.Z,{type:"primary",icon:(0,N.jsx)(c.Z,{}),onClick:()=>{H((0,g.bn)()),H((0,v.K0)({id:"pos.system_01",url:"pos-system",name:"pos.system"})),F("/pos-system")},style:{width:"100%"},children:K("add.order")})]}),(0,N.jsx)(d.Z,{children:(0,N.jsxs)(o.Z,{wrap:!0,className:"order-filter",size:[8,15],children:[(0,N.jsx)(f.Z,{defaultValue:null===xe||void 0===xe?void 0:xe.search,resetSearch:!(null!==xe&&void 0!==xe&&xe.search),placeholder:K("search"),handleChange:e=>be(e,"search")}),(0,N.jsx)(x.h,{placeholder:K("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return P.Z.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))}))},style:{width:"100%"},onClear:()=>H((0,y.H5)()),onSelect:e=>be(e.value,"shop_id"),onDeselect:()=>be(null,"shop_id"),allowClear:!0,value:null===xe||void 0===xe?void 0:xe.shop_id}),(0,N.jsx)(x.h,{placeholder:K("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return Z.Z.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id,key:e.id})))}))},onSelect:e=>be(e.value,"client_id"),onDeselect:()=>be(null,"client_id"),style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.client_id}),(0,N.jsx)(x.h,{placeholder:K("select.region"),fetchOptions:e=>{const t={search:e,perPage:10,page:1};return ve.Z.get(t).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},onSelect:e=>{H((0,v.nc)({activeMenu:ne,data:{...xe,region:e,country:null,city:null}}))},onDeselect:()=>{H((0,v.nc)({activeMenu:ne,data:{...xe,region:null,country:null,city:null}}))},allowClear:!0,style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.region,autoComplete:"none"}),(0,N.jsx)(x.h,{placeholder:K("select.country"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,region_id:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(n=t.region)||void 0===n?void 0:n.value};return pe.Z.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>{H((0,v.nc)({activeMenu:ne,data:{...xe,country:e,city:null}}))},onDeselect:()=>{H((0,v.nc)({activeMenu:ne,data:{...xe,country:null,city:null}}))},style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.country,autoComplete:"none",disabled:!(null!==xe&&void 0!==xe&&null!==(Y=xe.region)&&void 0!==Y&&Y.value),allowClear:!0}),(0,N.jsx)(x.h,{placeholder:K("select.city"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,country_id:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(n=t.country)||void 0===n?void 0:n.value};return he.Z.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>H((0,v.nc)({activeMenu:ne,data:{...xe,city:e}})),onDeselect:()=>H((0,v.nc)({activeMenu:ne,data:{...xe,city:null}})),style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.city,autoComplete:"none",disabled:!(null!==xe&&void 0!==xe&&null!==(T=xe.country)&&void 0!==T&&T.value)||!(null!==xe&&void 0!==xe&&null!==(z=xe.region)&&void 0!==z&&z.value),allowClear:!0}),"scheduled"!==L&&(0,N.jsx)(ye,{defaultValue:fe,onChange:e=>{be(JSON.stringify(e),"data_time"),ge(e)},disabledDate:e=>e&&e>O()().endOf("day"),allowClear:!0,style:{width:"100%"}})]})}),(0,N.jsx)(se,{goToEdit:e=>{H((0,g.bn)()),H((0,v.bL)({url:"order/".concat(e.id),id:"order_edit",name:K("edit.order")})),F("/order/".concat(e.id))},goToShow:e=>{H((0,v.bL)({url:"order/details/".concat(e.id),id:"order_details",name:K("order.details")})),F("/order/details/".concat(e.id))},fetchOrderAllItem:ke,fetchOrders:Ce,setLocationsMap:R,setId:ae,setIsModalVisible:te,setText:ie,setDowloadModal:$,type:L,setTabType:ee}),V&&(0,N.jsx)(b.Z,{orderDetails:V,handleCancel:je,status:A}),J&&(0,N.jsx)(j.Z,{orderDetails:J,handleCancel:je}),B&&(0,N.jsx)(C.Z,{id:B,handleCancel:je}),q&&(0,N.jsx)(k.Z,{id:q,handleCancel:je}),(0,N.jsx)(M.Z,{click:()=>{me(!0);const e={...Object.assign({},...le.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};_.Z.delete(e).then((()=>{te(!1),ie(null),H((0,y.H5)()),ke({status:W}),w.Am.success(K("successfully.deleted"))})).finally((()=>me(!1)))},text:K(oe?"delete":"all.delete"),loading:de,setText:ae})]})}},21186:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(39180),a=(n(47313),n(58821)),o=n(54972),i=n(97890),d=n(46417);const s=[{value:"orders-board",title:"Board",icon:(0,d.jsx)(o.Ez2,{size:20})},{value:"orders",title:"List",icon:(0,d.jsx)(a.Ps6,{size:20})}],r=e=>{let{listType:t}=e;const{type:n}=(0,i.UO)(),a=(0,i.s0)();return(0,d.jsx)(l.ZP.Group,{value:t,onChange:e=>{a("/".concat(e.target.value).concat(n?"/".concat(n):""))},className:"float-right",buttonStyle:"solid",children:null===s||void 0===s?void 0:s.map((e=>(0,d.jsx)(l.ZP.Button,{value:e.value,children:(0,d.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)))})}},59511:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(47313),a=n(10976),o=n(9274),i=n(59491),d=n(68197),s=n(59624),r=n(66672),c=n(24511),u=n(7370),v=n(23560),p=n(46417);function h(e){let{result:t,changeColumnData:n,statusChangedOrder:h,setStatusChangedOrder:y,modalNoteType:m}=e;const[f]=a.Z.useForm(),{t:g}=(0,c.$)(),[x,Z]=(0,l.useState)(!1),b=()=>y((e=>!e));return(0,p.jsx)(o.Z,{visible:!!h,onCancel:b,footer:[(0,p.jsx)(i.Z,{type:"primary",onClick:()=>f.submit(),loading:x,children:g("save")},"save-form"),(0,p.jsx)(i.Z,{type:"default",onClick:b,children:g("cancel")},"cansel-modal")],children:(0,p.jsx)(a.Z,{form:f,layout:"vertical",onFinish:e=>{Z(!0);const l={...e,status:m};u.Z.updateStatus(h,l).then((e=>{let{data:l}=e;b(),n(t),v.Am.success("#".concat(l.id," order status changed"))})).finally((()=>Z(!1)))},children:(0,p.jsx)(d.Z,{gutter:12,children:(0,p.jsx)(s.Z,{span:24,children:(0,p.jsx)(a.Z.Item,{label:g("pause"===m?"pause.note":"canceled.note"),name:"pause"===m?"pause_note":"canceled_note",rules:[{required:"canceled"===m,message:g("required")}],children:(0,p.jsx)(r.Z.TextArea,{})})})})})})}},35529:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(1413),a=n(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M117 368h231v64H117zm559 0h241v64H676zm-264 0h200v64H412zm0 224h200v64H412zm264 0h241v64H676zm-559 0h231v64H117zm295-160V179h-64v666h64V592zm264-64V179h-64v666h64V432z"}}]},name:"borderless-table",theme:"outlined"};var i=n(17469),d=function(e,t){return a.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:o}))};d.displayName="BorderlessTableOutlined";const s=a.forwardRef(d)},39180:(e,t,n)=>{n.d(t,{ZP:()=>P});var l=n(4942),a=n(87462),o=n(47313),i=n(56482),d=n(46123),s=n.n(d),r=n(16945),c=n(4431),u=n(91964),v=o.createContext(null),p=v.Provider;const h=v;var y=o.createContext(null),m=y.Provider,f=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n},g=function(e,t){var n,d=o.useContext(h),v=o.useContext(y),p=o.useContext(u.E_),m=p.getPrefixCls,g=p.direction,x=o.useRef(),Z=(0,r.sQ)(t,x),b=(0,o.useContext)(c.aM).isFormItemInput,j=e.prefixCls,C=e.className,k=e.children,w=e.style,_=f(e,["prefixCls","className","children","style"]),S=m("radio",j),M="button"===((null===d||void 0===d?void 0:d.optionType)||v)?"".concat(S,"-button"):S,D=(0,a.Z)({},_);d&&(D.name=d.name,D.onChange=function(t){var n,l;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(l=null===d||void 0===d?void 0:d.onChange)||void 0===l||l.call(d,t)},D.checked=e.value===d.value,D.disabled=e.disabled||d.disabled);var O=s()("".concat(M,"-wrapper"),(n={},(0,l.Z)(n,"".concat(M,"-wrapper-checked"),D.checked),(0,l.Z)(n,"".concat(M,"-wrapper-disabled"),D.disabled),(0,l.Z)(n,"".concat(M,"-wrapper-rtl"),"rtl"===g),(0,l.Z)(n,"".concat(M,"-wrapper-in-form-item"),b),n),C);return o.createElement("label",{className:O,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(i.Z,(0,a.Z)({},D,{type:"radio",prefixCls:M,ref:Z})),void 0!==k?o.createElement("span",null,k):null)},x=o.forwardRef(g);x.displayName="Radio";const Z=x;var b=n(29439),j=n(10288),C=n(21631),k=n(81176),w=o.forwardRef((function(e,t){var n=o.useContext(u.E_),i=n.getPrefixCls,d=n.direction,r=o.useContext(C.Z),c=(0,j.Z)(e.defaultValue,{value:e.value}),v=(0,b.Z)(c,2),h=v[0],y=v[1];return o.createElement(p,{value:{onChange:function(t){var n=h,l=t.target.value;"value"in e||y(l);var a=e.onChange;a&&l!==n&&a(t)},value:h,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var n,c=e.prefixCls,u=e.className,v=void 0===u?"":u,p=e.options,y=e.buttonStyle,m=void 0===y?"outline":y,f=e.disabled,g=e.children,x=e.size,b=e.style,j=e.id,C=e.onMouseEnter,w=e.onMouseLeave,_=i("radio",c),S="".concat(_,"-group"),M=g;p&&p.length>0&&(M=p.map((function(e){return"string"===typeof e||"number"===typeof e?o.createElement(Z,{key:e.toString(),prefixCls:_,disabled:f,value:e,checked:h===e},e):o.createElement(Z,{key:"radio-group-value-options-".concat(e.value),prefixCls:_,disabled:e.disabled||f,value:e.value,checked:h===e.value,style:e.style},e.label)})));var D=x||r,O=s()(S,"".concat(S,"-").concat(m),(n={},(0,l.Z)(n,"".concat(S,"-").concat(D),D),(0,l.Z)(n,"".concat(S,"-rtl"),"rtl"===d),n),v);return o.createElement("div",(0,a.Z)({},(0,k.Z)(e),{className:O,style:b,onMouseEnter:C,onMouseLeave:w,id:j,ref:t}),M)}())}));const _=o.memo(w);var S=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n},M=function(e,t){var n=o.useContext(u.E_).getPrefixCls,l=e.prefixCls,i=S(e,["prefixCls"]),d=n("radio",l);return o.createElement(m,{value:"button"},o.createElement(Z,(0,a.Z)({prefixCls:d},i,{type:"radio",ref:t})))};const D=o.forwardRef(M);var O=Z;O.Button=D,O.Group=_;const P=O},56482:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(87462),a=n(4942),o=n(45987),i=n(1413),d=n(15671),s=n(43144),r=n(60136),c=n(54062),u=n(47313),v=n(46123),p=n.n(v),h=function(e){(0,r.Z)(n,e);var t=(0,c.Z)(n);function n(e){var l;(0,d.Z)(this,n),(l=t.call(this,e)).handleChange=function(e){var t=l.props,n=t.disabled,a=t.onChange;n||("checked"in l.props||l.setState({checked:e.target.checked}),a&&a({target:(0,i.Z)((0,i.Z)({},l.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},l.saveInput=function(e){l.input=e};var a="checked"in e?e.checked:e.defaultChecked;return l.state={checked:a},l}return(0,s.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,d=t.style,s=t.name,r=t.id,c=t.type,v=t.disabled,h=t.readOnly,y=t.tabIndex,m=t.onClick,f=t.onFocus,g=t.onBlur,x=t.onKeyDown,Z=t.onKeyPress,b=t.onKeyUp,j=t.autoFocus,C=t.value,k=t.required,w=(0,o.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),S=this.state.checked,M=p()(n,i,(e={},(0,a.Z)(e,"".concat(n,"-checked"),S),(0,a.Z)(e,"".concat(n,"-disabled"),v),e));return u.createElement("span",{className:M,style:d},u.createElement("input",(0,l.Z)({name:s,id:r,type:c,required:k,readOnly:h,disabled:v,tabIndex:y,className:"".concat(n,"-input"),checked:!!S,onClick:m,onFocus:f,onBlur:g,onKeyUp:b,onKeyDown:x,onKeyPress:Z,onChange:this.handleChange,autoFocus:j,ref:this.saveInput,value:C},_)),u.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.Z)((0,i.Z)({},t),{},{checked:e.checked}):null}}]),n}(u.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const y=h}}]);