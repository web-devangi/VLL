"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4741],{4014:function(e,s,i){function l(e){var s,i,l=null===e||void 0===e?void 0:e.slice(0,1),n=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,n-1);d=null===(s=d)||void 0===s?void 0:s.replace(/./g,"*");var r=null===e||void 0===e?void 0:e.slice(n-1,e.length);return null===l||void 0===l||null===(i=l.concat(d))||void 0===i?void 0:i.concat(r)}i.d(s,{Z:function(){return l}})},84017:function(e,s,i){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===i?"".concat(l," ").concat(s):"".concat(s," ").concat(l)}i.d(s,{Z:function(){return l}})},24741:function(e,s,i){i.r(s),i.d(s,{default:function(){return C}});var l=i(29439),n=i(47313),d=i(45705),r=i(66204),o=i(26824),a=i(77181),t=i(68197),c=i(59624),u=i(56140),v=i(14133),x=i(83999),m=i(72652),j=i(78508),h=i(45334),p=i(41068),f=i(89720),Z=i(97890),y=i(19742),N=i(2717),b=i(90954),g=i(24511),_=i(84017),w=i(32916),k=i(5958),z=i(58821),Y=i(22539),B=i(70816),I=i.n(B),q=i(45464),D=i(4014),M=i(79492),T=i(46417);function C(){var e,s,i,B,C,A,F,S,U,G,H,$,J,O,Q,E,K,L,P,R,V,W,X,ee,se,ie,le,ne,de=(0,N.v9)((function(e){return e.menu}),N.wU).activeMenu,re=(0,M.Z)().isDemo,oe=(0,N.v9)((function(e){return e.currency}),N.wU).defaultCurrency,ae=de.data,te=(0,g.$)().t,ce=(0,Z.UO)().id,ue=(0,N.I0)(),ve=(0,n.useState)(!1),xe=(0,l.Z)(ve,2),me=xe[0],je=xe[1],he=(0,N.v9)((function(e){return e.orderStatus}),N.wU).statusList,pe=[{title:te("id"),dataIndex:"id",key:"id",render:function(e,s){var i;return null===(i=s.stock)||void 0===i?void 0:i.id}},{title:te("product.name"),dataIndex:"product",key:"product",render:function(e,s){var i,l,n,o,a;return(0,T.jsxs)(d.Z,{direction:"vertical",className:"relative",children:[null===(i=s.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.title,null===(o=s.stock)||void 0===o||null===(a=o.extras)||void 0===a?void 0:a.map((function(e){var s,i,l;return(0,T.jsxs)(r.Z,{children:[null===(s=e.group)||void 0===s||null===(i=s.translation)||void 0===i?void 0:i.title,": ",null===(l=e.value)||void 0===l?void 0:l.value]},null===e||void 0===e?void 0:e.id)}))]})}},{title:te("image"),dataIndex:"img",key:"img",render:function(e,s){var i,l;return(0,T.jsx)(o.Z,{src:(0,q.Z)(null===(i=s.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:te("quantity"),dataIndex:"quantity",key:"quantity",render:function(e){return(0,T.jsx)("span",{children:e})}},{title:te("discount"),dataIndex:"discount",key:"discount",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,_.Z)(e,null===oe||void 0===oe?void 0:oe.symbol)}},{title:te("tax"),dataIndex:"tax",key:"tax",render:function(e){return(0,_.Z)(e,null===oe||void 0===oe?void 0:oe.symbol)}},{title:te("total.price"),dataIndex:"total_price",key:"total_price",render:function(e,s){return(0,_.Z)(e,null===oe||void 0===oe?void 0:oe.symbol)}}];return(0,n.useEffect)((function(){de.refetch&&(je(!0),y.Z.getById(ce).then((function(e){var s=e.data;ue((0,b.nc)({activeMenu:de,data:s}))})).finally((function(){je(!1),ue((0,b.A_)(de))})))}),[de.refetch]),(0,T.jsxs)("div",{className:"order_details",children:[(0,T.jsx)(a.Z,{className:"order-details-info",title:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w.Qyq,{className:"mr-2 icon"}),"".concat(te("order")," ").concat(null!==ae&&void 0!==ae&&ae.id?"#".concat(null===ae||void 0===ae?void 0:ae.id," "):"")," ",te("from.order")," ",null===ae||void 0===ae||null===(e=ae.user)||void 0===e?void 0:e.firstname," ",(null===ae||void 0===ae||null===(s=ae.user)||void 0===s?void 0:s.lastname)||""]})}),(0,T.jsxs)(t.Z,{gutter:24,children:[(0,T.jsx)(c.Z,{span:24,children:(0,T.jsx)(a.Z,{children:(0,T.jsxs)(d.Z,{className:"justify-content-between w-100",children:[(0,T.jsxs)(d.Z,{className:"align-items-start",children:[(0,T.jsx)(f.Z,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(u.Z.Text,{children:te("delivery.date")}),me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsxs)(u.Z.Text,{className:"order-card-title",children:[null===ae||void 0===ae?void 0:ae.delivery_date," ",null===ae||void 0===ae?void 0:ae.delivery_time]})]})]}),(0,T.jsxs)(d.Z,{className:"align-items-start",children:[(0,T.jsx)(k.iFN,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(u.Z.Text,{children:te("total.price")}),me?(0,T.jsx)(v.Z.Button,{size:16,loading:me}):(0,T.jsx)(u.Z.Text,{className:"order-card-title",children:(0,_.Z)(null===ae||void 0===ae?void 0:ae.total_price,null===oe||void 0===oe?void 0:oe.symbol)})]})]}),(0,T.jsxs)(d.Z,{className:"align-items-start",children:[(0,T.jsx)(k.Dij,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(u.Z.Text,{children:te("messages")}),me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsx)(u.Z.Text,{className:"order-card-title",children:null!==ae&&void 0!==ae&&ae.review?1:0})]})]}),(0,T.jsxs)(d.Z,{className:"align-items-start",children:[(0,T.jsx)(w.Qyq,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(u.Z.Text,{children:te("products")}),me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsx)(u.Z.Text,{className:"order-card-title",children:null===ae||void 0===ae||null===(i=ae.details)||void 0===i?void 0:i.reduce((function(e,s){return e+s.quantity}),0)})]})]})]})})}),"canceled"!==(null===ae||void 0===ae?void 0:ae.status)&&(0,T.jsx)(c.Z,{span:24,children:(0,T.jsx)(a.Z,{children:(0,T.jsx)(x.Z,{current:null===he||void 0===he?void 0:he.findIndex((function(e){return e.name===(null===ae||void 0===ae?void 0:ae.status)})),children:null===he||void 0===he?void 0:he.slice(0,-1).map((function(e){return(0,T.jsx)(x.Z.Step,{title:te(e.name)},e.id)}))})})}),(0,T.jsxs)(c.Z,{span:16,children:[(0,T.jsx)(m.Z,{spinning:me,children:(0,T.jsx)(a.Z,{style:{minHeight:"200px"},children:(0,T.jsxs)(t.Z,{hidden:me,className:"mb-3 order_detail",children:[(0,T.jsxs)(c.Z,{span:12,children:[(0,T.jsxs)("div",{children:[te("created.date.&.time"),":",(0,T.jsxs)("span",{className:"ml-2",children:[(0,T.jsx)(z.yoA,{className:"mr-1"})," ",I()(null===ae||void 0===ae?void 0:ae.created_at).format("YYYY-MM-DD hh:mm")," "]})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("delivery.date.&.time"),":",(0,T.jsxs)("span",{className:"ml-2",children:[(0,T.jsx)(z.yoA,{className:"mr-1"})," ",null===ae||void 0===ae?void 0:ae.delivery_date," ",null===ae||void 0===ae?void 0:ae.delivery_time]})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("payment.status"),":",(0,T.jsx)("span",{className:"ml-2",children:te(null===ae||void 0===ae||null===(B=ae.transaction)||void 0===B?void 0:B.status)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("house"),":",(0,T.jsx)("span",{className:"ml-2",children:te(null===ae||void 0===ae||null===(C=ae.address)||void 0===C?void 0:C.house)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("floor"),":",(0,T.jsx)("span",{className:"ml-2",children:te(null===ae||void 0===ae||null===(A=ae.address)||void 0===A?void 0:A.floor)})]})]}),(0,T.jsxs)(c.Z,{span:12,children:[(0,T.jsxs)("div",{children:[te("status"),":",(0,T.jsx)("span",{className:"ml-2",children:"new"===(null===ae||void 0===ae?void 0:ae.status)?(0,T.jsx)(r.Z,{color:"blue",children:te(null===ae||void 0===ae?void 0:ae.status)}):"canceled"===(null===ae||void 0===ae?void 0:ae.status)?(0,T.jsx)(r.Z,{color:"error",children:te(null===ae||void 0===ae?void 0:ae.status)}):(0,T.jsx)(r.Z,{color:"cyan",children:te(null===ae||void 0===ae?void 0:ae.status)})})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("delivery.type"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ae||void 0===ae?void 0:ae.delivery_type})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("payment.type"),":",(0,T.jsx)("span",{className:"ml-2",children:te(null===ae||void 0===ae||null===(F=ae.transaction)||void 0===F||null===(S=F.payment_system)||void 0===S?void 0:S.tag)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("address"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ae||void 0===ae||null===(U=ae.address)||void 0===U?void 0:U.address})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[te("office"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ae||void 0===ae||null===(G=ae.address)||void 0===G?void 0:G.office})]}),(0,T.jsx)("br",{})]})]})})}),(0,T.jsxs)(a.Z,{className:"w-100 order-table",children:[(0,T.jsx)(j.Z,{scroll:{x:!0},columns:pe,dataSource:(null===(H=de.data)||void 0===H?void 0:H.details)||[],loading:me,rowKey:function(e){return e.id},pagination:!1}),(0,T.jsxs)(d.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)("span",{children:[te("delivery.fee"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[te("order.tax"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[te("product"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[te("coupon"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[te("discount"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("h3",{children:[te("total.price"),":"]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{children:(0,_.Z)(null!==($=null===ae||void 0===ae?void 0:ae.delivery_fee)&&void 0!==$?$:0,null===oe||void 0===oe?void 0:oe.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,_.Z)(null===ae||void 0===ae?void 0:ae.total_tax,null===oe||void 0===oe?void 0:oe.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,_.Z)(null===ae||void 0===ae?void 0:ae.origin_price,null===oe||void 0===oe?void 0:oe.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,_.Z)(null===ae||void 0===ae||null===(J=ae.coupon)||void 0===J?void 0:J.price,null===oe||void 0===oe?void 0:oe.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,_.Z)(null===ae||void 0===ae?void 0:ae.total_discount,oe.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("h3",{children:(0,_.Z)(null===ae||void 0===ae?void 0:ae.total_price,oe.symbol)})]})]})]})]}),(0,T.jsxs)(c.Z,{span:8,className:"order_info",children:["ready"===(null===ae||void 0===ae?void 0:ae.status)&&"pickup"!==(null===ae||void 0===ae?void 0:ae.delivery_type)&&(0,T.jsx)(a.Z,{title:te("deliveryman"),children:(null===ae||void 0===ae?void 0:ae.deliveryman)&&(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(h.C,{shape:"square",size:64,src:null===ae||void 0===ae||null===(O=ae.deliveryman)||void 0===O?void 0:O.img}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("h5",{children:[null===ae||void 0===ae||null===(Q=ae.deliveryman)||void 0===Q?void 0:Q.firstname," ",(null===ae||void 0===ae||null===(E=ae.deliveryman)||void 0===E?void 0:E.lastname)||""]}),(0,T.jsxs)("span",{className:"delivery-info",children:[(0,T.jsx)(z.lfG,{}),null===ae||void 0===ae||null===(K=ae.deliveryman)||void 0===K?void 0:K.phone]}),(0,T.jsxs)("div",{className:"delivery-info",children:[(0,T.jsx)("b",{children:(0,T.jsx)(Y.ixJ,{size:16})}),(0,T.jsx)("span",{children:re?(0,D.Z)(null===ae||void 0===ae||null===(L=ae.deliveryman)||void 0===L?void 0:L.email):null===ae||void 0===ae||null===(P=ae.deliveryman)||void 0===P?void 0:P.email})]})]})]})}),!(null===ae||void 0===ae||!ae.username)&&(0,T.jsxs)(a.Z,{title:te("order.receiver"),children:[(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("name")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(z.HHm,{}),null===ae||void 0===ae?void 0:ae.username]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("phone")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(z.lfG,{}),null===ae||void 0===ae?void 0:ae.phone]})]})]}),(0,T.jsx)(a.Z,{children:(0,T.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[me?(0,T.jsx)(v.Z.Avatar,{size:64,shape:"square"}):(0,T.jsx)(h.C,{shape:"square",size:64,src:null===ae||void 0===ae||null===(R=ae.user)||void 0===R?void 0:R.img}),(0,T.jsx)("h5",{className:"customer-name",children:me?(0,T.jsx)(v.Z.Button,{size:20,style:{width:70}}):(null===ae||void 0===ae||null===(V=ae.user)||void 0===V?void 0:V.firstname)+" "+((null===ae||void 0===ae||null===(W=ae.user)||void 0===W?void 0:W.lastname)||"")}),(0,T.jsxs)("div",{className:"customer-info-detail",children:[(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("phone")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(z.lfG,{}),me?(0,T.jsx)(v.Z.Button,{size:16}):(null===ae||void 0===ae||null===(X=ae.user)||void 0===X?void 0:X.phone)||"none"]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("email")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(Y.ixJ,{}),me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsx)(T.Fragment,{children:re?(0,D.Z)(null===ae||void 0===ae||null===(ee=ae.user)||void 0===ee?void 0:ee.email):null===ae||void 0===ae||null===(se=ae.user)||void 0===se?void 0:se.email})]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("registration.date")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(z.yoA,{}),me?(0,T.jsx)(v.Z.Button,{size:16}):I()(null===ae||void 0===ae||null===(ie=ae.user)||void 0===ie?void 0:ie.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("orders.count")}),(0,T.jsx)("span",{className:"description",children:me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsx)(p.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===ae||void 0===ae||null===(le=ae.user)||void 0===le?void 0:le.orders_count)||0})})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:te("spent.since.registration")}),(0,T.jsx)("span",{className:"description",children:me?(0,T.jsx)(v.Z.Button,{size:16}):(0,T.jsx)(p.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,_.Z)(null===ae||void 0===ae||null===(ne=ae.user)||void 0===ne?void 0:ne.orders_sum_price,oe.symbol)})})]})]})]})}),(null===ae||void 0===ae?void 0:ae.review)&&!me&&(0,T.jsx)(a.Z,{title:te("messages"),children:(0,T.jsxs)("div",{className:"order-message",children:[(0,T.jsx)("span",{className:"message",children:null===ae||void 0===ae?void 0:ae.review.comment}),(0,T.jsx)(d.Z,{className:"w-100 justify-content-end",children:(0,T.jsx)("span",{className:"date",children:I()(null===ae||void 0===ae?void 0:ae.review.created_at).format("YYYY-MM-DD hh:mm")})})]})})]})]})]})}}}]);