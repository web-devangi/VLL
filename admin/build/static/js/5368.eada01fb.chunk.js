(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5368],{13944:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var r=i(47313),l=i(77181),n=i(58446),o=i(27834),s=i(33533),a=i(46417);const d={position:"absolute",zIndex:"1"},c={position:"absolute",zIndex:"1",right:"0",top:"-2px"},u=e=>{let{title:t,series:i,width:u,height:p,xAxis:h,customOptions:x,card:v,type:g,extra:f,direction:m,bodyClass:y}=e,j=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return s.jd;case"bar":return s.B0;case"area":return s.fT;case"pie":return s.LB}})(g)));const Z=window.innerWidth<768,b=()=>{if(_.current){var e;const t=_.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(Z?0:null===(e=w.current)||void 0===e?void 0:e.offsetWidth,"px"),"rtl"===m&&(t.style.right="auto",t.style.left="0"),Z&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,r.useEffect)((()=>{b()}),[]);const w=(0,r.useRef)(null),_=(0,r.useRef)();j.xaxis={categories:h},x&&(j={...j,...x});const z=()=>(0,a.jsx)(o.ZP,{onResize:void setTimeout((()=>{b()}),600),children:(0,a.jsx)("div",{style:"rtl"===m?{direction:"ltr"}:{},className:"chartRef",ref:_,children:(0,a.jsx)(n.Z,{options:j,type:g,series:i,width:u,height:p})})});return(0,a.jsx)(a.Fragment,{children:v?(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"position-relative ".concat(y),children:[(0,a.jsx)("div",{style:Z?{}:d,children:t})&&(0,a.jsx)("h4",{className:"font-weight-bold",style:Z?{}:d,children:t}),f&&(0,a.jsx)("div",{ref:w,style:Z?{}:c,children:f}),z()]})}):z()})};u.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const p=u},33533:(e,t,i)=>{"use strict";i.d(t,{B0:()=>o,DM:()=>r,LB:()=>s,fT:()=>n,jd:()=>l});const r=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],l={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...r],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},n={...l},o={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...r],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>"".concat(e)}}},s={colors:[...r],plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce(((e,t)=>e+t),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},84017:(e,t,i)=>{"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const r=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===i?"".concat(r," ").concat(t):"".concat(t," ").concat(r)}i.d(t,{Z:()=>r})},57878:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>R});var r=i(56140),l=i(99096),n=i(72652),o=i(68197),s=i(59624),a=i(45705),d=i(46155),c=i(77181),u=i(74294),p=i(78508),h=i(47313),x=i(13944),v=i(16034),g=i(88038),f=i(2717),m=i(97890),y=i(29466),j=i(74776),Z=i.n(j),b=i(93131),w=i(41591),_=i(90954),z=i(80314),C=i(70816),k=i.n(C),S=i(84017),T=i(24511),N=i(46417);const{Text:O,Title:q}=r.Z,{RangePicker:I}=l.Z,R=()=>{var e,t,i,r,l,j,C,R,L,P;const{t:A}=(0,T.$)(),B=(0,m.TH)(),M=Z().parse(B.search,[])["?category_id"],D=Z().parse(B.search,[])["?product_id"],{date_from:F,date_to:E,by_time:H,chart:U,handleDateRange:W,options:V,handleByTime:Y,chart_type:$,setChartType:G}=(0,h.useContext)(b.G),{loading:J,carts:K,products:Q,categories:X}=(0,f.v9)((e=>e.overviewReport),f.wU),{defaultCurrency:ee}=(0,f.v9)((e=>e.currency),f.wU),{activeMenu:te}=(0,f.v9)((e=>e.menu),f.wU),ie=(0,f.I0)(),re=[{title:A("title"),dataIndex:"title",key:"title",render:e=>(e=>{const t=null===e||void 0===e?void 0:e.split(", ");return(0,N.jsx)("div",{style:{display:"flex",rowGap:"10px",flexDirection:"column"},children:null===t||void 0===t?void 0:t.map(((e,t)=>"#"===(null===e||void 0===e?void 0:e[0])?(0,N.jsx)("span",{style:{display:"block",width:"15px",height:"15px",borderRadius:"50%",backgroundColor:null===e||void 0===e?void 0:e.trim()}}):e))})})(e)},{title:A("item.sold"),dataIndex:"quantity",key:"quantity"},{title:A("net.sales"),dataIndex:"total_price",key:"total_price",render:e=>(0,S.Z)(e,null===ee||void 0===ee?void 0:ee.symbol)},{title:A("orders"),dataIndex:"count",key:"count"}],le=[{title:"Total sales",qty:"delivered_sum",percent:"5",price:!0},{title:"Orders",qty:"count",percent:"5",price:!1},{title:"Canceled orders price",qty:"canceled_sum",percent:"5",price:!0},{title:"Total tax",qty:"tax",percent:"5",price:!0},{title:"Delivered avg",qty:"delivered_avg",percent:"5",price:!0},{title:"Delivery fee",qty:"delivery_fee",percent:"5",price:!0}],ne=(e,t)=>{const i={date_from:F,date_to:E,type:H,page:e,perPage:t};ie((0,w.kk)(i))},oe=(e,t)=>{const i={date_from:F,date_to:E,type:H,page:e,perPage:t};ie((0,w.E7)(i))},se=(e,t)=>{const i={date_from:F,date_to:E,type:H,page:e,perPage:t};M&&(i.categories=[M]),D&&(i.products=[D]),ie((0,w.Y7)(i))};return(0,h.useEffect)((()=>{te.refetch&&(se(),ne(),oe(),ie((0,_.A_)(te)))}),[te.refetch]),(0,z.Z)((()=>{se()}),[E,H,U,M,D,F]),(0,z.Z)((()=>{ne()}),[E,H,F]),(0,z.Z)((()=>{oe()}),[E,H,F]),(0,N.jsxs)(n.Z,{size:"large",spinning:J,children:[(0,N.jsx)(o.Z,{gutter:24,className:"mb-4",children:(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(a.Z,{size:"large",children:(0,N.jsx)(I,{defaultValue:[k()(F),k()(E)],onChange:W})})})}),(0,N.jsx)(d.Z,{orientation:"left",children:"Performance"}),(0,N.jsx)(o.Z,{gutter:24,children:null===le||void 0===le?void 0:le.map(((e,t)=>(0,N.jsx)(s.Z,{span:6,children:(0,N.jsx)(y.rU,{to:"/report/revenue",children:(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(o.Z,{className:"mb-5",children:(0,N.jsx)(s.Z,{children:(0,N.jsx)(O,{children:e.title})})}),(0,N.jsx)(o.Z,{gutter:24,children:(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(q,{level:2,children:e.price?(0,S.Z)(K[e.qty],null===ee||void 0===ee?void 0:ee.symbol):K[e.qty]})})})]})},e.title)})))}),(0,N.jsxs)(o.Z,{gutter:24,className:"mb-2",children:[(0,N.jsx)(s.Z,{span:20,children:(0,N.jsx)(d.Z,{orientation:"left",children:"Charts"})}),(0,N.jsx)(s.Z,{span:4,children:(0,N.jsxs)("div",{className:"d-flex",children:[(0,N.jsx)(u.Z,{style:{width:100},onChange:Y,options:V,defaultValue:H}),(0,N.jsx)(d.Z,{type:"vertical",style:{height:"100%"}}),(0,N.jsxs)(a.Z,{children:[(0,N.jsx)(v.Z,{style:{fontSize:"22px",cursor:"pointer",color:"line"===$?"green":""},onClick:()=>G("line")}),(0,N.jsx)(g.Z,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===$?"green":""},onClick:()=>G("bar")})]})]})})]}),(0,N.jsxs)(o.Z,{gutter:24,children:[(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(c.Z,{title:"Net Sales",children:(0,N.jsx)(x.Z,{type:$,series:[{name:"Orders",data:null===K||void 0===K||null===(e=K.chart_price)||void 0===e?void 0:e.map((e=>e.delivered_sum))}],xAxis:null===K||void 0===K||null===(t=K.chart_price)||void 0===t?void 0:t.map((e=>e.time))})})}),(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(c.Z,{title:"Orders",children:(0,N.jsx)(x.Z,{type:$,series:[{name:"Orders",data:null===K||void 0===K||null===(i=K.chart_count)||void 0===i?void 0:i.map((e=>e.count))}],xAxis:null===K||void 0===K||null===(r=K.chart_price)||void 0===r?void 0:r.map((e=>e.time))})})})]}),(0,N.jsx)(d.Z,{orientation:"left",children:"Leaderboards"}),(0,N.jsxs)(o.Z,{gutter:24,children:[(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(c.Z,{title:"Top categories",children:(0,N.jsx)(p.Z,{scroll:{x:!0},onChange:e=>{const{pageSize:t,current:i}=e;ne(i,t)},pagination:{pageSize:null===X||void 0===X||null===(l=X.meta)||void 0===l?void 0:l.per_page,page:(null===X||void 0===X||null===(j=X.meta)||void 0===j?void 0:j.current_page)||1,total:null===X||void 0===X||null===(C=X.meta)||void 0===C?void 0:C.total,defaultCurrent:1},columns:re,dataSource:null===X||void 0===X?void 0:X.data})})}),(0,N.jsx)(s.Z,{span:12,children:(0,N.jsx)(c.Z,{title:"Top products",children:(0,N.jsx)(p.Z,{scroll:{x:!0},onChange:e=>{const{pageSize:t,current:i}=e;ne(i,t)},pagination:{pageSize:null===Q||void 0===Q||null===(R=Q.meta)||void 0===R?void 0:R.per_page,page:(null===Q||void 0===Q||null===(L=Q.meta)||void 0===L?void 0:L.current_page)||1,total:null===Q||void 0===Q||null===(P=Q.meta)||void 0===P?void 0:P.total,defaultCurrent:1},columns:re,dataSource:null===Q||void 0===Q?void 0:Q.data})})})]})]})}},16034:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(1413),l=i(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"};var o=i(17469),s=function(e,t){return l.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:n}))};s.displayName="LineChartOutlined";const a=l.forwardRef(s)},24654:()=>{}}]);