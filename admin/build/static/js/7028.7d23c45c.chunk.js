"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7028],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),a=t(45987),o=(t(47313),t(59491)),l=t(47515),i=t(23560),c=t(24511),u=t(79492),s=t(46417),d=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,p=void 0===f?"default":f,h=(0,a.Z)(e,d),m=(0,c.$)().t,x=(0,u.Z)().isDemo;return(0,s.jsx)(o.Z,(0,r.Z)({size:t,icon:(0,s.jsx)(l.Z,{}),onClick:function(e){x?i.Am.warning(m("cannot.work.demo")):v(e)},type:p},h))}},53233:function(e,n,t){var r=t(1413),a=t(29439),o=t(47313),l=t(56140),i=t(67251),c=t(45705),u=t(86345),s=t(78267),d=t(37388),v=t(59491),f=t(99587),p=t(24511),h=t(46417),m=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,x=e.style,Z=e.size,y=void 0===Z?"":Z,g=e.iconOnly,C=(0,p.$)().t,w=(0,o.useState)(!1),b=(0,a.Z)(w,2),j=b[0],k=b[1],_=(0,h.jsx)(i.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,h.jsx)(i.Z.Item,{children:(0,h.jsxs)(c.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,h.jsx)(s.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:j,children:(0,h.jsx)(d.Z,{title:C("change.columns"),children:(0,h.jsx)(v.Z,{style:(0,r.Z)({},x),size:y,icon:(0,h.jsx)(f.Z,{}),children:g?null:C("Columns")})})})}},13945:function(e,n,t){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return r}})},67028:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(4942),a=t(93433),o=t(1413),l=t(29439),i=t(47313),c=t(31741),u=t(47515),s=t(55613),d=t(45705),v=t(59491),f=t(77181),p=t(78508),h=t(23560),m=t(69658),x=t(74580),Z=t(2717),y=t(90954),g=t(80314),C=t(13945),w=t(24511),b=t(94765),j=t(28835),k=t(70816),_=t.n(k),V=t(97890),H=t(55940),I=t(53233),S=t(9274),z=t(83371),D=t(51282),E=t(46417);function M(e){var n,t,r,a,o,c,u,s,d,f=e.id,p=e.handleCancel,h=(0,i.useState)({}),m=(0,l.Z)(h,2),x=m[0],Z=m[1],y=(0,i.useState)(!1),g=(0,l.Z)(y,2),C=g[0],j=g[1],k=(0,w.$)().t;return(0,i.useEffect)((function(){!function(e){j(!0),b.Z.getById(e).then((function(e){return Z(e.data)})).finally((function(){return j(!1)}))}(f)}),[f]),(0,E.jsx)(S.Z,{visible:!!f,title:k("order.review"),onCancel:p,footer:(0,E.jsx)(v.Z,{type:"default",onClick:p,children:k("cancel")}),children:C?(0,E.jsx)(D.Z,{}):(0,E.jsxs)(z.Z,{bordered:!0,children:[(0,E.jsx)(z.Z.Item,{span:3,label:k("id"),children:x.id}),(0,E.jsxs)(z.Z.Item,{span:3,label:k("user"),children:[null===x||void 0===x||null===(n=x.parcel_order)||void 0===n?void 0:n.username_from," ",(0,E.jsx)("a",{href:"tel:".concat(null===x||void 0===x||null===(t=x.parcel_order)||void 0===t?void 0:t.phone_from),children:null===x||void 0===x||null===(r=x.parcel_order)||void 0===r?void 0:r.phone_from})]}),(0,E.jsxs)(z.Z.Item,{span:3,label:k("receiver"),children:[null===x||void 0===x||null===(a=x.parcel_order)||void 0===a?void 0:a.username_to," ",(0,E.jsxs)("a",{href:"tel:".concat(null===x||void 0===x||null===(o=x.parcel_order)||void 0===o?void 0:o.phone_to),children:[null===x||void 0===x||null===(c=x.parcel_order)||void 0===c?void 0:c.phone_to," "]})]}),(0,E.jsxs)(z.Z.Item,{span:3,label:k("deliveryman"),children:[null===(u=x.deliveryman)||void 0===u?void 0:u.firstname," ",(null===(s=x.deliveryman)||void 0===s?void 0:s.lastname)||""]}),(0,E.jsx)(z.Z.Item,{span:3,label:k("rating"),children:x.rating}),(0,E.jsx)(z.Z.Item,{span:3,label:k("comment"),children:x.comment}),(0,E.jsx)(z.Z.Item,{span:3,label:k("parcel.order.id"),children:null===x||void 0===x||null===(d=x.parcel_order)||void 0===d?void 0:d.id}),(0,E.jsx)(z.Z.Item,{span:3,label:k("created.at"),children:x.created_at})]})})}function O(){var e=(0,w.$)().t,n=(0,Z.I0)(),t=(0,V.s0)(),k=function(r){n((0,y.bL)({url:"/users/user/".concat(r.uuid),id:"user_info",name:e("user.info")})),t("/users/user/".concat(r.uuid),{state:{user_id:r.id}})},S=(0,i.useState)([{title:e("order.id"),dataIndex:"parcel_order",key:"parcel_order",render:function(r){return(0,E.jsxs)("div",{className:"text-hover",onClick:function(){return function(r){n((0,y.bL)({id:"order_details",url:"order/details/".concat(r),name:e("order.details")})),t("/order/details/".concat(r))}(r.id)},children:["#",r.id]})},sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:function(e){return(0,E.jsxs)("div",{className:"text-hover",onClick:function(){return k(e)},children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:function(e){return(0,E.jsxs)("div",{className:"text-hover",onClick:function(){return k(e)},children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:function(e){return(0,E.jsx)(s.Z,{disabled:!0,defaultValue:e})}},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return _()(e).format("DD.MM.YYYY")}},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(v.Z,{type:"primary",icon:(0,E.jsx)(c.Z,{}),onClick:function(){return A(n.id)}}),(0,E.jsx)(H.Z,{icon:(0,E.jsx)(u.Z,{}),onClick:function(){P([n.id]),R(!0),J(!0)}})]})}}]),z=(0,l.Z)(S,2),D=z[0],O=z[1],R=(0,i.useContext)(x._).setIsModalVisible,L=(0,i.useState)(null),N=(0,l.Z)(L,2),T=N[0],P=N[1],F=(0,i.useState)(null),B=(0,l.Z)(F,2),K=B[0],A=B[1],Y=(0,i.useState)(!1),$=(0,l.Z)(Y,2),X=$[0],G=$[1],U=(0,i.useState)(null),W=(0,l.Z)(U,2),q=W[0],J=W[1],Q=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,ee=(0,Z.v9)((function(e){return e.parcelReview}),Z.wU),ne=ee.reviews,te=ee.meta,re=ee.loading,ae=ee.params;console.log("reviews => ",ne);(0,i.useEffect)((function(){Q.refetch&&(n((0,j.T)()),n((0,y.A_)(Q)))}),[Q.refetch]),(0,g.Z)((function(){var e=Q.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,j.T)(t))}),[Q.data]);var oe={id:T,onChange:function(e){P(e)}};return(0,E.jsxs)(f.Z,{title:e("parcel.reviews"),extra:(0,E.jsxs)(d.Z,{wrap:!0,children:[(0,E.jsx)(H.Z,{size:"",onClick:function(){null===T||0===T.length?h.Am.warning(e("select.the.product")):(R(!0),J(!1))},children:e("delete.selected")}),(0,E.jsx)(I.Z,{columns:D,setColumns:O})]}),children:[(0,E.jsx)(p.Z,{scroll:{x:!0},rowSelection:oe,columns:null===D||void 0===D?void 0:D.filter((function(e){return e.is_show})),dataSource:ne,pagination:{pageSize:ae.perPage,page:ae.page,total:te.total,defaultCurrent:ae.page},rowKey:function(e){return e.id},onChange:function(e,t,r){var a=e.pageSize,o=e.current,l=r.field,i=r.order,c=(0,C.Z)(i);n((0,y.nc)({activeMenu:Q,data:{perPage:a,page:o,column:l,sort:c}}))},loading:re}),(0,E.jsx)(m.Z,{click:function(){G(!0);var t=(0,o.Z)({},Object.assign.apply(Object,[{}].concat((0,a.Z)(T.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));b.Z.delete(t).then((function(){h.Am.success(e("successfully.deleted")),n((0,j.T)()),R(!1)})).finally((function(){return G(!1)}))},text:e(q?"delete":"all.delete"),setText:P,loading:X}),K&&(0,E.jsx)(M,{id:K,handleCancel:function(){return A(null)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(1413),a=t(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),i=function(e,n){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:o}))};i.displayName="TableOutlined";var c=a.forwardRef(i)},55613:function(e,n,t){t.d(n,{Z:function(){return V}});var r=t(87462),a=t(47313),o=t(1413),l=t(4942),i=t(15671),c=t(43144),u=t(60136),s=t(29388),d=t(53879),v=t(46123),f=t.n(v),p=t(49242);var h=function(e){(0,u.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).onHover=function(n){var t=e.props;(0,t.onHover)(n,t.index)},e.onClick=function(n){var t=e.props;(0,t.onClick)(n,t.index)},e.onKeyDown=function(n){var t=e.props,r=t.onClick,a=t.index;13===n.keyCode&&r(n,a)},e}return(0,c.Z)(t,[{key:"getClassName",value:function(){var e=this.props,n=e.prefixCls,t=e.index,r=e.value,a=e.allowHalf,o=e.focused,l=t+1,i=n;return 0===r&&0===t&&o?i+=" ".concat(n,"-focused"):a&&r+.5>=l&&r<l?(i+=" ".concat(n,"-half ").concat(n,"-active"),o&&(i+=" ".concat(n,"-focused"))):(i+=" ".concat(n,l<=r?"-full":"-zero"),l===r&&o&&(i+=" ".concat(n,"-focused"))),i}},{key:"render",value:function(){var e=this.onHover,n=this.onClick,t=this.onKeyDown,r=this.props,o=r.disabled,l=r.prefixCls,i=r.character,c=r.characterRender,u=r.index,s=r.count,d=r.value,v="function"===typeof i?i(this.props):i,f=a.createElement("li",{className:this.getClassName()},a.createElement("div",{onClick:o?null:n,onKeyDown:o?null:t,onMouseMove:o?null:e,role:"radio","aria-checked":d>u?"true":"false","aria-posinset":u+1,"aria-setsize":s,tabIndex:o?-1:0},a.createElement("div",{className:"".concat(l,"-first")},v),a.createElement("div",{className:"".concat(l,"-second")},v)));return c&&(f=c(f,this.props)),f}}]),t}(a.Component);function m(){}var x=function(e){(0,u.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).stars=void 0,r.rate=void 0,r.onHover=function(e,n){var t=r.props.onHoverChange,a=r.getStarValue(n,e.pageX);a!==r.state.cleanedValue&&r.setState({hoverValue:a,cleanedValue:null}),t(a)},r.onMouseLeave=function(){var e=r.props.onHoverChange;r.setState({hoverValue:void 0,cleanedValue:null}),e(void 0)},r.onClick=function(e,n){var t=r.props.allowClear,a=r.state.value,o=r.getStarValue(n,e.pageX),l=!1;t&&(l=o===a),r.onMouseLeave(),r.changeValue(l?0:o),r.setState({cleanedValue:l?o:null})},r.onFocus=function(){var e=r.props.onFocus;r.setState({focused:!0}),e&&e()},r.onBlur=function(){var e=r.props.onBlur;r.setState({focused:!1}),e&&e()},r.onKeyDown=function(e){var n=e.keyCode,t=r.props,a=t.count,o=t.allowHalf,l=t.onKeyDown,i="rtl"===t.direction,c=r.state.value;n===p.Z.RIGHT&&c<a&&!i?(c+=o?.5:1,r.changeValue(c),e.preventDefault()):n===p.Z.LEFT&&c>0&&!i||n===p.Z.RIGHT&&c>0&&i?(c-=o?.5:1,r.changeValue(c),e.preventDefault()):n===p.Z.LEFT&&c<a&&i&&(c+=o?.5:1,r.changeValue(c),e.preventDefault()),l&&l(e)},r.saveRef=function(e){return function(n){r.stars[e]=n}},r.saveRate=function(e){r.rate=e};var a=e.value;return void 0===a&&(a=e.defaultValue),r.stars={},r.state={value:a,focused:!1,cleanedValue:null},r}return(0,c.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.autoFocus,t=e.disabled;n&&!t&&this.focus()}},{key:"getStarDOM",value:function(e){return(0,d.Z)(this.stars[e])}},{key:"getStarValue",value:function(e,n){var t=this.props,r=t.allowHalf,a="rtl"===t.direction,o=e+1;if(r){var l=this.getStarDOM(e),i=function(e){var n=function(e){var n,t,r=e.ownerDocument,a=r.body,o=r&&r.documentElement,l=e.getBoundingClientRect();return n=l.left,t=l.top,{left:n-=o.clientLeft||a.clientLeft||0,top:t-=o.clientTop||a.clientTop||0}}(e),t=e.ownerDocument,r=t.defaultView||t.parentWindow;return n.left+=function(e){var n=e.pageXOffset,t="scrollLeft";if("number"!==typeof n){var r=e.document;"number"!==typeof(n=r.documentElement[t])&&(n=r.body[t])}return n}(r),n.left}(l),c=l.clientWidth;(a&&n-i>c/2||!a&&n-i<c/2)&&(o-=.5)}return o}},{key:"focus",value:function(){this.props.disabled||this.rate.focus()}},{key:"blur",value:function(){this.props.disabled||this.rate.blur()}},{key:"changeValue",value:function(e){var n=this.props.onChange;"value"in this.props||this.setState({value:e}),n(e)}},{key:"render",value:function(){for(var e=this.props,n=e.count,t=e.allowHalf,r=e.style,o=e.prefixCls,i=e.disabled,c=e.className,u=e.character,s=e.characterRender,d=e.tabIndex,v=e.direction,p=this.state,m=p.value,x=p.hoverValue,Z=p.focused,y=[],g=i?"".concat(o,"-disabled"):"",C=0;C<n;C+=1)y.push(a.createElement(h,{ref:this.saveRef(C),index:C,count:n,disabled:i,prefixCls:"".concat(o,"-star"),allowHalf:t,value:void 0===x?m:x,onClick:this.onClick,onHover:this.onHover,key:C,character:u,characterRender:s,focused:Z}));var w=f()(o,g,c,(0,l.Z)({},"".concat(o,"-rtl"),"rtl"===v));return a.createElement("ul",{className:w,style:r,onMouseLeave:i?null:this.onMouseLeave,tabIndex:i?-1:d,onFocus:i?null:this.onFocus,onBlur:i?null:this.onBlur,onKeyDown:i?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},y)}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"value"in e&&void 0!==e.value?(0,o.Z)((0,o.Z)({},n),{},{value:e.value}):n}}]),t}(a.Component);x.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:m,character:"\u2605",onHoverChange:m,tabIndex:0,direction:"ltr"};var Z=x,y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},g=t(17469),C=function(e,n){return a.createElement(g.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:y}))};C.displayName="StarFilled";var w=a.forwardRef(C),b=t(37388),j=t(91964),k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},_=a.forwardRef((function(e,n){var t=e.prefixCls,o=e.tooltips,l=k(e,["prefixCls","tooltips"]),i=a.useContext(j.E_),c=i.getPrefixCls,u=i.direction,s=c("rate",t);return a.createElement(Z,(0,r.Z)({ref:n,characterRender:function(e,n){var t=n.index;return o?a.createElement(b.Z,{title:o[t]},e):e}},l,{prefixCls:s,direction:u}))}));_.displayName="Rate",_.defaultProps={character:a.createElement(w,null)};var V=_}}]);