"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5961],{56814:(e,t,n)=>{n.d(t,{Z:()=>u});n(47313);var a=n(52838),l=n(19107),s=n(97421),i=n(2717),r=n(10976),o=n(74294),d=n(23885),c=n(46417);const u=e=>{let{value:t,setValue:n,setLocation:u}=e;const{placePredictions:m,getPlacePredictions:p,isPlacePredictionsLoading:v}=(0,a.Z)({apiKey:s.kr,libraries:["places","geocode"]}),{defaultLang:h,languages:g}=(0,i.v9)((e=>e.formLang),i.wU);return(0,c.jsx)("div",{children:g.map(((e,a)=>(0,c.jsx)(r.Z.Item,{label:(0,d.t)("address"),name:"address[".concat(e.locale,"]"),rules:[{required:e.locale===h,message:(0,d.t)("required")}],hidden:e.locale!==h,children:(0,c.jsx)(o.Z,{allowClear:!0,searchValue:t,showSearch:!0,autoClearSearchValue:!0,loading:v,options:null===m||void 0===m?void 0:m.map((e=>({label:e.description,value:e.description}))),onSearch:e=>{n(e),e.length>0&&p({input:e})},onSelect:async e=>{const t=await(0,l.Z)(e);u({lat:null===t||void 0===t?void 0:t.geometry.location.lat,lng:null===t||void 0===t?void 0:t.geometry.location.lng})}})},"address"+a)))})}},73431:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(47313),l=n(39180),s=n(2717),i=n(28830),r=n(60535),o=n(46417);const d=()=>{const e=(0,s.I0)(),{languages:t,defaultLang:n}=(0,s.v9)((e=>e.formLang),s.wU);(0,a.useEffect)((()=>{r.Z.getAllActive().then((t=>{let{data:n}=t;e((0,i.dc)(n)),e((0,i.mh)(n.find((e=>1===e.default)).locale))}))}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(l.ZP.Group,{value:n,onChange:t=>{let{target:{value:n}}=t;e((0,i.mh)(n))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((e=>(0,o.jsx)(l.ZP.Button,{value:e.locale,children:e.title},e.id)))})})}},97388:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(47313),l=n(16609),s=n(97421);const i=n.p+"static/media/pin.0e41858db80c699cd8a2.png";var r=n(31881),o=n.n(r);async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.kr,n={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:t};return o().get("https://maps.googleapis.com/maps/api/geocode/json",{params:n}).then((e=>{var t;let{data:n}=e;return null===(t=n.results[0])||void 0===t?void 0:t.formatted_address})).catch((e=>"not found"))}var c=n(5958),u=n(23560),m=n(24511),p=n(46417);const v=(0,l.GoogleApiWrapper)({apiKey:s.kr})((function(e){const[t,n]=(0,a.useState)(),{t:r}=(0,m.$)(),o=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const t={lat:e.coords.latitude,lng:e.coords.longitude};n(t)}),(function(e){u.Am.warning(r("turn.on.gps"))}))};(0,a.useEffect)((()=>{o()}),[]);const v=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var h=new e.google.maps.LatLngBounds,g=0;g<v.length;g++)h.extend(v[g]);return(0,p.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,p.jsx)("button",{className:"map-button",type:"button",onClick:()=>{o(),t&&(async t=>{const n={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng};e.setLocation(n);const a=await d(n,s.kr);e.setAddress(a)})(t)},children:(0,p.jsx)(c.nDs,{})}),(0,p.jsx)(l.Map,{cursor:"pointer",onClick:async(t,n,a)=>{const{latLng:l}=a,i={lat:l.lat(),lng:l.lng()};e.setLocation(i);const r=await d(i,s.kr);e.setAddress(r)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,p.jsx)(l.Marker,{position:e.location,icon:{url:i,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13622:(e,t,n)=>{n.d(t,{R:()=>d});var a=n(47313),l=n(12279),s=n.n(l),i=n(74294),r=n(72652),o=n(46417);const d=e=>{let{fetchOptions:t,debounceTimeout:n=400,refetch:l=!1,...d}=e;const[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)([]),v=(0,a.useMemo)((()=>s()((e=>{p([]),u(!0),t(e).then((e=>{p(e),u(!1)}))}),n)),[t,n]);return(0,o.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>v(""),filterOption:!1,onSearch:v,notFoundContent:c?(0,o.jsx)(r.Z,{size:"small"}):"no results",...d,options:m,onFocus:()=>{m.length&&!l||v("")}})}},21429:(e,t,n)=>{n.d(t,{P:()=>s});var a=n(70816),l=n.n(a);const s=[{title:"monday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:l()("01:00:00","HH:mm:ss"),to:l()("23:00:00","HH:mm:ss")}]},19107:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(31881),l=n.n(a),s=n(97421);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.kr,n={address:e,key:t};return l().get("https://maps.googleapis.com/maps/api/geocode/json",{params:n}).then((e=>{let{data:t}=e;return t.results[0]})).catch((e=>"not found"))}},17649:(e,t,n)=>{n.d(t,{Z:()=>a});n(97421);function a(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=e.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},75336:(e,t,n)=>{function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const a=e.map((e=>({[e.locale]:""===t["".concat(n,"[").concat(e.locale,"]")]?void 0:t["".concat(n,"[").concat(e.locale,"]")]})));return Object.assign({},...a)}n.d(t,{Z:()=>a})},71832:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X,steps:()=>J});var a=n(47313),l=n(83999),s=n(68197),i=n(59624),r=n(77181),o=n(10976),d=n(55291),c=n(16124),u=n(86345),m=n(66672),p=n(59491),v=n(2717),h=n(90954),g=n(24511),y=n(75336),x=n(73431),f=n(5764),Z=n(18557),j=n(13622),b=n(27453),k=n(47139),w=n(79637),C=n(97388),N=n(27443),P=n(17649),S=n(56814),F=n(46417);const I=e=>{let{next:t}=e;const{t:n}=(0,g.$)(),{activeMenu:l}=(0,v.v9)((e=>e.menu),v.wU),{settings:I}=(0,v.v9)((e=>e.globalSettings),v.wU),O=(0,v.I0)(),[q]=o.Z.useForm(),[H,_]=(0,a.useState)([]),[E,L]=(0,a.useState)((0,P.Z)(I)),[M,R]=(0,a.useState)(!1),[D,B]=(0,a.useState)({}),[V,U]=(0,a.useState)(""),{country:K,region:T,city:z}=D,{languages:Y,defaultLang:A}=(0,v.v9)((e=>e.formLang),v.wU);return(0,F.jsxs)(o.Z,{name:"add.delivery.point",layout:"vertical",onFinish:e=>{var a;const{area:s,city:i,country:r,region:o,price:c,fitting_rooms:u,active:m}=e,p={price:c,fitting_rooms:u,location:{latitude:null===E||void 0===E?void 0:E.lat,longitude:null===E||void 0===E?void 0:E.lng},active:m?1:0,area_id:null===s||void 0===s?void 0:s.value,city_id:null===i||void 0===i?void 0:i.value,country_id:null===r||void 0===r?void 0:r.value,region_id:null===o||void 0===o?void 0:o.value,images:H.map((e=>e.name)),title:(0,y.Z)(Y,e,"title"),address:(0,y.Z)(Y,e,"address")};null!==l&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&a.id?t():(R(!0),Z.Z.create(p).then((e=>{let{data:a}=e;d.ZP.success(n("successfully.created"));const s=q.getFieldsValue(!0);O((0,h.nc)({activeMenu:l,data:{...s,id:a.id}})),t()})).finally((()=>R(!1))))},form:q,initialValues:{clickable:!0,...l.data},children:[(0,F.jsxs)(s.Z,{gutter:[24,24],children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsxs)(r.Z,{title:n("deliveryzone"),className:"h-100",children:[(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("region"),name:"region",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10};return b.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,onChange:e=>{B((t=>({...t,region:e}))),q.resetFields(["city","area","country"])}})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("country"),name:"country",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,region_id:null===T||void 0===T?void 0:T.value};return k.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,onChange:e=>{B((t=>({...t,country:e}))),q.resetFields(["city","area"])},disabled:!Boolean(null===T||void 0===T?void 0:T.value)})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("city"),name:"city",rules:[{required:!1,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,country_id:null===K||void 0===K?void 0:K.value};return w.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===K||void 0===K?void 0:K.value),onChange:e=>{B((t=>({...t,city:e}))),q.resetFields(["area"])}})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("area"),name:"area",rules:[{required:!1,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,city_id:null===z||void 0===z?void 0:z.value};return N.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===z||void 0===z?void 0:z.value)})})})]})}),(0,F.jsx)(i.Z,{span:12,children:(0,F.jsxs)(r.Z,{title:n("pricing"),className:"h-100",children:[(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("price"),name:"price",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(c.Z,{className:"w-100"})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("fitting_rooms"),name:"fitting_rooms",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(c.Z,{className:"w-100"})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsxs)(s.Z,{gutter:24,children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(o.Z.Item,{rules:[{required:!1,message:n("required")}],label:n("image"),name:"images",children:(0,F.jsx)(f.Z,{type:"products",imageList:H,setImageList:_,form:q,length:"1",multiple:!1})})}),(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(o.Z.Item,{label:n("active"),name:"active",valuePropName:"checked",children:(0,F.jsx)(u.Z,{})})})]})})]})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(r.Z,{title:n("address"),extra:(0,F.jsx)(x.Z,{}),children:(0,F.jsxs)(s.Z,{gutter:12,children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(S.Z,{setLocation:L,value:V,setValue:U})}),(0,F.jsx)(i.Z,{span:12,children:Y.map(((e,t)=>(0,F.jsx)(o.Z.Item,{label:n("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===A,message:n("required")}],hidden:e.locale!==A,children:(0,F.jsx)(m.Z,{})},"title"+t)))}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(C.Z,{location:E,setLocation:L,setAddress:e=>q.setFieldsValue({["address[".concat(A,"]")]:e})})})]})})})]}),(0,F.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end mt-4",children:(0,F.jsx)("div",{className:"pb-5",children:(0,F.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:M,children:n("submit")})})})]})};var O=n(23885),q=n(51282),H=n(70816),_=n.n(H),E=n(34344);const L={getById:e=>E.Z.get("dashboard/admin/delivery-point-working-days/".concat(e)),create:e=>E.Z.post("dashboard/admin/delivery-point-working-days",e,{}),update:(e,t)=>E.Z.put("dashboard/admin/delivery-point-working-days/".concat(e),t,{}),delete:e=>E.Z.delete("dashboard/admin/delivery-point-working-days",{params:e})},M={getById:e=>E.Z.get("dashboard/admin/delivery-point-closed-dates/".concat(e)),create:e=>E.Z.post("dashboard/admin/delivery-point-closed-dates",e,{}),update:(e,t)=>E.Z.put("dashboard/admin/delivery-point-closed-dates/".concat(e),t,{}),delete:e=>E.Z.delete("dashboard/admin/shop-closed-dates/delete",{params:e})};var R=n(21429),D=n(66204),B=n(45705),V=n(25050),U=n(58821),K=n(43681),T=n(11829),z=n(65919);const Y=e=>{let{onFinish:t,prev:n,form:l,lines:d,loadingBtn:c,days:m,setDays:v,setLines:h,weeks:y}=e;const{t:x}=(0,g.$)(),f=[{from:new Date(1900,4,18),to:new Date(_()().subtract(1,"days"))}],[Z,j]=(0,a.useState)(!0),b=m&&m.length>0?(0,F.jsxs)(s.Z,{children:[(0,F.jsx)(D.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:x("Your.existing.vacations")}),(0,F.jsxs)(i.Z,{span:24,className:"mt-2",children:[m.slice(0,Z?1:m.length).map(((e,t)=>(0,F.jsxs)(B.Z,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,F.jsx)(i.Z,{span:24,style:{fontSize:14,marginTop:"8px"},children:_()(e).format("YYYY-MM-DD")}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(D.Z,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return t=e,v(m.filter((e=>e!==t)));var t},children:x("remove")})})]},t))),(0,F.jsx)(p.Z,{className:"mt-3 w-100",onClick:()=>{j(!Z)},children:Z?(0,F.jsx)(U.ahe,{}):(0,F.jsx)(U.dMq,{})})]})]}):(0,F.jsx)(D.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),k=(e,t)=>{const n=[];for(let a=e;a<t;a++)n.push(a);return n},w=()=>({disabledHours:()=>k(0,1),disabledMinutes:()=>k(0,0),disabledSeconds:()=>k(0,60)});return(0,F.jsx)(o.Z,{form:l,layout:"vertical",onFinish:t,children:(0,F.jsxs)(s.Z,{gutter:[24,24],children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(r.Z,{title:x("deliverypoint.working.days"),className:"h-100",children:(0,F.jsx)(s.Z,{gutter:24,children:(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.List,{name:"working_days",children:e=>(0,F.jsx)("div",{children:e.map(((e,t)=>(0,F.jsxs)(s.Z,{gutter:24,align:"center",children:[(0,F.jsx)(i.Z,{span:7,children:(0,F.jsx)(o.Z.Item,{name:[t,"day"],children:(0,F.jsx)("span",{children:x(y[t].title)})})}),d[e.key]?(0,F.jsx)(i.Z,{span:13,className:"mt-2",children:(0,F.jsx)("span",{children:x("shop.closed")})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.Z,{span:7,children:(0,F.jsx)(o.Z.Item,{rules:[{required:!1===d[e.key]}],name:[t,"from"],children:(0,F.jsx)(V.Z,{disabledTime:w,picker:"time",placeholder:x("start.time")})})}),(0,F.jsx)(i.Z,{span:6,children:(0,F.jsx)(o.Z.Item,{rules:[{required:!1===d[e.key]}],name:[t,"to"],children:(0,F.jsx)(V.Z,{disabledTime:w,picker:"time",placeholder:x("end.time")})})})]}),(0,F.jsx)(i.Z,{span:4,children:(0,F.jsx)(o.Z.Item,{name:[t,"disabled"],valuePropName:"checked",children:(0,F.jsx)(u.Z,{checkedChildren:(0,F.jsx)(K.Z,{}),unCheckedChildren:(0,F.jsx)(T.Z,{}),checked:d[e.key],onChange:()=>(e=>{const t=[...d];t[e]=!d[e],h(t)})(e.key)})})})]},e.key)))})})})})})}),(0,F.jsx)(i.Z,{span:12,children:(0,F.jsxs)(r.Z,{title:x("deliverypoint.closed.days"),className:"h-100",children:[(0,F.jsx)("p",{children:x("deliverypoint.closed.days.text")}),(0,F.jsx)(o.Z.Item,{rules:[{required:!1,message:x("required")}],children:(0,F.jsx)(z._W,{className:"datepicker",mode:"multiple",disabled:f,min:1,selected:m,onSelect:v,footer:b,showOutsideDays:!0})})]})}),(0,F.jsxs)(i.Z,{span:24,className:"d-flex justify-content-between",children:[(0,F.jsx)(p.Z,{htmlType:"submit",onClick:()=>n(),children:x("prev")}),(0,F.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:c,children:x("submit")})]})]})})};var A=n(97890),W=n(75885);const $=e=>{let{prev:t}=e;const[n]=o.Z.useForm(),l=(0,A.s0)(),s=(0,v.I0)(),{activeMenu:i}=(0,v.v9)((e=>e.menu),v.wU),[r,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(new Array(7).fill(!1)),[m,p]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),x=(0,a.useMemo)((()=>{var e;return null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.id}),[null===i||void 0===i?void 0:i.data]);return(0,a.useEffect)((()=>{n.setFieldsValue({working_days:R.P}),x&&(y(!0),M.getById(x).then((e=>{d(e.data.closed_dates.filter((e=>e.day>_()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(e.day))))})),L.getById(x).then((e=>{u(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&n.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:_()(e.from,"HH:mm:ss"),to:_()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>y(!1))))}),[]),(0,F.jsx)(F.Fragment,{children:g?(0,F.jsx)(q.Z,{}):(0,F.jsx)(Y,{onFinish:e=>{p(!0);const t={delivery_point_id:x,dates:r?r.map((e=>_()(e).format("YYYY-MM-DD"))):void 0},n={delivery_point_id:x,dates:e.working_days.map((e=>({day:e.title,from:_()(e.from?e.from:"00").format("HH:mm"),to:_()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled})))};0!==e.working_days.length&&L.update(x,n).then((()=>{})).finally((()=>p(!1))),M.update(x,t).then((()=>{const e="delivery-point";s((0,h.ph)({...i,nextUrl:e})),l("/".concat(e)),s((0,W.l)())})).finally((()=>p(!1)))},prev:t,form:n,lines:c,loadingBtn:m,days:r,setDays:d,setLines:u,weeks:R.P})})},G=e=>{let{next:t}=e;const{t:n}=(0,g.$)(),{id:l}=(0,A.UO)(),{activeMenu:P}=(0,v.v9)((e=>e.menu),v.wU),I=(0,v.I0)(),[O]=o.Z.useForm(),[q,H]=(0,a.useState)([]),[_,E]=(0,a.useState)([]),[L,M]=(0,a.useState)(""),[R,D]=(0,a.useState)(!1),[B,V]=(0,a.useState)({}),[U,K]=(0,a.useState)(""),{country:T,region:z,city:Y}=B,{languages:W,defaultLang:$}=(0,v.v9)((e=>e.formLang),v.wU);function G(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,n=W.map((e=>{var n,a;return{["title[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.title,["address[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.address}}));return Object.assign({},...n)}(0,a.useEffect)((()=>{l&&(E(!0),Z.Z.getById(l).then((e=>{var t,n,a,l,s,i,r;let{data:o}=e;const{city:d,country:c,region:u,area:m,...p}=o,v="address[".concat($,"]"),h={area:{label:null===m||void 0===m||null===(t=m.translation)||void 0===t?void 0:t.title,value:null===m||void 0===m?void 0:m.id},city:{label:null===d||void 0===d||null===(n=d.translation)||void 0===n?void 0:n.title,value:null===d||void 0===d?void 0:d.id},country:{label:null===c||void 0===c||null===(a=c.translation)||void 0===a?void 0:a.title,value:null===c||void 0===c?void 0:c.id},region:{label:null===u||void 0===u||null===(l=u.translation)||void 0===l?void 0:l.title,value:null===u||void 0===u?void 0:u.id}},g={...G(o),...h,...p,[v]:null===(s=o.address)||void 0===s?void 0:s[$]};O.setFieldsValue(g),H([{name:o.img}]),V(h),M({lat:null===(i=o.location)||void 0===i?void 0:i.latitude,lng:null===(r=o.location)||void 0===r?void 0:r.longitude})})).catch((e=>{console.error(e)})).finally((()=>E(!1))))}),[l]);return(0,F.jsxs)(o.Z,{name:"add.delivery.point",layout:"vertical",onFinish:e=>{const{area:a,city:s,country:i,region:r,price:o,fitting_rooms:c,active:u}=e,m={price:o,fitting_rooms:c,location:{latitude:null===L||void 0===L?void 0:L.lat,longitude:null===L||void 0===L?void 0:L.lng},active:u?1:0,area_id:null===a||void 0===a?void 0:a.value,city_id:null===s||void 0===s?void 0:s.value,country_id:null===i||void 0===i?void 0:i.value,region_id:null===r||void 0===r?void 0:r.value,images:q.map((e=>e.name)),title:(0,y.Z)(W,e,"title"),address:(0,y.Z)(W,e,"address")};D(!0),Z.Z.update(l,m).then((()=>{d.ZP.success(n("successfully.created"));const e=O.getFieldsValue(!0);I((0,h.nc)({activeMenu:P,data:{...e,id:l}})),t()})).finally((()=>D(!1)))},form:O,initialValues:{clickable:!0,...P.data},children:[(0,F.jsxs)(s.Z,{gutter:[24,24],children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsxs)(r.Z,{title:n("deliveryzone"),className:"h-100",loading:_,children:[(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("region"),name:"region",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10};return b.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,onChange:e=>{V((t=>({...t,region:e}))),O.resetFields(["city","area","country"])}})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("country"),name:"country",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,region_id:null===z||void 0===z?void 0:z.value};return k.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,onChange:e=>{V((t=>({...t,country:e}))),O.resetFields(["city","area"])},disabled:!Boolean(null===z||void 0===z?void 0:z.value)})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("city"),name:"city",rules:[{required:!1,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,country_id:null===T||void 0===T?void 0:T.value};return w.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===T||void 0===T?void 0:T.value),onChange:e=>{V((t=>({...t,city:e}))),O.resetFields(["area"])}})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("area"),name:"area",rules:[{required:!1,message:n("required")}],children:(0,F.jsx)(j.R,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,city_id:null===Y||void 0===Y?void 0:Y.value};return N.Z.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,F.jsx)(F.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===Y||void 0===Y?void 0:Y.value)})})})]})}),(0,F.jsx)(i.Z,{span:12,children:(0,F.jsxs)(r.Z,{title:n("pricing"),className:"h-100",loading:_,children:[(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("price"),name:"price",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(c.Z,{className:"w-100"})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(o.Z.Item,{label:n("fitting_rooms"),name:"fitting_rooms",rules:[{required:!0,message:n("required")}],children:(0,F.jsx)(c.Z,{className:"w-100"})})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsxs)(s.Z,{gutter:24,children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(o.Z.Item,{rules:[{required:!1,message:n("required")}],label:n("image"),name:"images",children:(0,F.jsx)(f.Z,{type:"products",imageList:q,setImageList:H,form:O,length:"1",multiple:!1})})}),(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(o.Z.Item,{label:n("active"),name:"active",valuePropName:"checked",children:(0,F.jsx)(u.Z,{})})})]})})]})}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(r.Z,{title:n("address"),loading:_,extra:(0,F.jsx)(x.Z,{}),children:(0,F.jsxs)(s.Z,{gutter:12,children:[(0,F.jsx)(i.Z,{span:12,children:(0,F.jsx)(S.Z,{setLocation:M,value:U,setValue:K})}),(0,F.jsx)(i.Z,{span:12,children:W.map(((e,t)=>(0,F.jsx)(o.Z.Item,{label:n("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===$,message:n("required")}],hidden:e.locale!==$,children:(0,F.jsx)(m.Z,{})},"title"+t)))}),(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(C.Z,{location:L,setLocation:M,setAddress:e=>O.setFieldsValue({["address[".concat($,"]")]:e})})})]})})})]}),(0,F.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,F.jsx)("div",{className:"pb-5",children:(0,F.jsx)(p.Z,{type:"primary",htmlType:"submit",loading:R,children:n("submit")})})})]})},{Step:Q}=l.Z,J=[{title:"delivery.point",content:"Delivery point"},{title:"working days",content:"Working days"}],X=()=>{var e,t,n;const[o,d]=(0,a.useState)(0),{id:c}=(0,A.UO)(),u=()=>{d(o+1)};return(0,F.jsxs)(s.Z,{gutter:[24,24],children:[(0,F.jsx)(i.Z,{span:24,children:(0,F.jsx)(r.Z,{className:"mb-0",children:(0,F.jsx)(l.Z,{current:o,children:J.map((e=>(0,F.jsx)(Q,{title:(0,O.t)(e.title)},e.title)))})})}),(0,F.jsxs)(i.Z,{span:24,children:["Delivery point"===(null===(e=J[o])||void 0===e?void 0:e.content)&&!c&&(0,F.jsx)(I,{next:u}),"Delivery point"===(null===(t=J[o])||void 0===t?void 0:t.content)&&c&&(0,F.jsx)(G,{next:u}),"Working days"===(null===(n=J[o])||void 0===n?void 0:n.content)&&(0,F.jsx)($,{next:u,prev:()=>{d(o-1)}})]})]})}},39180:(e,t,n)=>{n.d(t,{ZP:()=>O});var a=n(4942),l=n(87462),s=n(47313),i=n(56482),r=n(46123),o=n.n(r),d=n(16945),c=n(4431),u=n(91964),m=s.createContext(null),p=m.Provider;const v=m;var h=s.createContext(null),g=h.Provider,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},x=function(e,t){var n,r=s.useContext(v),m=s.useContext(h),p=s.useContext(u.E_),g=p.getPrefixCls,x=p.direction,f=s.useRef(),Z=(0,d.sQ)(t,f),j=(0,s.useContext)(c.aM).isFormItemInput,b=e.prefixCls,k=e.className,w=e.children,C=e.style,N=y(e,["prefixCls","className","children","style"]),P=g("radio",b),S="button"===((null===r||void 0===r?void 0:r.optionType)||m)?"".concat(P,"-button"):P,F=(0,l.Z)({},N);r&&(F.name=r.name,F.onChange=function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(a=null===r||void 0===r?void 0:r.onChange)||void 0===a||a.call(r,t)},F.checked=e.value===r.value,F.disabled=e.disabled||r.disabled);var I=o()("".concat(S,"-wrapper"),(n={},(0,a.Z)(n,"".concat(S,"-wrapper-checked"),F.checked),(0,a.Z)(n,"".concat(S,"-wrapper-disabled"),F.disabled),(0,a.Z)(n,"".concat(S,"-wrapper-rtl"),"rtl"===x),(0,a.Z)(n,"".concat(S,"-wrapper-in-form-item"),j),n),k);return s.createElement("label",{className:I,style:C,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},s.createElement(i.Z,(0,l.Z)({},F,{type:"radio",prefixCls:S,ref:Z})),void 0!==w?s.createElement("span",null,w):null)},f=s.forwardRef(x);f.displayName="Radio";const Z=f;var j=n(29439),b=n(10288),k=n(21631),w=n(81176),C=s.forwardRef((function(e,t){var n=s.useContext(u.E_),i=n.getPrefixCls,r=n.direction,d=s.useContext(k.Z),c=(0,b.Z)(e.defaultValue,{value:e.value}),m=(0,j.Z)(c,2),v=m[0],h=m[1];return s.createElement(p,{value:{onChange:function(t){var n=v,a=t.target.value;"value"in e||h(a);var l=e.onChange;l&&a!==n&&l(t)},value:v,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var n,c=e.prefixCls,u=e.className,m=void 0===u?"":u,p=e.options,h=e.buttonStyle,g=void 0===h?"outline":h,y=e.disabled,x=e.children,f=e.size,j=e.style,b=e.id,k=e.onMouseEnter,C=e.onMouseLeave,N=i("radio",c),P="".concat(N,"-group"),S=x;p&&p.length>0&&(S=p.map((function(e){return"string"===typeof e||"number"===typeof e?s.createElement(Z,{key:e.toString(),prefixCls:N,disabled:y,value:e,checked:v===e},e):s.createElement(Z,{key:"radio-group-value-options-".concat(e.value),prefixCls:N,disabled:e.disabled||y,value:e.value,checked:v===e.value,style:e.style},e.label)})));var F=f||d,I=o()(P,"".concat(P,"-").concat(g),(n={},(0,a.Z)(n,"".concat(P,"-").concat(F),F),(0,a.Z)(n,"".concat(P,"-rtl"),"rtl"===r),n),m);return s.createElement("div",(0,l.Z)({},(0,w.Z)(e),{className:I,style:j,onMouseEnter:k,onMouseLeave:C,id:b,ref:t}),S)}())}));const N=s.memo(C);var P=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},S=function(e,t){var n=s.useContext(u.E_).getPrefixCls,a=e.prefixCls,i=P(e,["prefixCls"]),r=n("radio",a);return s.createElement(g,{value:"button"},s.createElement(Z,(0,l.Z)({prefixCls:r},i,{type:"radio",ref:t})))};const F=s.forwardRef(S);var I=Z;I.Button=F,I.Group=N;const O=I},25050:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(87462),l=n(47313),s=n(99096),i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},r=s.Z.TimePicker,o=s.Z.RangePicker,d=l.forwardRef((function(e,t){return l.createElement(o,(0,a.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:t}))})),c=l.forwardRef((function(e,t){var n=e.addon,s=e.renderExtraFooter,o=e.popupClassName,d=i(e,["addon","renderExtraFooter","popupClassName"]),c=l.useMemo((function(){return s||(n||void 0)}),[n,s]);return l.createElement(r,(0,a.Z)({},d,{dropdownClassName:o,mode:void 0,ref:t,renderExtraFooter:c}))}));c.displayName="TimePicker",c.RangePicker=d;const u=c},56482:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(87462),l=n(4942),s=n(45987),i=n(1413),r=n(15671),o=n(43144),d=n(60136),c=n(54062),u=n(47313),m=n(46123),p=n.n(m),v=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;(0,r.Z)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,l=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),l&&l({target:(0,i.Z)((0,i.Z)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var l="checked"in e?e.checked:e.defaultChecked;return a.state={checked:l},a}return(0,o.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,r=t.style,o=t.name,d=t.id,c=t.type,m=t.disabled,v=t.readOnly,h=t.tabIndex,g=t.onClick,y=t.onFocus,x=t.onBlur,f=t.onKeyDown,Z=t.onKeyPress,j=t.onKeyUp,b=t.autoFocus,k=t.value,w=t.required,C=(0,s.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),N=Object.keys(C).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=C[t]),e}),{}),P=this.state.checked,S=p()(n,i,(e={},(0,l.Z)(e,"".concat(n,"-checked"),P),(0,l.Z)(e,"".concat(n,"-disabled"),m),e));return u.createElement("span",{className:S,style:r},u.createElement("input",(0,a.Z)({name:o,id:d,type:c,required:w,readOnly:v,disabled:m,tabIndex:h,className:"".concat(n,"-input"),checked:!!P,onClick:g,onFocus:y,onBlur:x,onKeyUp:j,onKeyDown:f,onKeyPress:Z,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:k},N)),u.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.Z)((0,i.Z)({},t),{},{checked:e.checked}):null}}]),n}(u.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const h=v}}]);