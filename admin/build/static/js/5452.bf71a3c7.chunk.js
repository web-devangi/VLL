"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5452],{94337:(e,s,a)=>{a.d(s,{Z:()=>r});var i=a(34344);const r={getAll:e=>i.Z.get("dashboard/admin/subscriptions",{params:e}),getById:(e,s)=>i.Z.get("dashboard/admin/subscriptions/".concat(e),{params:s}),update:(e,s)=>i.Z.put("dashboard/admin/subscriptions/".concat(e),s),create:e=>i.Z.post("dashboard/admin/subscriptions",e)}},65452:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var i=a(47313),r=a(10976),t=a(9274),l=a(59491),n=a(68197),d=a(59624),c=a(66672),o=a(16124),m=a(86345),u=a(24511),h=a(94337),p=a(51282),Z=a(46417);function x(e){let{modal:s,handleCancel:a,refetch:x}=e;const[j]=r.Z.useForm(),{t:b}=(0,u.$)(),[v,g]=(0,i.useState)(!1),[f,w]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{w(!0),h.Z.getById(s.id).then((e=>{console.log("data",e.data),j.setFieldsValue({...e.data})})).finally((()=>w(!1)))}),[s]),(0,Z.jsx)(i.Fragment,{children:(0,Z.jsx)(t.Z,{visible:!!s,title:b("edit.subscription"),onCancel:a,style:{minWidth:800},footer:[(0,Z.jsx)(l.Z,{type:"primary",onClick:()=>j.submit(),loading:v,children:b("save")},"save-btn"),(0,Z.jsx)(l.Z,{type:"default",onClick:a,children:b("cancel")},"cancel-btn")],children:f?(0,Z.jsx)(p.Z,{}):(0,Z.jsx)(r.Z,{form:j,layout:"vertical",onFinish:e=>{const i={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};g(!0),h.Z.update(s.id,i).then((()=>{a(),x()})).finally((()=>g(!1)))},initialValues:{active:Boolean(null===s||void 0===s?void 0:s.active),with_report:Boolean(null===s||void 0===s?void 0:s.with_report),...s},children:(0,Z.jsxs)(n.Z,{gutter:12,children:[(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("title"),name:"title",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(c.Z,{})})}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("period"),name:"month",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(o.Z,{min:0,max:12,className:"w-100"})})}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("product_limit"),name:"product_limit",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("order_limit"),name:"order_limit",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("price"),name:"price",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,Z.jsx)(d.Z,{span:12}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("with_report"),name:"with_report",valuePropName:"checked",children:(0,Z.jsx)(m.Z,{})})}),(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:b("active"),name:"active",valuePropName:"checked",children:(0,Z.jsx)(m.Z,{})})})]})})})})}}}]);