"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9308],{55940:(e,t,a)=>{a.d(t,{Z:()=>o});a(47313);var s=a(59491),n=a(47515),l=a(23560),i=a(24511),c=a(79492),d=a(46417);function o(e){let{size:t="",onClick:a,type:o="default",...r}=e;const{t:u}=(0,i.$)(),{isDemo:h}=(0,c.Z)();return(0,d.jsx)(s.Z,{size:t,icon:(0,d.jsx)(n.Z,{}),onClick:e=>{h?l.Am.warning(u("cannot.work.demo")):a(e)},type:o,...r})}},53233:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(47313),n=a(56140),l=a(67251),i=a(45705),c=a(86345),d=a(78267),o=a(37388),r=a(59491),u=a(99587),h=a(24511),m=a(46417);const{Text:p}=n.Z,g=e=>{let{columns:t=[],setColumns:a,style:n,size:g="",iconOnly:v}=e;const{t:x}=(0,h.$)(),[Z,y]=(0,s.useState)(!1),j=(0,m.jsx)(l.Z,{children:null===t||void 0===t?void 0:t.map(((e,s)=>(0,m.jsx)(l.Z.Item,{children:(0,m.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(p,{children:e.title}),(0,m.jsx)(c.Z,{defaultChecked:!0,onClick:()=>function(e){const s=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(s)}(e),disabled:1===s})]})},e+s)))});return(0,m.jsx)(d.Z,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:Z,children:(0,m.jsx)(o.Z,{title:x("change.columns"),children:(0,m.jsx)(r.Z,{style:{...n},size:g,icon:(0,m.jsx)(u.Z,{}),children:v?null:x("Columns")})})})}},41481:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(47313),n=a(66672),l=a(16031),i=a(40765),c=a(46417);function d(e){let{handleChange:t,defaultValue:a,resetSearch:d,...o}=e;const[r,u]=(0,s.useState)(a),h=(0,s.useMemo)((()=>(0,l.debounce)((e=>{t(e)}),800)),[]);return(0,s.useEffect)((()=>{u(a)}),[d]),(0,c.jsx)(n.Z,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,c.jsx)(i.Z,{}),...o})}},13945:(e,t,a)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{Z:()=>s})},59308:(e,t,a)=>{a.d(t,{Z:()=>B});var s=a(47313),n=a(12019),l=a(31741),i=a(66407),c=a(47515),d=a(55768),o=a(15386),r=a(73591),u=a(45705),h=a(66204),m=a(26824),p=a(86345),g=a(59491),v=a(77181),x=a(78508),Z=a(97421),y=a(74580),j=a(97890),f=a(23560),b=a(69658),C=a(2717),w=a(90954),k=a(30763),z=a(42472),V=a(24511),_=a(55940),H=a(53233),I=a(41481),S=a(80314),N=a(3925),M=a(13945),E=a(10976),U=a(9274),A=a(68197),W=a(59624),O=a(74294),P=a(46417);const D=["published","pending","unpublished"];function L(e){let{categoryDetails:t,handleCancel:a,paramsData:n}=e;const{activeMenu:l}=(0,C.v9)((e=>e.menu),C.wU),[i]=E.Z.useForm(),c=(0,C.I0)(),{t:d}=(0,V.$)(),[o,r]=(0,s.useState)(!1);return(0,P.jsx)(U.Z,{visible:!!t,title:t.title,onCancel:a,footer:[(0,P.jsx)(g.Z,{type:"primary",onClick:()=>i.submit(),loading:o,children:d("save")}),(0,P.jsx)(g.Z,{type:"default",onClick:a,children:d("cancel")})],children:(0,P.jsx)(E.Z,{form:i,layout:"vertical",onFinish:e=>{r(!0);const s={...e};k.Z.statusUpdate(t.uuid,s).then((()=>{a(),c((0,z.pE)(n)),c((0,w.A_)(l))})).finally((()=>r(!1)))},initialValues:{status:t.status},children:(0,P.jsx)(A.Z,{gutter:12,children:(0,P.jsx)(W.Z,{span:24,children:(0,P.jsx)(E.Z.Item,{label:d("status"),name:"status",rules:[{required:!0,message:d("required")}],children:(0,P.jsx)(O.Z,{children:D.map(((e,t)=>(0,P.jsx)(O.Z.Option,{value:e,children:d(e)},e+t)))})})})})})})}const R=["blue","red","gold","volcano","cyan","lime"],{TabPane:T}=r.Z,$=["all","pending","published","unpublished"],B=e=>{var t,a,E,U,A,W,O,D;let{parentId:B,type:F="main",parent_type:K,isRefetch:q=!1,handleAddAction:Q=(()=>{}),activeTab:G="list"}=e;const{t:J}=(0,V.$)(),X=(0,C.I0)(),Y=(0,j.s0)(),{activeMenu:ee}=(0,C.v9)((e=>e.menu),C.wU),[te,ae]=(0,s.useState)("all"),se=(null===(t=ee.data)||void 0===t?void 0:t.role)||te,{uuid:ne}=(0,j.UO)(),[le,ie]=(0,s.useState)(null),[ce,de]=(0,s.useState)(null);const oe=()=>{B?Q(B):(X((0,w.bL)({id:B?"sub-category-add":"category-add",url:"category/add",name:J(B?"add.sub.category":"add.category")})),Y("/category/add",{state:{parentId:B,parentUuid:ne}}))},re=()=>{X((0,w.bL)({url:"catalog/categories/import",id:B?"sub_category_import":"category_import",name:J(B?"import.sub.category":"import.category")})),Y("/catalog/categories/import",{state:{parentId:B,parentUuid:ne}})},[ue,he]=(0,s.useState)([{title:J("id"),dataIndex:"id",key:"id",is_show:!0},{title:J("name"),dataIndex:"name",key:"name",is_show:!0},{title:J("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,P.jsx)(u.Z,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,P.jsx)(h.Z,{className:"text-uppercase",color:[R[t]],children:e})))})}},{title:J("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>(0,P.jsx)(m.Z,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+t.id)},{title:J("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,P.jsx)(p.Z,{onChange:()=>{me(!0),ge(t.uuid),ie(!0)},checked:e})},{title:J("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,P.jsxs)("div",{children:["pending"===e?(0,P.jsx)(h.Z,{color:"blue",children:J(e)}):"unpublished"===e?(0,P.jsx)(h.Z,{color:"error",children:J(e)}):(0,P.jsx)(h.Z,{color:"cyan",children:J(e)}),(0,P.jsx)(n.Z,{onClick:()=>de(t)})]})},{title:J("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(g.Z,{icon:(0,P.jsx)(l.Z,{}),onClick:()=>function(e){X((0,w.bL)({url:"category/show/".concat(e.uuid),id:"category_show",name:J("category.show")})),Y("/category/show/".concat(e.uuid),{state:{parentId:B,parentUuid:ne}})}(t)}),(0,P.jsx)(g.Z,{icon:(0,P.jsx)(i.Z,{}),onClick:()=>{return e=t.uuid,X((0,w.bL)({id:B?"sub-category-clone":"category-clone",url:"category-clone/".concat(e),name:J(B?"sub.category.clone":"category.clone")})),void Y("/category-clone/".concat(e),{state:{parentId:B,parentUuid:ne}});var e}}),(0,P.jsx)(g.Z,{type:"primary",icon:(0,P.jsx)(n.Z,{}),onClick:()=>function(e){X((0,w.bL)({url:"category/".concat(e.uuid),id:B?"category_sub_edit":"category_edit",name:J(B?"edit.sub.category":"edit.category")})),Y("/category/".concat(e.uuid),{state:{parentId:B,parentUuid:ne}})}(t)}),(0,P.jsx)(_.Z,{icon:(0,P.jsx)(c.Z,{}),onClick:()=>{ge([t.id]),me(!0),fe(!0)}})]})}]),{setIsModalVisible:me}=(0,s.useContext)(y._),[pe,ge]=(0,s.useState)(null),[ve,xe]=(0,s.useState)(!1),[Ze,ye]=(0,s.useState)(!1),[je,fe]=(0,s.useState)(null),{categories:be,meta:Ce,loading:we}=(0,C.v9)((e=>e.category),C.wU),ke=ee.data,ze={search:null===ke||void 0===ke?void 0:ke.search,perPage:(null===ee||void 0===ee||null===(a=ee.data)||void 0===a?void 0:a.perPage)||10,page:(null===ke||void 0===ke?void 0:ke.page)||1,status:"all"===se?void 0:se,type:F,parent_id:B};(0,s.useEffect)((()=>{ee.refetch&&"list"===G&&(X((0,z.pE)(ze)),X((0,w.A_)(ee)))}),[ee.refetch]),(0,S.Z)((()=>{"list"===G&&X((0,z.pE)(ze))}),[ee.data,F,B,G]);const Ve=()=>{ye(!0),k.Z.export(ze).then((e=>{window.location.href=Z.S0+e.data.file_name})).finally((()=>ye(!1)))},_e={selectedRowKeys:pe,onChange:e=>{ge(e)}},He=()=>{null===pe||0===pe.length?f.Am.warning(J("select.the.product")):(me(!0),fe(!1))},Ie=e=>{const t=ee.data;X((0,w.nc)({activeMenu:ee,data:{...t,...e}}))},Se=()=>{X((0,w.nc)({activeMenu:ee,data:void 0}))};return(0,P.jsxs)(P.Fragment,{children:[!B&&(0,P.jsx)(v.Z,{className:"p-0",children:(0,P.jsxs)(u.Z,{wrap:!0,size:[14,20],children:[(0,P.jsx)(I.Z,{placeholder:J("search"),className:"w-25",handleChange:e=>{Ie({search:e})},defaultValue:null===(E=ee.data)||void 0===E?void 0:E.search,resetSearch:!(null!==(U=ee.data)&&void 0!==U&&U.search),style:{minWidth:300}}),(0,P.jsx)(_.Z,{size:"",onClick:He,children:J("delete.selected")}),(0,P.jsxs)(g.Z,{style:{minWidth:150},onClick:re,children:[(0,P.jsx)(N.o5r,{className:"mr-2"}),J("import")]}),(0,P.jsxs)(g.Z,{style:{minWidth:150},loading:Ze,onClick:Ve,children:[(0,P.jsx)(N.bwQ,{className:"mr-2"}),J("export")]}),"child"!==K&&(0,P.jsx)(g.Z,{type:"primary",icon:(0,P.jsx)(d.Z,{}),onClick:oe,children:J("add.category")}),(0,P.jsx)(g.Z,{icon:(0,P.jsx)(o.Z,{}),onClick:Se,disabled:!ee.data,style:{minWidth:100}}),(0,P.jsx)(H.Z,{columns:ue,setColumns:he})]})}),(0,P.jsxs)(v.Z,{title:J(B?"sub.category":"categories"),children:[B&&(0,P.jsxs)(u.Z,{wrap:!0,size:[14,20],children:[(0,P.jsx)(I.Z,{placeholder:J("search"),className:"w-25",handleChange:e=>{Ie({search:e})},defaultValue:null===(A=ee.data)||void 0===A?void 0:A.search,resetSearch:!(null!==(W=ee.data)&&void 0!==W&&W.search),style:{minWidth:300}}),(0,P.jsx)(_.Z,{size:"",onClick:He,children:J("delete.selected")}),(0,P.jsxs)(g.Z,{style:{minWidth:150},onClick:re,children:[(0,P.jsx)(N.o5r,{className:"mr-2"}),J("import")]}),(0,P.jsxs)(g.Z,{style:{minWidth:150},loading:Ze,onClick:Ve,children:[(0,P.jsx)(N.bwQ,{className:"mr-2"}),J("export")]}),"child"!==K&&(0,P.jsx)(g.Z,{type:"primary",icon:(0,P.jsx)(d.Z,{}),onClick:oe,children:J("add.category")}),(0,P.jsx)(g.Z,{icon:(0,P.jsx)(o.Z,{}),onClick:Se,disabled:!ee.data,style:{minWidth:100}}),(0,P.jsx)(H.Z,{columns:ue,setColumns:he})]}),(0,P.jsx)(r.Z,{className:"mt-3",activeKey:se,onChange:e=>{Ie({role:e,page:1}),ae(e)},type:"card",children:$.map((e=>(0,P.jsx)(T,{tab:J(e)},e)))}),(0,P.jsx)(x.Z,{scroll:{x:!0},rowSelection:_e,columns:null===ue||void 0===ue?void 0:ue.filter((e=>e.is_show)),dataSource:be,pagination:{pageSize:(null===(O=ee.data)||void 0===O?void 0:O.perPage)||10,page:(null===ke||void 0===ke?void 0:ke.page)||1,total:Ce.total,defaultCurrent:null===ke||void 0===ke?void 0:ke.page,current:null===(D=ee.data)||void 0===D?void 0:D.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:s,current:n}=e,{field:l,order:i}=a,c=(0,M.Z)(i);X((0,w.nc)({activeMenu:ee,data:{...ee.data,perPage:s,page:n,column:l,sort:c}}))},loading:we})]}),(0,P.jsx)(b.Z,{click:le?()=>{xe(!0),k.Z.setActive(pe).then((()=>{me(!1),X((0,z.pE)(ze)),f.Am.success(J("successfully.updated")),ie(!1)})).finally((()=>xe(!1)))}:()=>{xe(!0);const e={...Object.assign({},...pe.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};k.Z.delete(e).then((()=>{X((0,z.pE)(ze)),f.Am.success(J("successfully.deleted"))})).finally((()=>{me(!1),xe(!1),fe(null),ge(null)}))},text:J(le?"set.active.category":je?"delete":"all.delete"),setText:ge,loading:ve}),ce&&(0,P.jsx)(L,{categoryDetails:ce,handleCancel:()=>de(null),paramsData:ze})]})}},15386:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(1413),n=a(47313);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=a(17469),c=function(e,t){return n.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:l}))};c.displayName="ClearOutlined";const d=n.forwardRef(c)},55768:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(1413),n=a(47313);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=a(17469),c=function(e,t){return n.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:l}))};c.displayName="PlusCircleOutlined";const d=n.forwardRef(c)},99587:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(1413),n=a(47313);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=a(17469),c=function(e,t){return n.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:l}))};c.displayName="TableOutlined";const d=n.forwardRef(c)}}]);