"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1317],{31543:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var u=n(29439),r=n(47313),o=n(77181),a=n(59491),i=n(2717),c=n(24511),f=n(91107),l=n(34632),d=n(66736),p=n(34344),s={upload:function(e){return p.Z.post("dashboard/admin/project-upload",e)},update:function(e){return p.Z.post("dashboard/admin/project-update",e)}},v=n(90954),y=n(23560),m=n(46417);function h(){var e=(0,r.useState)(!1),t=(0,u.Z)(e,2),n=t[0],p=t[1],h=(0,i.I0)(),g=(0,c.$)().t,j=(0,i.v9)((function(e){return e.menu}),i.wU).activeMenu,b=function(e){return{uid:e.title,name:e.title,status:"done",url:e.title,created:!0}};return(0,m.jsx)(o.Z,{title:g("update"),extra:(0,m.jsx)(a.Z,{type:"primary",icon:(0,m.jsx)(l.Z,{}),loading:n,onClick:function(){p(!0),s.update().then((function(){return y.Am.success(g("successfully.updated"))})).finally((function(){return p(!1)}))},children:g("update.database")}),children:(0,m.jsxs)(f.Z,{name:"file",multiple:!1,maxCount:1,customRequest:function(e){var t=e.file,n=e.onSuccess,u=new FormData;u.append("file",t),s.upload(u).then((function(e){var t=e.data;h((0,v.nc)({activeMenu:j,data:b(t)})),n("ok")}))},defaultFileList:null!==j&&void 0!==j&&j.data?[null===j||void 0===j?void 0:j.data]:null,beforeUpload:function(e){var t="image/png"===e.type,n="image/jpg"===e.type,u="image/jpeg"===e.type;if(t||u||n)return y.Am.error("".concat(e.name," is not valid file")),!1},children:[(0,m.jsx)("p",{className:"ant-upload-drag-icon",children:(0,m.jsx)(d.Z,{})}),(0,m.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,m.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}},72764:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},6492:function(e,t,n){var u=n(20862),r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t||{},u=n.defaultValue,r=n.value,c=n.onChange,f=n.postState,l=(0,i.default)((function(){return void 0!==r?r:void 0!==u?"function"===typeof u?u():u:"function"===typeof e?e():e})),d=(0,o.default)(l,2),p=d[0],s=d[1],v=void 0!==r?r:p;f&&(v=f(v));var y=a.useRef(c);y.current=c;var m=a.useCallback((function(e,t){s(e,t),v!==e&&y.current&&y.current(e,v)}),[v,y]),h=a.useRef(r);return a.useEffect((function(){void 0===r&&r!==h.current&&s(r),h.current=r}),[r]),[v,m]};var o=r(n(63038)),a=u(n(47313)),i=r(n(41993))},41993:function(e,t,n){var u=n(20862),r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.useRef(!1),n=a.useState(e),u=(0,o.default)(n,2),r=u[0],i=u[1];return a.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){if(n&&t.current)return;i(e)}]};var o=r(n(63038)),a=u(n(47313))},81170:function(e,t,n){var u=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.composeRef=c,t.fillRef=i,t.supportRef=function(e){var t,n,u=(0,o.isMemo)(e)?e.type.type:e.type;if("function"===typeof u&&!(null===(t=u.prototype)||void 0===t?void 0:t.render))return!1;if("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))return!1;return!0},t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){return c.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))};var r=u(n(50008)),o=n(96214),a=u(n(57578));function i(e,t){"function"===typeof e?e(t):"object"===(0,r.default)(e)&&e&&"current"in e&&(e.current=t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var u=t.filter((function(e){return e}));return u.length<=1?u[0]:function(e){t.forEach((function(t){i(t,e)}))}}}}]);