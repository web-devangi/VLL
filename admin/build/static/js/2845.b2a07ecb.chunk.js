"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2845],{32845:function(e,a,l){l.r(a),l.d(a,{default:function(){return D}});var s=l(47313),r=l(77181),n=l(1413),i=l(29439),t=l(10976),u=l(68197),d=l(59624),m=l(66672),c=l(16124),o=l(99096),h=l(74294),v=l(45705),Z=l(59491),p=l(2717),x=l(24511),j=l(5764),f=l(70816),y=l.n(f),g=l(58328),b=l(23560),q=l(90954),w=l(97890),I=l(94291),S=l(46417),N=function(){var e,a,l,r,f=(0,x.$)().t,N=t.Z.useForm(),k=(0,i.Z)(N,1)[0],D=(0,p.I0)(),L=(0,w.s0)(),Y=(0,w.TH)().state,M=(0,p.v9)((function(e){return e.myShop}),p.wU),T=M.myShop,U=(0,p.v9)((function(e){return e.menu}),p.wU),z=U.activeMenu,C=(0,s.useState)(!1),F=(0,i.Z)(C,2),H=F[0],O=F[1],P=(0,s.useState)([]),$=(0,i.Z)(P,2),_=$[0],A=$[1],E=(0,s.useState)(null),V=(0,i.Z)(E,2),B=V[0],G=V[1];return(0,S.jsxs)(t.Z,{form:k,layout:"vertical",onFinish:function(e){var a,l=(0,n.Z)((0,n.Z)({},e),{},{birthday:y()(e.birthday).format("YYYY-MM-DD"),images:[null===_||void 0===_||null===(a=_[0])||void 0===a?void 0:a.name],shop_id:[null===T||void 0===T?void 0:T.id],role:"deliveryman"}),s="seller/deliverymen";O(!0),g.Z.create(l).then((function(){b.Am.success(f("successfully.created")),D((0,q.ph)((0,n.Z)((0,n.Z)({},z),{},{nextUrl:s}))),D((0,I.EH)(null===Y||void 0===Y?void 0:Y.paramsData)),L("/".concat(s))})).catch((function(e){return G(e.response.data.params)})).finally((function(){return O(!1)}))},children:[(0,S.jsxs)(u.Z,{gutter:12,children:[(0,S.jsx)(d.Z,{span:24,children:(0,S.jsx)(t.Z.Item,{name:"avatar",label:f("images"),rules:[{required:!(null!==_&&void 0!==_&&_.length),message:f("required")}],children:(0,S.jsx)(j.Z,{type:"users",imageList:_,setImageList:A,form:k,multiple:!1,name:"logo_img"})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("firstname"),name:"firstname",help:null===B||void 0===B||null===(e=B.firstname)||void 0===e?void 0:e[0],validateStatus:null!==B&&void 0!==B&&B.firstname?"error":"success",rules:[{required:!0,message:f("required")}],children:(0,S.jsx)(m.Z,{className:"w-100",maxLength:20})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("lastname"),name:"lastname",help:null===B||void 0===B||null===(a=B.lastname)||void 0===a?void 0:a[0],validateStatus:null!==B&&void 0!==B&&B.lastname?"error":"success",rules:[{required:!0,message:f("required")}],children:(0,S.jsx)(m.Z,{className:"w-100",maxLength:20})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("phone"),name:"phone",help:null===B||void 0===B||null===(l=B.phone)||void 0===l?void 0:l[0],validateStatus:null!==B&&void 0!==B&&B.phone?"error":"success",rules:[{required:!0,message:f("required")}],children:(0,S.jsx)(c.Z,{min:0,className:"w-100"})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("birthday"),name:"birthday",rules:[{required:!0,message:f("required")}],valuePropName:"birthday",children:(0,S.jsx)(o.Z,{className:"w-100",disabledDate:function(e){return y()().add(-18,"years")<=e},defaultPickerValue:y()().add(-18,"years")})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("gender"),name:"gender",rules:[{required:!0,message:f("required")}],children:(0,S.jsxs)(h.Z,{picker:"dayTime",className:"w-100",children:[(0,S.jsx)(h.Z.Option,{value:"male",children:f("male")},"male"),(0,S.jsx)(h.Z.Option,{value:"female",children:f("female")},"female")]})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(t.Z.Item,{label:f("email"),name:"email",help:null===B||void 0===B||null===(r=B.email)||void 0===r?void 0:r[0],validateStatus:null!==B&&void 0!==B&&B.email?"error":"success",rules:[{required:!0,message:f("required")},{type:"email",message:f("invalid.email")}],children:(0,S.jsx)(m.Z,{type:"email",className:"w-100"})})})]}),(0,S.jsx)(v.Z,{wrap:!0,children:(0,S.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:H,children:f("submit")})})]})},k=function(){return(0,S.jsx)(N,{})};var D=function(){var e=(0,x.$)().t;return(0,S.jsx)(r.Z,{title:e("add.deliveryman"),children:(0,S.jsx)(k,{})})}}}]);