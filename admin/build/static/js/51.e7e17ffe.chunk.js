"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[51],{90354:(e,t,l)=>{l.d(t,{Z:()=>o});l(47313);var n=l(97890),a=l(77181),c=l(59491),i=l(2717),s=l(90954),r=l(55768),d=l(46417);const o=e=>{let{children:t,containerName:l,headerTitle:o,subtitle:u,navLInkTo:h,buttonTitle:m,state:Z}=e;const x=(0,i.I0)(),f=(0,n.s0)();return(0,d.jsx)("div",{className:l,children:(0,d.jsx)(a.Z,{title:o,extra:m?(0,d.jsx)(c.Z,{type:"primary",icon:(0,d.jsx)(r.Z,{}),onClick:()=>{let e="";const t=h.split("");"/"===t[0]&&t.shift(),e=t.join("");const l={id:e,url:e,name:m};x((0,s.bL)(l)),f(h)},children:m}):null,children:t})})}},73431:(e,t,l)=>{l.d(t,{Z:()=>d});var n=l(47313),a=l(39180),c=l(2717),i=l(28830),s=l(60535),r=l(46417);const d=()=>{const e=(0,c.I0)(),{languages:t,defaultLang:l}=(0,c.v9)((e=>e.formLang),c.wU);(0,n.useEffect)((()=>{s.Z.getAllActive().then((t=>{let{data:l}=t;e((0,i.dc)(l)),e((0,i.mh)(l.find((e=>1===e.default)).locale))}))}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.ZP.Group,{value:l,onChange:t=>{let{target:{value:l}}=t;e((0,i.mh)(l))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((e=>(0,r.jsx)(a.ZP.Button,{value:e.locale,children:e.title},e.id)))})})}},62019:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(!t)return{};const{translations:n}=t,a=(e,t)=>{const l=n.find((t=>t.locale===e.locale));return l||{[t]:""}},c=e.flatMap((e=>l.flatMap((t=>({["".concat(t,"[").concat(e.locale,"]")]:a(e,t)[t]})))));return Object.assign({},...c)}l.d(t,{Z:()=>n})},75336:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=e.map((e=>({[e.locale]:""===t["".concat(l,"[").concat(e.locale,"]")]?void 0:t["".concat(l,"[").concat(e.locale,"]")]})));return Object.assign({},...n)}l.d(t,{Z:()=>n})},30051:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var n=l(47313),a=l(86345),c=l(78508),i=l(74580),s=l(90354),r=l(69658),d=l(2717),o=l(42111),u=l(90954),h=l(26457),m=l(24511),Z=l(10976),x=l(9274),f=l(59491),j=l(68197),v=l(59624),g=l(66672),p=l(51282),y=l(73431),b=l(75336),_=l(62019),I=l(46417);function C(e){let{modal:t,handleCancel:l}=e;const{activeMenu:a}=(0,d.v9)((e=>e.menu),d.wU),{languages:c,defaultLang:i}=(0,d.v9)((e=>e.formLang),d.wU),[s]=Z.Z.useForm(),r=(0,d.I0)(),{t:o}=(0,m.$)(),[C,k]=(0,n.useState)(!1),[q,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>{var e;t&&(e=t.id,k(!0),h.Z.getById(e).then((e=>{let{data:t}=e;const l=(0,_.Z)(c,t,["title","client_title","secret_title"]);s.setFieldsValue({...t,...l})})).finally((()=>k(!1))))}),[t]);return(0,I.jsx)(x.Z,{visible:!!t,title:o("edit.payment"),onCancel:l,footer:[(0,I.jsx)(f.Z,{type:"primary",onClick:()=>s.submit(),loading:q,children:o("save")},"save-btn"),(0,I.jsx)(f.Z,{type:"default",onClick:l,children:o("cancel")},"cancel-btn")],children:C?(0,I.jsx)(p.Z,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsx)(y.Z,{})}),(0,I.jsx)(Z.Z,{form:s,layout:"vertical",onFinish:e=>{const n={client_id:e.client_id,secret_id:e.secret_id,title:(0,b.Z)(c,e,"title"),client_title:(0,b.Z)(c,e,"client_title"),secret_title:(0,b.Z)(c,e,"secret_title")};w(!0),h.Z.update(t.id,n).then((()=>{l(),r((0,u.xo)(a))})).finally((()=>w(!1)))},children:(0,I.jsxs)(j.Z,{gutter:12,children:[(0,I.jsx)(v.Z,{span:24,children:c.map((e=>(0,I.jsx)(Z.Z.Item,{label:o("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===i,message:o("required")}],hidden:e.locale!==i,children:(0,I.jsx)(g.Z,{})})))}),(0,I.jsx)(v.Z,{span:24,children:c.map((e=>(0,I.jsx)(Z.Z.Item,{label:o("client.title"),name:"client_title[".concat(e.locale,"]"),rules:[{required:e.locale===i,message:o("required")}],hidden:e.locale!==i,children:(0,I.jsx)(g.Z,{})})))}),(0,I.jsx)(v.Z,{span:24,children:c.map((e=>(0,I.jsx)(Z.Z.Item,{label:o("secret.title"),name:"secret_title[".concat(e.locale,"]"),rules:[{required:e.locale===i,message:o("requried")}],hidden:e.locale!==i,children:(0,I.jsx)(g.Z,{})})))}),(0,I.jsx)(v.Z,{span:24,children:(0,I.jsx)(Z.Z.Item,{label:o("client.id"),name:"client_id",rules:[{required:!0,message:o("required")}],children:(0,I.jsx)(g.Z,{})})}),(0,I.jsx)(v.Z,{span:24,children:(0,I.jsx)(Z.Z.Item,{label:o("secret.id"),name:"secret_id",rules:[{required:!0,message:o("required")}],children:(0,I.jsx)(g.Z,{})})})]})})]})})}function k(){const{t:e}=(0,m.$)(),[t,l]=(0,n.useState)(null),[Z,x]=(0,n.useState)(null),[f,j]=(0,n.useState)(!1),{setIsModalVisible:v}=(0,n.useContext)(i._),{payments:g,loading:p}=(0,d.v9)((e=>e.payment),d.wU),{activeMenu:y}=(0,d.v9)((e=>e.menu),d.wU),b=(0,d.I0)(),_=[{title:e("title"),dataIndex:"tag",key:"tag"},{title:e("active"),dataIndex:"active",key:"active",render:(e,t)=>(0,I.jsx)(a.Z,{onChange:()=>{v(!0),l(t.id)},checked:e})}];return(0,n.useEffect)((()=>{y.refetch&&(b((0,o.cQ)()),b((0,u.A_)(y)))}),[y.refetch]),(0,I.jsxs)(s.Z,{headerTitle:e("payments"),children:[(0,I.jsx)(c.Z,{scroll:{x:!0},columns:_,dataSource:g,rowKey:e=>e.id,loading:p,pagination:!1}),(0,I.jsx)(r.Z,{click:function(){j(!0),h.Z.setActive(t).then((()=>{v(!1),l(null),b((0,o.cQ)())})).finally((()=>j(!1)))},text:e("set.active.payment"),loading:f}),Z&&(0,I.jsx)(C,{modal:Z,handleCancel:()=>x(null)})]})}},55768:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(1413),a=l(47313);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=l(17469),s=function(e,t){return a.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};s.displayName="PlusCircleOutlined";const r=a.forwardRef(s)}}]);