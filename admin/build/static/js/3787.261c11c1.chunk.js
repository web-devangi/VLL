"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3787],{31247:(e,t,n)=>{n.d(t,{Z:()=>u});var l=n(47313),i=n(72652),o=n(15178),s=n(55291),a=n(82138),r=n(36104),d=n(24511),c=n(46417);const u=e=>{let{fileList:t=[],setFileList:n,type:u,id:v}=e;const{t:p}=(0,d.$)(),[m,x]=(0,l.useState)(!1),h=m?(0,c.jsx)(i.Z,{}):(0,c.jsx)(a.Z,{}),j=t.find((e=>e.id===v))||[];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{listType:"picture-card",fileList:(null===j||void 0===j?void 0:j.galleries)||(null===j||void 0===j?void 0:j.images),customRequest:e=>{let{file:l,onSuccess:i}=e;x(!0);const o=new FormData;o.append("image",l),o.append("type",u),r.Z.upload(o).then((e=>{let{data:l}=e;((e,l)=>{if(t.findIndex((t=>t.id===e))>=0){const i=t.map((t=>t.id===e?{id:e,images:[...t.images,l]}:t));n(i)}else n((t=>[...t,{id:e,images:[l]}]))})(v,(e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0}))(l)),i("ok")})).finally((()=>{x(!1)}))},onRemove:e=>{const l=t.map((t=>{if(t.id===v){const n=t.images.filter((t=>t.uid!==e.uid));return 0===n.length?null:{...t,images:n}}return t})).filter((e=>null!==e));n(l)},showUploadList:!0,accept:".png,.jpg,.jpeg,.webp",beforeUpload:e=>!!(e.size/1024/1024<2)||(s.ZP.error(p("max.2.mb")),!1),children:h})})}},15219:(e,t,n)=>{n.d(t,{Z:()=>Z});var l=n(47313),i=n(69888),o=n(23885),s=n(77181),a=n(37388),r=n(45705),d=n(68197),c=n(59624),u=n(41068),v=n(46155),p=n(59491),m=n(34273),x=n(2717),h=n(31247),j=n(18333),g=n(46417);const Z=e=>{var t;let{prev:n,next:Z}=e;const[f,S]=(0,l.useState)([]),{activeMenu:y}=(0,x.v9)((e=>e.menu),x.wU),{newExtras:k}=(null===y||void 0===y?void 0:y.data)||{},w=(0,l.useMemo)((()=>null===k||void 0===k?void 0:k.find((e=>{var t;return"color"===(null===e||void 0===e||null===(t=e.group)||void 0===t?void 0:t.type)}))),[k]);console.log(null===y||void 0===y?void 0:y.data);const b=Array.from(new Set(null===w||void 0===w||null===(t=w.values)||void 0===t?void 0:t.map((e=>e.value)))).map((e=>{var t;return null===w||void 0===w||null===(t=w.values)||void 0===t?void 0:t.find((t=>t.value===e))})),F=b.filter((e=>"color"===e.group_type)),L=e=>({uid:e.path,name:e.path,status:"done",url:e.path,created:!0});return(0,l.useEffect)((()=>{(()=>{const e=y.data.stocks.map((e=>{let{id:t,galleries:n}=e;return{id:t,images:(null===n||void 0===n?void 0:n.map(L))||[]}}));S(e)})()}),[y.data]),console.log(b),(0,g.jsxs)(s.Z,{title:(0,g.jsx)(a.Z,{placement:"topLeft",title:"In the process of internal desktop applications development",children:(0,g.jsxs)(r.Z,{children:[(0,o.t)("add.media.file"),(0,g.jsx)(i.Z,{style:{fontSize:16,cursor:"pointer"}})]})}),children:[(0,g.jsx)(d.Z,{gutter:[24,24],children:null===F||void 0===F?void 0:F.map((e=>{let{label:t,stock_id:n,value:l}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(c.Z,{span:24,children:[(0,g.jsx)(r.Z,{className:"mb-4",children:(0,g.jsx)(u.Z,{color:t||l,className:"extras-color-badge",text:"".concat(t||l," - ").concat((0,m.B)(t||l))})}),(0,g.jsx)(h.Z,{id:n,fileList:f,setFileList:S,type:"stocks"})]}),(0,g.jsx)(v.Z,{})]})}))}),(0,g.jsxs)(r.Z,{className:"mt-4",children:[(0,g.jsx)(p.Z,{onClick:n,children:(0,o.t)("prev")}),(0,g.jsx)(p.Z,{type:"primary",htmlType:"submit",onClick:()=>{if(!f.length)return void Z();const e=f.map((e=>({...e,images:e.images.map((e=>e.name))})));j.Z.updateStocks({data:e}).then((()=>{Z()})).catch((e=>{console.log(e)}))},children:(0,o.t)("next")})]})]})}},83787:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var l=n(47313),i=n(16848),o=n(83999),s=n(77181),a=n(12512),r=n(44902),d=n(63945),c=n(89904),u=n(32937),v=n(73431),p=n(2717),m=n(24511),x=n(15219),h=n(46417);const{Step:j}=o.Z,g=()=>{var e,t;const{t:n}=(0,m.$)(),{activeMenu:g}=(0,p.v9)((e=>e.menu),p.wU),[Z,f]=(0,l.useState)((null===(e=g.data)||void 0===e?void 0:e.step)||0),{extras:S}=(null===g||void 0===g?void 0:g.data)||{},y=(0,l.useMemo)((()=>null===S||void 0===S?void 0:S.find((e=>{var t;return"color"===(null===e||void 0===e||null===(t=e.group)||void 0===t?void 0:t.type)}))),[S]),k=Array.from(new Set(null===y||void 0===y||null===(t=y.values)||void 0===t?void 0:t.map((e=>e.value)))).map((e=>{var t;return null===y||void 0===y||null===(t=y.values)||void 0===t?void 0:t.find((t=>t.value===e))})).filter((e=>"color"===e.group_type)),w=()=>{f(Z+1)},b=()=>{f(Z-1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Z,{title:n("add.product"),extra:(0,h.jsx)(v.Z,{}),children:(0,h.jsx)(o.Z,{current:Z,children:i.S.map((e=>(0,h.jsx)(j,{title:n(e.title)},e.title)))})}),(0,h.jsxs)("div",{className:"",children:["First-content"===i.S[Z].content&&(0,h.jsx)(u.Z,{next:w}),"Second-content"===i.S[Z].content&&(0,h.jsx)(c.Z,{next:w,prev:b}),"Third-content"===i.S[Z].content&&(0,h.jsx)(d.Z,{next:w,prev:b}),"gallery-content"===i.S[Z].content&&k.length>0&&(0,h.jsx)(x.Z,{next:w,prev:b}),"Fourth-content"===i.S[Z].content&&(0,h.jsx)(a.Z,{next:w,prev:b}),"Finish-content"===i.S[Z].content&&(0,h.jsx)(r.Z,{prev:b})]})]})}}}]);