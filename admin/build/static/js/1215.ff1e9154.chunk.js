"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1215],{53233:(e,l,n)=>{n.d(l,{Z:()=>p});var a=n(47313),t=n(56140),s=n(67251),i=n(45705),o=n(86345),d=n(78267),r=n(37388),c=n(59491),u=n(99587),h=n(24511),v=n(46417);const{Text:m}=t.Z,p=e=>{let{columns:l=[],setColumns:n,style:t,size:p="",iconOnly:x}=e;const{t:Z}=(0,h.$)(),[g,j]=(0,a.useState)(!1),f=(0,v.jsx)(s.Z,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,v.jsx)(s.Z.Item,{children:(0,v.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(m,{children:e.title}),(0,v.jsx)(o.Z,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));n(a)}(e),disabled:1===a})]})},e+a)))});return(0,v.jsx)(d.Z,{overlay:f,trigger:["click"],onVisibleChange:e=>{j(e)},visible:g,children:(0,v.jsx)(r.Z,{title:Z("change.columns"),children:(0,v.jsx)(c.Z,{style:{...t},size:p,icon:(0,v.jsx)(u.Z,{}),children:x?null:Z("Columns")})})})}},4014:(e,l,n)=>{function a(e){var l,n;let a=null===e||void 0===e?void 0:e.slice(0,1),t=null===e||void 0===e?void 0:e.lastIndexOf("@"),s=null===e||void 0===e?void 0:e.slice(1,t-1);s=null===(l=s)||void 0===l?void 0:l.replace(/./g,"*");let i=null===e||void 0===e?void 0:e.slice(t-1,e.length);return null===a||void 0===a||null===(n=a.concat(s))||void 0===n?void 0:n.concat(i)}n.d(l,{Z:()=>a})},13945:(e,l,n)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(l,{Z:()=>a})},84017:(e,l,n)=>{function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const a=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===n?"".concat(a," ").concat(l):"".concat(l," ").concat(a)}n.d(l,{Z:()=>a})},41215:(e,l,n)=>{n.r(l),n.d(l,{default:()=>S});var a=n(47313),t=n(31741),s=n(73591),i=n(45705),o=n(59491),d=n(77181),r=n(78508),c=n(2717),u=n(84304),h=n(13945),v=n(90954),m=n(80314),p=n(9274),x=n(68197),Z=n(59624),g=n(83371),j=n(26824),f=n(58328),b=n(24511),I=n(51282),w=n(84017),y=n(85711),C=n(46417);function z(e){var l,n,t;let{uuid:s,handleCancel:i}=e;const[d,r]=(0,a.useState)({}),[u,h]=(0,a.useState)(!1),{t:v}=(0,b.$)(),{defaultCurrency:m}=(0,c.v9)((e=>e.currency),c.wU);return(0,a.useEffect)((()=>{!function(e){h(!0),f.Z.getById(e).then((e=>r(e.data))).finally((()=>h(!1)))}(s)}),[s]),(0,C.jsx)(p.Z,{visible:!!s,title:v("user"),onCancel:i,footer:[(0,C.jsx)(o.Z,{type:"default",onClick:i,children:v("cancel")})],className:d.shop?"large-modal":"",children:u?(0,C.jsx)(I.Z,{}):(0,C.jsxs)(x.Z,{gutter:24,children:[(0,C.jsx)(Z.Z,{span:d.shop?12:24,children:(0,C.jsxs)(g.Z,{bordered:!0,children:[(0,C.jsx)(g.Z.Item,{span:3,label:v("avatar"),children:(0,C.jsx)(j.Z,{src:(0,y.Z)(d.img),alt:d.firstname,width:80,className:"rounded"})}),(0,C.jsx)(g.Z.Item,{span:3,label:v("user.id"),children:d.id}),(0,C.jsxs)(g.Z.Item,{span:3,label:v("name"),children:[d.firstname," ",d.lastname||""]}),(0,C.jsx)(g.Z.Item,{span:3,label:v("gender"),children:d.gender}),(0,C.jsx)(g.Z.Item,{span:3,label:v("birthday"),children:d.birthday}),(0,C.jsx)(g.Z.Item,{span:3,label:v("email"),children:d.email}),(0,C.jsx)(g.Z.Item,{span:3,label:v("phone"),children:d.phone}),(0,C.jsx)(g.Z.Item,{span:3,label:v("role"),children:d.role}),(0,C.jsx)(g.Z.Item,{span:3,label:v("wallet"),children:(0,w.Z)(null===(l=d.wallet)||void 0===l?void 0:l.price,null===m||void 0===m?void 0:m.symbol)})]})}),d.shop?(0,C.jsx)(Z.Z,{span:12,children:(0,C.jsxs)(g.Z,{bordered:!0,children:[(0,C.jsx)(g.Z.Item,{span:3,label:v("shop.id"),children:d.shop.id}),(0,C.jsx)(g.Z.Item,{span:3,label:v("shop.name"),children:null===(n=d.shop.translation)||void 0===n?void 0:n.title}),(0,C.jsx)(g.Z.Item,{span:3,label:v("shop.logo"),children:(0,C.jsx)("img",{src:(0,y.Z)(d.shop.logo_img),alt:null===(t=d.shop.translation)||void 0===t?void 0:t.title,width:100,className:"rounded"})}),(0,C.jsx)(g.Z.Item,{span:3,label:v("shop.phone"),children:d.shop.phone}),(0,C.jsxs)(g.Z.Item,{span:3,label:v("shop.open_close.time"),children:[d.shop.open_time," - ",d.shop.close_time]}),(0,C.jsx)(g.Z.Item,{span:3,label:v("delivery.range"),children:d.shop.delivery_range})]})}):""]})})}var _=n(53233),V=n(4014);const{TabPane:k}=s.Z,H=["moderator","cook","waiter","deliveryman","user"];function S(){var e;const{t:l}=(0,b.$)(),n=(0,c.I0)(),{activeMenu:p}=(0,c.v9)((e=>e.menu),c.wU),{users:x,loading:Z,meta:g,params:j}=(0,c.v9)((e=>e.user),c.wU),[f,I]=(0,a.useState)(null),[w,y]=(0,a.useState)([{title:l("id"),dataIndex:"id",sorter:!0,is_show:!0},{title:l("firstname"),dataIndex:"firstname",is_show:!0},{title:l("lastname"),dataIndex:"lastname",is_show:!0},{title:l("email"),dataIndex:"email",is_show:!0,render:e=>e?(0,V.Z)(e):l("no.email")},{title:l("role"),dataIndex:"role",is_show:!0},{title:l("options"),dataIndex:"options",is_show:!0,render:(e,l)=>(0,C.jsx)(i.Z,{children:(0,C.jsx)(o.Z,{icon:(0,C.jsx)(t.Z,{}),onClick:()=>I(l.uuid)})})}]);(0,a.useEffect)((()=>{if(p.refetch){const e=p.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,u.pc)(l)),n((0,v.A_)(p))}}),[p.refetch]),(0,m.Z)((()=>{const e=p.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,u.pc)(l))}),[p.data]);return(0,C.jsxs)(d.Z,{title:l("shop.users"),extra:(0,C.jsx)(_.Z,{columns:w,setColumns:y}),children:[(0,C.jsx)(s.Z,{activeKey:(null===(e=p.data)||void 0===e?void 0:e.role)||"moderator",onChange:e=>{n((0,v.nc)({activeMenu:p,data:{...p.data,role:e}}))},type:"card",children:H.map((e=>(0,C.jsx)(k,{tab:l(e)},e)))}),(0,C.jsx)(r.Z,{scroll:{x:!0},columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:x,loading:Z,pagination:{pageSize:j.perPage,page:j.page,total:g.total,defaultCurrent:j.page},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:t,current:s}=e,{field:i,order:o}=a,d=(0,h.Z)(o);n((0,v.nc)({activeMenu:p,data:{...p.data,perPage:t,page:s,column:i,sort:d}}))}}),f&&(0,C.jsx)(z,{uuid:f,handleCancel:()=>I(null)})]})}},99587:(e,l,n)=>{n.d(l,{Z:()=>d});var a=n(1413),t=n(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(17469),o=function(e,l){return t.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:l,icon:s}))};o.displayName="TableOutlined";const d=t.forwardRef(o)}}]);