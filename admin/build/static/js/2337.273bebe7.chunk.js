"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2337],{52337:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(47313),l=n(2717),i=n(73431),o=n(24511),d=n(28780),r=n(83999),s=n(77181),c=n(2977),u=n(33834),v=n(90954),m=n(53149),p=n(97890),g=n(97421),f=n(51282),x=n(80812),_=n(48662),h=n(47918),y=n(46417);const{Step:j}=r.Z,Z=()=>{var e;const{t:t}=(0,o.$)(),{activeMenu:n}=(0,l.v9)((e=>e.menu),l.wU),Z=(0,u.K)(),b=Number((null===(e=Z.values)||void 0===e?void 0:e.step)||0),[k,S]=(0,a.useState)(n.refetch),w=(0,l.I0)(),{uuid:C}=(0,p.UO)(),{languages:M}=(0,l.v9)((e=>e.formLang),l.wU),U=()=>{const e=b+1;Z.set("step",e)},z=()=>{const e=b-1;Z.set("step",e)},F=e=>({items:e,uid:e,url:g.bV+e,name:e});function I(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,n=M.map((e=>{var n,a,l;return{["title[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.title,["description[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.description,["address[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...n)}return(0,a.useEffect)((()=>{n.refetch&&C&&(e=>{S(!0),m.Z.getById(e).then((e=>{var t,a,l,i,o;const d={...e.data,...I(e.data),logo_img:F(e.data.logo_img),background_img:F(e.data.background_img),user:"",delivery_time_from:null===(t=e.data)||void 0===t?void 0:t.delivery_time.from,delivery_time_to:null===(a=e.data)||void 0===a?void 0:a.delivery_time.to,delivery_time_type:null===(l=e.data)||void 0===l?void 0:l.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(i=e.data)||void 0===i?void 0:i.categories.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(o=e.data)||void 0===o?void 0:o.tags.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))};w((0,v.nc)({activeMenu:n,data:d}))})).finally((()=>{S(!1),w((0,v.A_)(n))}))})(C)}),[n.refetch]),(0,y.jsxs)(s.Z,{title:t("restaurant.clone"),extra:(0,y.jsx)(i.Z,{}),children:[(0,y.jsx)(r.Z,{current:b,onChange:e=>{w((0,v.nc)({activeMenu:n,data:{...n.data,step:e}})),Z.set("step",e)},children:d.S.map((e=>(0,y.jsx)(j,{title:t(e.title)},e.title)))}),k?(0,y.jsx)(f.Z,{}):(0,y.jsxs)("div",{className:"steps-content",children:["First-content"===d.S[b].content&&(0,y.jsx)(x.Z,{next:U,loading:k,user:!1}),"Second-content"===d.S[b].content&&(0,y.jsx)(h.Z,{next:U,prev:z}),"Third-content"===d.S[b].content&&(0,y.jsx)(_.Z,{next:U,prev:z}),"Four-content"===d.S[b].content&&(0,y.jsx)(c.Z,{next:U,prev:z})]})]})}}}]);