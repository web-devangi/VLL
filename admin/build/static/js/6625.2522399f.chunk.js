"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6625],{6625:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(47313),i=s(10976),l=s(77181),n=s(68197),r=s(59624),c=s(66672),d=s(86345),m=s(59491),u=s(72652),o=s(23560),h=s(97890),v=s(2717),g=s(90954),j=s(97421),x=s(24511),p=s(48697),Z=s(73253),f=s(5764),b=s(46417);const y=()=>{var e,a;const{t:s}=(0,x.$)(),{activeMenu:y}=(0,v.v9)((e=>e.menu),v.wU),{id:I}=(0,h.UO)(),k=(0,v.I0)(),{params:w}=(0,v.v9)((e=>e.brand),v.wU),[F,N]=(0,t.useState)(null!==(e=y.data)&&void 0!==e&&e.image?[null===(a=y.data)||void 0===a?void 0:a.image]:[]),[U]=i.Z.useForm(),V=(0,h.s0)(),[q,z]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1);(0,t.useEffect)((()=>()=>{const e=U.getFieldsValue(!0);k((0,g.nc)({activeMenu:y,data:e}))}),[]);const S=e=>({name:e,url:j.bV+e});return(0,t.useEffect)((()=>{y.refetch&&(e=>{z(!0),p.Z.getById(e).then((e=>{let a=e.data;U.setFieldsValue({...a,image:[S(a.img)]}),N([S(a.img)])})).finally((()=>{z(!1),k((0,g.A_)(y))}))})(I)}),[y.refetch]),(0,b.jsx)(l.Z,{title:s("edit.brand"),children:q?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(u.Z,{size:"large",className:"py-5"})}):(0,b.jsxs)(i.Z,{name:"basic",layout:"vertical",onFinish:e=>{var a;const t={...e,active:e.active?1:0,"images[0]":null===(a=F[0])||void 0===a?void 0:a.name};P(!0);const i={...w},l="seller/brands";p.Z.update(I,t).then((()=>{o.Am.success(s("successfully.updated")),k((0,g.ph)({...y,nextUrl:l})),V("/".concat(l)),k((0,Z.RJ)(i))})).finally((()=>P(!1)))},form:U,initialValues:{...y.data},children:[(0,b.jsxs)(n.Z,{gutter:12,children:[(0,b.jsx)(r.Z,{span:12,children:(0,b.jsx)(i.Z.Item,{label:s("title"),name:"title",rules:[{required:!0,message:s("required")}],children:(0,b.jsx)(c.Z,{})})}),(0,b.jsx)(r.Z,{span:6,children:(0,b.jsx)(i.Z.Item,{label:s("image"),name:"images",rules:[{validator:()=>0===F.length?Promise.reject(new Error(s("required"))):Promise.resolve()}],children:(0,b.jsx)(f.Z,{type:"brands",imageList:F,setImageList:N,form:U,multiple:!1})})}),(0,b.jsx)(r.Z,{span:6,children:(0,b.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,b.jsx)(i.Z.Item,{label:s("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(d.Z,{})})})})]}),(0,b.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:E,children:s("submit")})]})})}}}]);