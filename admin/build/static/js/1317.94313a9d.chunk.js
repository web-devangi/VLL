"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1317],{31543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(47313),u=n(77181),a=n(59491),o=n(2717),i=n(24511),l=n(91107),c=n(34632),d=n(66736),f=n(34344);const s={upload:e=>f.Z.post("dashboard/admin/project-upload",e),update:e=>f.Z.post("dashboard/admin/project-update",e)};var p=n(90954),v=n(23560),y=n(46417);function m(){const[e,t]=(0,r.useState)(!1),n=(0,o.I0)(),{t:f}=(0,i.$)(),{activeMenu:m}=(0,o.v9)((e=>e.menu),o.wU),h=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,y.jsx)(u.Z,{title:f("update"),extra:(0,y.jsx)(a.Z,{type:"primary",icon:(0,y.jsx)(c.Z,{}),loading:e,onClick:()=>{t(!0),s.update().then((()=>v.Am.success(f("successfully.updated")))).finally((()=>t(!1)))},children:f("update.database")}),children:(0,y.jsxs)(l.Z,{name:"file",multiple:!1,maxCount:1,customRequest:e=>{let{file:t,onSuccess:r}=e;const u=new FormData;u.append("file",t),s.upload(u).then((e=>{let{data:t}=e;n((0,p.nc)({activeMenu:m,data:h(t)})),r("ok")}))},defaultFileList:null!==m&&void 0!==m&&m.data?[null===m||void 0===m?void 0:m.data]:null,beforeUpload:e=>{const t="image/png"===e.type,n="image/jpg"===e.type,r="image/jpeg"===e.type;if(t||r||n)return v.Am.error("".concat(e.name," is not valid file")),!1},children:[(0,y.jsx)("p",{className:"ant-upload-drag-icon",children:(0,y.jsx)(d.Z,{})}),(0,y.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,y.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}},72764:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},6492:(e,t,n)=>{var r=n(20862),u=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t||{},r=n.defaultValue,u=n.value,l=n.onChange,c=n.postState,d=(0,i.default)((function(){return void 0!==u?u:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),f=(0,a.default)(d,2),s=f[0],p=f[1],v=void 0!==u?u:s;c&&(v=c(v));var y=o.useRef(l);y.current=l;var m=o.useCallback((function(e,t){p(e,t),v!==e&&y.current&&y.current(e,v)}),[v,y]),h=o.useRef(u);return o.useEffect((function(){void 0===u&&u!==h.current&&p(u),h.current=u}),[u]),[v,m]};var a=u(n(63038)),o=r(n(47313)),i=u(n(41993))},41993:(e,t,n)=>{var r=n(20862),u=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.useRef(!1),n=o.useState(e),r=(0,a.default)(n,2),u=r[0],i=r[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[u,function(e,n){if(n&&t.current)return;i(e)}]};var a=u(n(63038)),o=r(n(47313))},81170:(e,t,n)=>{var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.composeRef=l,t.fillRef=i,t.supportRef=function(e){var t,n,r=(0,a.isMemo)(e)?e.type.type:e.type;if("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))return!1;if("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))return!1;return!0},t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){return l.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))};var u=r(n(50008)),a=n(96214),o=r(n(57578));function i(e,t){"function"===typeof e?e(t):"object"===(0,u.default)(e)&&e&&"current"in e&&(e.current=t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){i(t,e)}))}}}}]);