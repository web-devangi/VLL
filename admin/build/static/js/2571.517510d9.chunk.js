(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2571],{89802:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var i=n(1413),r=n(29439),a=n(45987),o=n(47313),u=n(74294),c=n(72652),l=n(46417),s=["fetchOptions","refetch","value"],d=function(e){var t=e.fetchOptions,n=e.refetch,d=void 0!==n&&n,f=e.value,v=(0,a.Z)(e,s),p=(0,o.useState)(!1),Z=(0,r.Z)(p,2),m=Z[0],h=Z[1],x=(0,o.useState)([]),g=(0,r.Z)(x,2),j=g[0],y=g[1];"object"===typeof(null===f||void 0===f?void 0:f.label)&&null!==(null===f||void 0===f?void 0:f.label)&&(f.label=f.label.value);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Z,(0,i.Z)((0,i.Z)({labelInValue:!0,filterOption:!1,notFoundContent:m?(0,l.jsx)(c.Z,{size:"small"}):"no results",value:f},v),{},{options:m?[]:j,onFocus:function(){j.length&&!d||(h(!0),t().then((function(e){y(e),h(!1)})))}}))})}},20776:function(e,t,n){"use strict";n.d(t,{o:function(){return v}});var i=n(1413),r=n(29439),a=n(45987),o=n(47313),u=n(84762),c=n(72652),l=n(12279),s=n.n(l),d=n(46417),f=["fetchOptions","refetch","debounceTimeout"],v=function(e){var t=e.fetchOptions,n=e.refetch,l=void 0!==n&&n,v=e.debounceTimeout,p=void 0===v?400:v,Z=(0,a.Z)(e,f),m=(0,o.useState)(!1),h=(0,r.Z)(m,2),x=h[0],g=h[1],j=(0,o.useState)([]),y=(0,r.Z)(j,2),b=y[0],w=y[1],S=(0,o.useMemo)((function(){return s()((function(e){w([]),g(!0),t(e).then((function(e){w(e),g(!1)}))}),p)}),[]);return(0,d.jsx)(u.Z,(0,i.Z)({showSearch:!0,labelInValue:!0,filterTreeNode:function(e,t){return t.label.localeCompare(e)},treeLine:!0,onSearch:function(e){return S(e)},treeData:x?[]:b,treeDefaultExpandAll:!0,onFocus:function(){b.length&&!l||(g(!0),t().then((function(e){w(e),g(!1)})))},notFoundContent:x?(0,d.jsx)(c.Z,{size:"small"}):"no results"},Z))}},55940:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(1413),r=n(45987),a=(n(47313),n(59491)),o=n(47515),u=n(23560),c=n(24511),l=n(79492),s=n(46417),d=["size","onClick","type"];function f(e){var t=e.size,n=void 0===t?"":t,f=e.onClick,v=e.type,p=void 0===v?"default":v,Z=(0,r.Z)(e,d),m=(0,c.$)().t,h=(0,l.Z)().isDemo;return(0,s.jsx)(a.Z,(0,i.Z)({size:n,icon:(0,s.jsx)(o.Z,{}),onClick:function(e){h?u.Am.warning(m("cannot.work.demo")):f(e)},type:p},Z))}},73431:function(e,t,n){"use strict";var i=n(47313),r=n(39180),a=n(2717),o=n(28830),u=n(60535),c=n(46417);t.Z=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e.formLang}),a.wU),n=t.languages,l=t.defaultLang;(0,i.useEffect)((function(){u.Z.getAllActive().then((function(t){var n=t.data;e((0,o.dc)(n)),e((0,o.mh)(n.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.ZP.Group,{value:l,onChange:function(t){var n=t.target.value;e((0,o.mh)(n))},className:"float-right",buttonStyle:"solid",children:null===n||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(r.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},89281:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var i=n(1413),r=n(29439),a=n(45987),o=n(47313),u=n(12279),c=n.n(u),l=n(74294),s=n(72652),d=n(46417),f=["fetchOptions","debounceTimeout","onClear","refetchOptions"],v=function(e){var t=e.fetchOptions,n=e.debounceTimeout,u=void 0===n?400:n,v=e.onClear,p=e.refetchOptions,Z=void 0!==p&&p,m=(0,a.Z)(e,f),h=(0,o.useState)(!1),x=(0,r.Z)(h,2),g=x[0],j=x[1],y=(0,o.useState)([]),b=(0,r.Z)(y,2),w=b[0],S=b[1],C=(0,o.useMemo)((function(){return c()((function(e){S([]),j(!0),t(e).then((function(e){S(e),j(!1)}))}),u)}),[t,u]);return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:C,onClear:function(){C(""),v&&v()},notFoundContent:g?(0,d.jsx)(s.Z,{size:"small"}):"no results"},m),{},{options:w,onFocus:function(){w.length&&!Z||C("")}}))}},385:function(e,t,n){"use strict";var i=n(93433),r=n(1413),a=n(15861),o=n(29439),u=n(87757),c=n.n(u),l=n(47313),s=n(10976),d=n(26824),f=n(68197),v=n(59624),p=n(45705),Z=n(15178),m=n(9274),h=n(59491),x=n(82138),g=n(47515),j=n(5764),y=n(36104),b=n(24511),w=n(46417);t.Z=function(e){var t,n=e.mediaList,u=e.setMediaList,S=e.name,C=void 0===S?"products":S,k=(0,b.$)().t,O=s.Z.useForm(),z=(0,o.Z)(O,1)[0],F=(0,l.useState)(null),N=(0,o.Z)(F,2),M=N[0],L=N[1],T=(0,l.useState)([]),I=(0,o.Z)(T,2),V=I[0],q=I[1],E=(0,l.useState)(!1),U=(0,o.Z)(E,2),A=U[0],D=U[1],P=(0,l.useState)(!1),_=(0,o.Z)(P,2),B=_[0],$=_[1],K=function(){var e=(0,a.Z)(c().mark((function e(t){var n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.file,i=t.type,n.name?(L("video"===i?(0,w.jsx)("video",{controls:!0,src:n.name,width:450,height:450}):(0,w.jsx)(d.Z,{src:n.name,width:"100%",height:450,alt:"preview-img"})),D(!0)):L(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return{uid:e.title,name:e.title,status:"done",url:e.title,created:!0}};return(0,w.jsxs)(f.Z,{gutter:[24,24],children:[(0,w.jsx)(v.Z,{span:24,children:(0,w.jsx)(p.Z,{className:"align-items-start",children:(0,w.jsx)(Z.Z,{customRequest:function(e){var t=e.file,n=e.onSuccess;$(!0);var a=new FormData;a.append("image",t),a.append("type",C),y.Z.upload(a).then((function(e){var t=e.data;u((function(e){return(0,r.Z)((0,r.Z)({},e),{},{images:[].concat((0,i.Z)(e.images),[(0,r.Z)((0,r.Z)({},R(t)),{},{isVideo:!0})])})})),n("ok")}))},accept:"video/*",listType:"text",className:"video-upload",multiple:!1,fileList:[],children:(0,w.jsxs)("div",{className:"media-upload",children:[(0,w.jsx)(x.Z,{})," ",(0,w.jsx)("span",{children:k("upload.video")})]})})})}),(0,w.jsx)(v.Z,{span:24,children:null===n||void 0===n||null===(t=n.previews)||void 0===t?void 0:t.map((function(e,t){var i,r;return(0,w.jsxs)(p.Z,{className:"uploaded-file",wrap:!0,children:[(0,w.jsx)("span",{className:"media-item",onClick:function(){return K({type:"img",file:null===n||void 0===n?void 0:n.previews[t]})},children:null===n||void 0===n||null===(i=n.previews[t])||void 0===i?void 0:i.name}),(0,w.jsx)("span",{className:"media-item",onClick:function(){return K({type:"video",file:null===n||void 0===n?void 0:n.images[t]})},children:null===n||void 0===n||null===(r=n.images[t])||void 0===r?void 0:r.name}),(0,w.jsx)(g.Z,{className:"delete-media-item",onClick:function(){return function(e){var t=n.images.filter((function(t,n){if(n!==e)return t})),i=n.previews.filter((function(t,n){if(n!==e)return t}));u({images:t,previews:i})}(t)}})]})}))}),(0,w.jsx)(m.Z,{title:"Video Preview",visible:A,onCancel:function(){D(!1)},footer:null,children:M}),(0,w.jsx)(m.Z,{title:"Preview image",visible:B,footer:null,children:(0,w.jsx)(s.Z,{form:z,onFinish:function(){u((function(e){return(0,r.Z)((0,r.Z)({},e),{},{previews:[].concat((0,i.Z)(e.previews),(0,i.Z)(V))})})),q([]),$(!1)},layout:"vertical",children:(0,w.jsxs)(f.Z,{gutter:[24,24],children:[(0,w.jsx)(v.Z,{span:24,children:(0,w.jsx)(s.Z.Item,{label:k("preview.image"),name:"preview-image",rules:[{required:!(null!==V&&void 0!==V&&V.length),message:k("required")}],children:(0,w.jsx)(j.Z,{type:C,imageList:V,setImageList:q,multiple:!1,text:"upload.image",form:z})})}),(0,w.jsx)(v.Z,{span:24,className:"d-flex justify-content-end",children:(0,w.jsx)(h.Z,{type:"primary",onClick:function(){return z.submit()},children:k("save")})})]})})})]})}},33724:function(e,t){"use strict";t.Z=function(e){var t=[],n=e.length-1;return function i(r,a){for(var o=0,u=null===(c=e[a])||void 0===c?void 0:c.length;o<u;o++){var c,l=r.slice(0);l.push(e[a][o]),a===n?t.push(l):i(l,a+1)}}([],0),t}},37630:function(e,t,n){"use strict";function i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=[],n=0;n<e;n++){var i=Math.floor(10*Math.random());t.push(i)}return t.join("")}n.d(t,{Z:function(){return i}})},75336:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(93433),r=n(4942);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",a=e.map((function(e){return(0,r.Z)({},e.locale,""===t["".concat(n,"[").concat(e.locale,"]")]?void 0:t["".concat(n,"[").concat(e.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(a)))}},71136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(29439),r=n(47313);function a(e,t){var n=(0,r.useState)(e),a=(0,i.Z)(n,2),o=a[0],u=a[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){u(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o}},33834:function(e,t,n){"use strict";n.d(t,{K:function(){return c}});var i=n(4942),r=n(1413),a=n(97890),o=n(74776),u=n.n(o),c=function(){var e=(0,a.s0)(),t=(0,a.TH)(),n=u().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:function(t,a){return e({search:u().stringify((0,r.Z)((0,r.Z)({},n),{},(0,i.Z)({},t,a)))})},reset:function(t){var i=(0,r.Z)({},n);i[t]&&delete i[t],e({search:u().stringify((0,r.Z)({},i))})},clear:function(){return e({search:u().stringify({})})},merge:function(t){return e({search:u().stringify((0,r.Z)((0,r.Z)({},n),t))})}}}},82082:function(e,t,n){"use strict";n.r(t);var i=n(4942),r=n(93433),a=n(1413),o=n(29439),u=n(47313),c=n(16848),l=n(83999),s=n(77181),d=n(72652),f=n(12512),v=n(44902),p=n(63945),Z=n(89904),m=n(32937),h=n(73431),x=n(97890),g=n(18333),j=n(2717),y=n(90954),b=n(24511),w=n(33834),S=n(46417),C=l.Z.Step;t.default=function(){var e,t=(0,b.$)().t,n=(0,x.UO)().uuid,k=(0,w.K)(),O=(0,j.v9)((function(e){return e.menu}),j.wU).activeMenu,z=(0,j.v9)((function(e){return e.formLang}),j.wU).languages,F=(0,j.I0)(),N=Number((null===(e=k.values)||void 0===e?void 0:e.step)||0),M=(0,u.useState)(O.refetch),L=(0,o.Z)(M,2),T=L[0],I=L[1],V=function(){var e=N+1;k.set("step",e)},q=function(){var e=N-1;k.set("step",e)},E=function(e){return e?{label:e.translation?e.translation.title:e.title,value:e.id}:null};function U(e){I(!0),g.Z.getById(e).then((function(e){var t,n,o=(0,a.Z)((0,a.Z)((0,a.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var t=e.translations,n=z.map((function(e){var n,r,a;return a={},(0,i.Z)(a,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,i.Z)(a,"description[".concat(e.locale,"]"),null===(r=t.find((function(t){return t.locale===e.locale})))||void 0===r?void 0:r.description),a}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(n)))}(e.data)),{},{category:E(e.data.category),brand:E(e.data.brand),unit:E(e.data.unit),images:(n=e.data.galleries,n.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))),extras:null===(t=e.data.stocks[0])||void 0===t?void 0:t.extras.map((function(e){return e.extra_group_id})),stocks:e.data.stocks.map((function(e){return(0,a.Z)((0,a.Z)((0,a.Z)({},e),Object.assign.apply(Object,[{}].concat((0,r.Z)(e.extras.map((function(e,t){return(0,i.Z)({},"extras[".concat(t,"]"),{label:e.value,value:e.id})})))))),{},{quantity:e.quantity||0,extras:void 0})})),properties:e.data.properties.map((function(e,t){var n;return n={id:t},(0,i.Z)(n,"key[".concat(e.locale,"]"),e.key),(0,i.Z)(n,"value[".concat(e.locale,"]"),e.value),n})),translation:void 0,translations:void 0});F((0,y.nc)({activeMenu:O,data:o}))})).finally((function(){I(!1),F((0,y.A_)(O))}))}(0,u.useEffect)((function(){O.refetch&&U(n)}),[O.refetch]);return(0,u.useEffect)((function(){return function(){F((0,y.ph)((0,a.Z)((0,a.Z)({},O),{},{nextUrl:"seller/products"})))}}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{title:t("edit.product"),extra:(0,S.jsx)(h.Z,{}),children:(0,S.jsx)(l.Z,{current:N,onChange:function(e){F((0,y.nc)({activeMenu:O,data:(0,a.Z)((0,a.Z)({},O.data),{},{step:e})})),k.set("step",e)},children:c.S.map((function(e){return(0,S.jsx)(C,{title:t(e.title)},e.title)}))})}),T?(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,S.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,S.jsxs)("div",{className:"",children:["First-content"===c.S[N].content&&(0,S.jsx)(m.Z,{next:V,action_type:"edit"}),"Second-content"===c.S[N].content&&(0,S.jsx)(Z.Z,{next:V,prev:q}),"Third-content"===c.S[N].content&&(0,S.jsx)(p.Z,{next:V,prev:q}),"Fourth-content"===c.S[N].content&&(0,S.jsx)(f.Z,{next:V,prev:q}),"Finish-content"===c.S[N].content&&(0,S.jsx)(v.Z,{prev:q})]})]})}},85104:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(1413),r=n(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},o=n(17469),u=function(e,t){return r.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:a}))};u.displayName="DeploymentUnitOutlined";var c=r.forwardRef(u)},24654:function(){}}]);