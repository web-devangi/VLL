"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3535],{55940:(e,l,a)=>{a.d(l,{Z:()=>d});a(47313);var t=a(59491),n=a(47515),s=a(23560),i=a(24511),o=a(79492),r=a(46417);function d(e){let{size:l="",onClick:a,type:d="default",...c}=e;const{t:u}=(0,i.$)(),{isDemo:m}=(0,o.Z)();return(0,r.jsx)(t.Z,{size:l,icon:(0,r.jsx)(n.Z,{}),onClick:e=>{m?s.Am.warning(u("cannot.work.demo")):a(e)},type:d,...c})}},53233:(e,l,a)=>{a.d(l,{Z:()=>p});var t=a(47313),n=a(56140),s=a(67251),i=a(45705),o=a(86345),r=a(78267),d=a(37388),c=a(59491),u=a(99587),m=a(24511),v=a(46417);const{Text:h}=n.Z,p=e=>{let{columns:l=[],setColumns:a,style:n,size:p="",iconOnly:x}=e;const{t:g}=(0,m.$)(),[Z,j]=(0,t.useState)(!1),y=(0,v.jsx)(s.Z,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,v.jsx)(s.Z.Item,{children:(0,v.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(h,{children:e.title}),(0,v.jsx)(o.Z,{defaultChecked:!0,onClick:()=>function(e){const t=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));a(t)}(e),disabled:1===t})]})},e+t)))});return(0,v.jsx)(r.Z,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:Z,children:(0,v.jsx)(d.Z,{title:g("change.columns"),children:(0,v.jsx)(c.Z,{style:{...n},size:p,icon:(0,v.jsx)(u.Z,{}),children:x?null:g("Columns")})})})}},97388:(e,l,a)=>{a.d(l,{Z:()=>h});var t=a(47313),n=a(16609),s=a(97421);const i=a.p+"static/media/pin.0e41858db80c699cd8a2.png";var o=a(31881),r=a.n(o);async function d(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.kr,a={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:l};return r().get("https://maps.googleapis.com/maps/api/geocode/json",{params:a}).then((e=>{var l;let{data:a}=e;return null===(l=a.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var c=a(5958),u=a(23560),m=a(24511),v=a(46417);const h=(0,n.GoogleApiWrapper)({apiKey:s.kr})((function(e){const[l,a]=(0,t.useState)(),{t:o}=(0,m.$)(),r=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};a(l)}),(function(e){u.Am.warning(o("turn.on.gps"))}))};(0,t.useEffect)((()=>{r()}),[]);const h=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var p=new e.google.maps.LatLngBounds,x=0;x<h.length;x++)p.extend(h[x]);return(0,v.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,v.jsx)("button",{className:"map-button",type:"button",onClick:()=>{r(),l&&(async l=>{const a={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(a);const t=await d(a,s.kr);e.setAddress(t)})(l)},children:(0,v.jsx)(c.nDs,{})}),(0,v.jsx)(n.Map,{cursor:"pointer",onClick:async(l,a,t)=>{const{latLng:n}=t,i={lat:n.lat(),lng:n.lng()};e.setLocation(i);const o=await d(i,s.kr);e.setAddress(o)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,v.jsx)(n.Marker,{position:e.location,icon:{url:i,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},89281:(e,l,a)=>{a.d(l,{h:()=>d});var t=a(47313),n=a(12279),s=a.n(n),i=a(74294),o=a(72652),r=a(46417);const d=e=>{let{fetchOptions:l,debounceTimeout:a=400,onClear:n,refetchOptions:d=!1,...c}=e;const[u,m]=(0,t.useState)(!1),[v,h]=(0,t.useState)([]),p=(0,t.useMemo)((()=>s()((e=>{h([]),m(!0),l(e).then((e=>{h(e),m(!1)}))}),a)),[l,a]);return(0,r.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:u?(0,r.jsx)(o.Z,{size:"small"}):"no results",...c,options:v,onFocus:()=>{v.length&&!d||p("")}})}},13945:(e,l,a)=>{function t(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(l,{Z:()=>t})},17649:(e,l,a)=>{a.d(l,{Z:()=>t});a(97421);function t(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},84017:(e,l,a)=>{function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===a?"".concat(t," ").concat(l):"".concat(l," ").concat(t)}a.d(l,{Z:()=>t})},78067:(e,l,a)=>{a.d(l,{Z:()=>_});var t=a(10976),n=a(68197),s=a(59624),i=a(66672),o=a(74294),r=a(86345),d=a(59491),c=a(47313),u=a(24511),m=a(45321),v=a(51282),h=a(2717),p=a(5764),x=a(97388),g=a(17649),Z=a(23560),j=a(89281),y=a(79637),f=a(47139),w=a(46417);const b=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],_=e=>{let{id:l,data:a}=e;const{t:_}=(0,u.$)(),[k]=t.Z.useForm(),[I,S]=(0,c.useState)(!1),[C,q]=(0,c.useState)(!1),[z,N]=(0,c.useState)([]),[P,V]=(0,c.useState)(""),{settings:M}=(0,h.v9)((e=>e.globalSettings),h.wU),[H,O]=(0,c.useState)((0,g.Z)(M)),A=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path}))),F=t.Z.useWatch("country",k);return(0,c.useEffect)((()=>{l&&(e=>{q(!0),m.Z.getById(e).then((e=>{var l,a,t,n,s,i,o,r,d,c,u,m,v,h,p,x,g,Z,j,y,f,w,b;const _={...e.data,country:{label:null===(l=e.data)||void 0===l||null===(a=l.country)||void 0===a||null===(t=a.translation)||void 0===t?void 0:t.title,value:null===(n=e.data)||void 0===n||null===(s=n.country)||void 0===s?void 0:s.id,key:null===(i=e.data)||void 0===i||null===(o=i.country)||void 0===o?void 0:o.region_id},city:{label:null===(r=e.data)||void 0===r||null===(d=r.city)||void 0===d||null===(c=d.translation)||void 0===c?void 0:c.title,value:null===(u=e.data)||void 0===u||null===(m=u.city)||void 0===m?void 0:m.id},user_id:{label:(null===(v=e.data.deliveryman)||void 0===v?void 0:v.firstname)+" "+(null===(h=e.data.deliveryman)||void 0===h?void 0:h.firstname),value:null===(p=e.data.deliveryman)||void 0===p?void 0:p.id,images:A(e.data.galleries),location:{lat:null===(x=e.data)||void 0===x||null===(g=x.location)||void 0===g?void 0:g.latitude,lng:null===(Z=e.data)||void 0===Z||null===(j=Z.location)||void 0===j?void 0:j.longitude}}};O({lat:null===(y=e.data)||void 0===y||null===(f=y.location)||void 0===f?void 0:f.latitude,lng:null===(w=e.data)||void 0===w||null===(b=w.location)||void 0===b?void 0:b.longitude}),N(A(e.data.galleries)),k.setFieldsValue(_)})).finally((()=>q(!1)))})(l)}),[]),(0,w.jsx)(t.Z,{name:"basic",layout:"vertical",onFinish:e=>{var t,n,s,i,o,r,d;if(console.log(e),!P.includes(null===(t=e.country)||void 0===t?void 0:t.label))return void Z.Am.warn(_("please.choose.corrent.location"));if(e.city&&!P.includes(null===(n=e.city)||void 0===n?void 0:n.label))return void Z.Am.warn(_("please.choose.corrent.location"));S(!0);const c={...e,user_id:a.id,images:null!==(s=z[0])&&void 0!==s&&s.name?[null===(i=z[0])||void 0===i?void 0:i.name]:void 0,country_id:null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.value,city_id:null===e||void 0===e||null===(r=e.city)||void 0===r?void 0:r.value,region_id:null===e||void 0===e||null===(d=e.country)||void 0===d?void 0:d.key,location:{latitude:H.lat,longitude:H.lng},online:Boolean(e.online)};m.Z.update(l,c).then((()=>Z.Am.success(_("successfully.updated")))).finally((()=>S(!1)))},form:k,children:C?(0,w.jsx)(v.Z,{}):(0,w.jsxs)(n.Z,{gutter:12,children:[(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("brand"),name:"brand",rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(i.Z,{})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("model"),name:"model",rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(i.Z,{})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(o.Z,{options:b})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("car.number"),name:"number",rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(i.Z,{})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("car.color"),name:"color",rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(i.Z,{})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{name:"country",label:_("country"),rules:[{required:!0,message:_("required")}],children:(0,w.jsx)(j.h,{fetchOptions:e=>{const l={search:e,perPage:10,page:1,has_price:1};return f.Z.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.region_id}}))}))},placeholder:_("select.country"),onClear:()=>{k.setFieldsValue({city:[]})},autoComplete:"none"})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{name:"city",label:_("city"),children:(0,w.jsx)(j.h,{fetchOptions:e=>{const l={search:e,perPage:10,page:1,country_id:null===F||void 0===F?void 0:F.value,has_price:1};return y.Z.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:_("select.city"),refetchOptions:!0,disabled:!F,autoComplete:"none"})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(t.Z.Item,{label:_("image"),name:"images",children:(0,w.jsx)(p.Z,{type:"deliveryman/settings",imageList:z,setImageList:N,form:k,length:"1",multiple:!0})})}),(0,w.jsx)(s.Z,{span:6,children:(0,w.jsx)(t.Z.Item,{label:_("online"),name:"online",valuePropName:"checked",children:(0,w.jsx)(r.Z,{})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(t.Z.Item,{label:_("map"),name:"location",children:(0,w.jsx)(x.Z,{location:H,setLocation:O,setAddress:V})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:I,children:_("save")})})]})})}},65559:(e,l,a)=>{a.d(l,{Z:()=>S});var t=a(47313),n=a(10976),s=a(68197),i=a(59624),o=a(66672),r=a(16124),d=a(99096),c=a(74294),u=a(59491),m=a(97890),v=a(2717),h=a(49986),p=a(23560),x=a(90954),g=a(84304),Z=a(70816),j=a.n(Z),y=a(24511),f=a(85746),w=a(5764),b=a(89281),_=a(53149),k=a(79492),I=a(46417);function S(e){var l;let{form:a,data:Z,image:S,setImage:C,action_type:q=""}=e;const{t:z}=(0,y.$)(),N=(0,v.v9)((e=>e.menu.activeMenu),v.wU),P=(0,v.I0)(),V=(0,m.s0)(),{uuid:M}=(0,m.UO)(),H=(0,m.TH)(),[O,A]=(0,t.useState)(null),[F,E]=(0,t.useState)(!1),T=null===N||void 0===N||null===(l=N.data)||void 0===l?void 0:l.role,U=(0,v.v9)((e=>e.user),v.wU),L=(0,v.v9)((e=>e.client),v.wU),{isDemo:$}=(0,k.Z)();async function D(e){const l={search:e,status:"approved"};return _.Z.search(l).then((e=>e.data.map((e=>({label:null!==e.translation?e.translation.title:z("no.name"),value:e.id,key:e.id})))))}return(0,I.jsx)(n.Z,{form:a,layout:"vertical",initialValues:{gender:"male",role:"admin",...Z},onFinish:e=>{var l,a,t,n;E(!0);const s={firstname:e.firstname,lastname:e.lastname,email:null===e||void 0===e?void 0:e.email,phone:null===e||void 0===e?void 0:e.phone,birthday:j()(e.birthday).format("YYYY-MM-DD"),gender:e.gender,images:S[0]?[null===(l=S[0])||void 0===l?void 0:l.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e||null===(a=e.shop_id)||void 0===a?void 0:a.length)?null===e||void 0===e||null===(t=e.shop_id)||void 0===t?void 0:t.map((e=>e.value)):[null===e||void 0===e||null===(n=e.shop_id)||void 0===n?void 0:n.value]:void 0,role:T},i=0===H.pathname.search("/user/delivery/")?"deliveries/list":"user"!==Z.role?"users/admin":"users/user",o={...U.params,role:Z.role},r={...L.params};"edit"===q?h.Z.update(M,s).then((()=>{p.Am.success(z("successfully.updated")),P((0,x.ph)({...N,nextUrl:i})),V("/".concat(i)),"user"===Z.role?P((0,f.Tu)(r)):P((0,g.uh)(o))})).catch((e=>A(e.response.data.params))).finally((()=>E(!1))):h.Z.create(s).then((()=>{p.Am.success(z("successfully.updated")),P((0,x.ph)({...N,nextUrl:i})),V("/".concat(i)),"user"===Z.role?P((0,f.Tu)(r)):P((0,g.uh)(o))})).catch((e=>A(e.response.data.params))).finally((()=>E(!1)))},className:"px-2",children:(0,I.jsxs)(s.Z,{gutter:12,children:[(0,I.jsx)(i.Z,{span:24,children:(0,I.jsx)(n.Z.Item,{name:"images",label:z("avatar"),rules:[{validator:()=>0===(null===S||void 0===S?void 0:S.length)?Promise.reject(new Error(z("required"))):Promise.resolve()}],children:(0,I.jsx)(w.Z,{type:"users",imageList:S,setImageList:C,form:a,multiple:!1,name:"logo_img"})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("firstname"),name:"firstname",help:null!==O&&void 0!==O&&O.firstname?O.firstname[0]:null,validateStatus:null!==O&&void 0!==O&&O.firstname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(z("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(z("required")))}],children:(0,I.jsx)(o.Z,{className:"w-100"})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("lastname"),name:"lastname",help:null!==O&&void 0!==O&&O.lastname?O.lastname[0]:null,validateStatus:null!==O&&void 0!==O&&O.lastname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(z("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(z("required")))}],children:(0,I.jsx)(o.Z,{className:"w-100"})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("phone"),name:"phone",help:null!==O&&void 0!==O&&O.phone?O.phone[0]:null,validateStatus:null!==O&&void 0!==O&&O.phone?"error":"success",rules:[{required:!$,message:z("required")}],children:(0,I.jsx)(r.Z,{min:0,className:"w-100"})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("birthday"),name:"birthday",rules:[{required:!0,message:z("required")}],valuePropName:"birthday",children:(0,I.jsx)(d.Z,{className:"w-100",disabledDate:e=>j()().add(-18,"years")<=e,defaultPickerValue:j()().add(-18,"years"),defaultValue:j()(null===Z||void 0===Z?void 0:Z.birthday)})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("gender"),name:"gender",rules:[{required:!0,message:z("required")}],children:(0,I.jsxs)(c.Z,{picker:"dayTime",className:"w-100",children:[(0,I.jsx)(c.Z.Option,{value:"male",children:z("male")}),(0,I.jsx)(c.Z.Option,{value:"female",children:z("female")})]})})}),(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("email"),name:"email",help:null!==O&&void 0!==O&&O.email?O.email[0]:null,validateStatus:null!==O&&void 0!==O&&O.email?"error":"success",rules:[{required:!$,message:z("required")},{type:"email",message:z("invalid.email")}],children:(0,I.jsx)(o.Z,{type:"email",className:"w-100",disabled:$})})}),"cook"===T&&(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("shop"),name:"shop_id",rules:[{required:!1,message:z("required")}],children:(0,I.jsx)(b.h,{fetchOptions:D,className:"w-100",placeholder:z("select.shop"),allowClear:!1})})}),"moderator"===T&&(0,I.jsx)(i.Z,{span:12,children:(0,I.jsx)(n.Z.Item,{label:z("branches"),name:"shop_id",rules:[{required:!1,message:z("required")}],children:(0,I.jsx)(b.h,{fetchOptions:D,className:"w-100",placeholder:z("select.shop"),allowClear:!1})})}),(0,I.jsx)(i.Z,{span:24,children:(0,I.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:F,children:z("save")})})]})})}},45713:(e,l,a)=>{a.d(l,{Z:()=>_});var t=a(47313),n=a(45705),s=a(59491),i=a(77181),o=a(78508),r=a(97890),d=a(31741),c=a(47515),u=a(2717),m=a(90954),v=a(24511),h=a(84017),p=a(22054),x=a(13945),g=a(74580),Z=a(23560),j=a(55940),y=a(69658),f=a(7370),w=a(53233),b=a(46417);function _(e){let{data:l}=e;const a=(0,u.I0)(),_=(0,r.s0)(),{t:k}=(0,v.$)(),[I,S]=(0,t.useState)(null),[C,q]=(0,t.useState)(null),{setIsModalVisible:z}=(0,t.useContext)(g._),[N,P]=(0,t.useState)(!1),{activeMenu:V}=(0,u.v9)((e=>e.menu),u.wU),{orders:M,meta:H,loading:O,params:A}=(0,u.v9)((e=>e.orders),u.wU),{defaultCurrency:F}=(0,u.v9)((e=>e.currency),u.wU),[E,T]=(0,t.useState)([{title:k("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:k("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,b.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:k("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,b.jsxs)("div",{className:"text-lowercase",children:[e||0," ",k("products")]})},{title:k("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,h.Z)(e,null===F||void 0===F?void 0:F.symbol)},{title:k("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return k(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}},{title:k("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:k("options"),is_show:!0,key:"options",render:(e,l)=>(0,b.jsxs)(n.Z,{children:[(0,b.jsx)(s.Z,{icon:(0,b.jsx)(d.Z,{}),onClick:()=>(e=>{a((0,m.bL)({url:"order/details/".concat(e.id),id:"order_details",name:k("order.details")})),_("/order/details/".concat(e.id))})(l)}),(0,b.jsx)(j.Z,{icon:(0,b.jsx)(c.Z,{}),onClick:()=>{S([l.id]),z(!0),q(!0)}})]})}]);(0,t.useEffect)((()=>{const e={user_id:null===l||void 0===l?void 0:l.uuid,page:1,perPage:10};a((0,p.dT)(e))}),[]);const U={selectedRowKeys:I,onChange:e=>{S(e)}};return(0,b.jsx)("div",{children:(0,b.jsxs)(i.Z,{title:k("orders"),extra:(0,b.jsxs)(n.Z,{wrap:!0,children:[(0,b.jsx)(j.Z,{type:"danger",onClick:()=>{null===I||0===I.length?Z.Am.warning(k("select.the.product")):(z(!0),q(!1))},children:k("delete.all")}),(0,b.jsx)(w.Z,{setColumns:T,columns:E})]}),children:[(0,b.jsx)(o.Z,{scroll:{x:!0},rowSelection:U,columns:null===E||void 0===E?void 0:E.filter((e=>e.is_show)),dataSource:M,loading:O,pagination:{pageSize:A.perPage,page:A.page,total:H.total,defaultCurrent:A.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:s}=e,{field:i,order:o}=t,r=(0,x.Z)(o);a((0,m.nc)({activeMenu:V,data:{...V.data,perPage:n,page:s,column:i,sort:r}}))}}),(0,b.jsx)(y.Z,{click:()=>{P(!0);const e={...Object.assign({},...I.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};f.Z.delete(e).then((()=>{Z.Am.success(k("successfully.deleted")),z(!1),a((0,p.dT)()),q(null)})).finally((()=>P(!1)))},text:k(C?"delete":"all.delete"),loading:N,setText:S})]})})}},94748:(e,l,a)=>{a.d(l,{Z:()=>p});var t=a(47313),n=a(10976),s=a(77181),i=a(68197),o=a(59624),r=a(66672),d=a(59491),c=a(97890),u=a(23560),m=a(49986),v=a(24511),h=a(46417);function p(){const{t:e}=(0,v.$)(),[l]=n.Z.useForm(),[a,p]=(0,t.useState)(null),[x,g]=(0,t.useState)(!1),{uuid:Z}=(0,c.UO)();return(0,h.jsx)(s.Z,{title:e("user.password.change"),children:(0,h.jsx)(n.Z,{form:l,layout:"vertical",onFinish:l=>{g(!0);const a={password:l.password?l.password:void 0,password_confirmation:l.password_confirmation};m.Z.updatePassword(Z,a).then((()=>{u.Am.success(e("successfully.created"))})).catch((e=>p(e.response.data.params))).finally((()=>g(!1)))},children:(0,h.jsxs)(i.Z,{gutter:12,children:[(0,h.jsx)(o.Z,{span:12,children:(0,h.jsx)(n.Z.Item,{label:e("password"),name:"password",help:null!==a&&void 0!==a&&a.password?a.password[0]:null,validateStatus:null!==a&&void 0!==a&&a.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,h.jsx)(r.Z.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,h.jsx)(o.Z,{span:12,children:(0,h.jsx)(n.Z.Item,{label:e("password.confirmation"),help:null!==a&&void 0!==a&&a.password_confirmation?a.password_confirmation[0]:null,validateStatus:null!==a&&void 0!==a&&a.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},l=>{let{getFieldValue:a}=l;return{validator:(l,t)=>t&&a("password")!==t?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}],children:(0,h.jsx)(r.Z.Password,{type:"password",placeholder:"********"})})}),(0,h.jsx)(o.Z,{span:24,children:(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:x,children:e("save")})})]})})})}},92815:(e,l,a)=>{a.d(l,{Z:()=>b});var t=a(47313),n=a(45705),s=a(59491),i=a(78508),o=a(2717),r=a(24511),d=a(84017),c=a(49986),u=a(55768),m=a(10976),v=a(9274),h=a(16124),p=a(66672),x=a(23560),g=a(90954),Z=a(46417);function j(e){let{modal:l,uuid:a,handleCancel:n}=e;const[i,d]=(0,t.useState)(!1),[u]=m.Z.useForm(),{t:j}=(0,r.$)(),y=(0,o.I0)(),{activeMenu:f}=(0,o.v9)((e=>e.menu),o.wU);return(0,Z.jsx)(v.Z,{visible:l,title:j("topup.wallet"),onCancel:n,footer:[(0,Z.jsx)(s.Z,{type:"default",onClick:n,children:j("cancel")},"cancel-btn"),(0,Z.jsx)(s.Z,{type:"primary",onClick:()=>u.submit(),loading:i,children:j("save")},"submit-btn")],children:(0,Z.jsxs)(m.Z,{layout:"vertical",form:u,onFinish:e=>{d(!0),c.Z.topupWallet(a,e).then((()=>{x.Am.success(j("successfully.added")),y((0,g.xo)(f)),n()})).finally((()=>d(!1)))},children:[(0,Z.jsx)(m.Z.Item,{label:j("price"),name:"price",rules:[{required:!0,message:j("required")}],children:(0,Z.jsx)(h.Z,{min:0,className:"w-100"})}),(0,Z.jsx)(m.Z.Item,{label:j("note"),name:"note",children:(0,Z.jsx)(p.Z,{})})]})})}var y=a(53233),f=a(70816),w=a.n(f);function b(e){var l;let{data:a}=e;const{t:m}=(0,r.$)(),[v,h]=(0,t.useState)(1),[p,x]=(0,t.useState)(10),[g,f]=(0,t.useState)(1),[b,_]=(0,t.useState)(!1),[k,I]=(0,t.useState)([]),[S,C]=(0,t.useState)(!1),{defaultCurrency:q}=(0,o.v9)((e=>e.currency),o.wU),[z,N]=(0,t.useState)([{title:m("created.by"),dataIndex:"author",key:"author",is_show:!0,render:e=>(0,Z.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:m("price"),dataIndex:"price",key:"price",is_show:!0,render:e=>(0,d.Z)(e,null===q||void 0===q?void 0:q.symbol)},{title:m("note"),dataIndex:"note",key:"note",is_show:!0},{title:m("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>w()(e).format("YYYY-MM-DD HH:mm")}]);return(0,t.useEffect)((()=>{!function(){_(!0);const e={pageSize:10,page:v||1};c.Z.walletHistory(a.uuid,e).then((e=>{I(e.data),f(e.meta.total)})).finally((()=>_(!1)))}()}),[v]),(0,Z.jsxs)("div",{className:"px-2",children:[(0,Z.jsx)("div",{className:"d-flex justify-content-end",children:(0,Z.jsxs)(n.Z,{wrap:!0,children:[(0,Z.jsx)(s.Z,{type:"primary",icon:(0,Z.jsx)(u.Z,{}),onClick:()=>C(!0),children:"".concat(m("wallet"),": ").concat((0,d.Z)(null===a||void 0===a||null===(l=a.wallet)||void 0===l?void 0:l.price,null===q||void 0===q?void 0:q.symbol))}),(0,Z.jsx)(y.Z,{columns:z,setColumns:N})]})}),(0,Z.jsx)(i.Z,{scroll:{x:!0},columns:null===z||void 0===z?void 0:z.filter((e=>e.is_show)),dataSource:k,loading:b,pagination:{pageSize:p,page:v,total:g},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:t,current:n}=e;h(n),x(t)}}),S&&(0,Z.jsx)(j,{modal:S,uuid:a.uuid,handleCancel:()=>C(!1)})]})}},55768:(e,l,a)=>{a.d(l,{Z:()=>r});var t=a(1413),n=a(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=a(17469),o=function(e,l){return n.createElement(i.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:l,icon:s}))};o.displayName="PlusCircleOutlined";const r=n.forwardRef(o)},99587:(e,l,a)=>{a.d(l,{Z:()=>r});var t=a(1413),n=a(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=a(17469),o=function(e,l){return n.createElement(i.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:l,icon:s}))};o.displayName="TableOutlined";const r=n.forwardRef(o)}}]);