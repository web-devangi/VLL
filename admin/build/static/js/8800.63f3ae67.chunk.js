"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8800],{13622:function(n,e,t){t.d(e,{R:function(){return f}});var i=t(1413),r=t(29439),l=t(45987),o=t(47313),u=t(12279),a=t.n(u),d=t(74294),c=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","refetch"],f=function(n){var e=n.fetchOptions,t=n.debounceTimeout,u=void 0===t?400:t,f=n.refetch,p=void 0!==f&&f,h=(0,l.Z)(n,v),m=(0,o.useState)(!1),Z=(0,r.Z)(m,2),y=Z[0],g=Z[1],x=(0,o.useState)([]),b=(0,r.Z)(x,2),j=b[0],w=b[1],k=(0,o.useMemo)((function(){return a()((function(n){w([]),g(!0),e(n).then((function(n){w(n),g(!1)}))}),u)}),[e,u]);return(0,s.jsx)(d.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return k("")},filterOption:!1,onSearch:k,notFoundContent:y?(0,s.jsx)(c.Z,{size:"small"}):"no results"},h),{},{options:j,onFocus:function(){j.length&&!p||k("")}}))}},58800:function(n,e,t){t.r(e);var i=t(1413),r=t(29439),l=(t(47313),t(97890)),o=t(23560),u=t(10976),a=t(2717),d=t(90954),c=t(24511),s=t(13719),v=t(94777),f=t(69766),p=t(46417);e.default=function(){var n=(0,c.$)().t,e=(0,l.UO)().id,t=(0,a.v9)((function(n){return n.menu}),a.wU).activeMenu,h=(0,a.v9)((function(n){return n.myShop}),a.wU).myShop,m=(0,a.I0)(),Z=u.Z.useForm(),y=(0,r.Z)(Z,1)[0],g=(0,l.s0)();return(0,p.jsx)(f.Z,{form:y,handleSubmit:function(r){var l=r.area,u=r.city,c=r.country,f=r.region,p=r.price,Z=r.fitting_rooms,y=r.active,x={price:p,fitting_rooms:Z,active:Number(y),area_id:null===l||void 0===l?void 0:l.value,city_id:null===u||void 0===u?void 0:u.value,country_id:null===c||void 0===c?void 0:c.value,region_id:null===f||void 0===f?void 0:f.value,shop_id:null===h||void 0===h?void 0:h.id},b="seller/delivery-price";return s.Z.update(e,x).then((function(){o.Am.success(n("successfully.updated")),(0,a.dC)((function(){m((0,d.ph)((0,i.Z)((0,i.Z)({},t),{},{nextUrl:b}))),m((0,v.rf)({}))})),g("/".concat(b))}))}})}},69766:function(n,e,t){t.d(e,{Z:function(){return I}});var i=t(15861),r=t(1413),l=t(45987),o=t(93433),u=t(4942),a=t(29439),d=t(87757),c=t.n(d),s=t(47313),v=t(2717),f=t(97890),p=t(24511),h=t(10976),m=t(68197),Z=t(59624),y=t(77181),g=t(16124),x=t(59491),b=t(13622),j=t(27453),w=t(47139),k=t(79637),F=t(27443),_=t(90954),O=t(13719),S=t(51282),q=t(46417),C=["city","country","region","area"];function I(n){var e=n.form,t=n.handleSubmit,d=(0,p.$)().t,I=(0,v.I0)(),R=(0,f.UO)().id,U=(0,v.v9)((function(n){return n.menu}),v.wU).activeMenu,N=(0,v.v9)((function(n){return n.formLang}),v.wU),z=N.languages,B=N.defaultLang,M=(0,v.v9)((function(n){return n.currency}),v.wU).defaultCurrency,P=(0,s.useState)(!1),V=(0,a.Z)(P,2),T=V[0],A=V[1],E=(0,s.useState)(!1),L=(0,a.Z)(E,2),$=L[0],D=L[1],G=(0,s.useState)({}),H=(0,a.Z)(G,2),J=H[0],K=H[1],Q=J.country,W=J.region,X=J.city;(0,s.useEffect)((function(){return function(){var n=e.getFieldsValue(!0);I((0,_.nc)({activeMenu:U,data:n}))}}),[]),(0,s.useEffect)((function(){U.refetch&&R&&Y(R)}),[U.refetch]);var Y=function(){A(!0),O.Z.getById(R).then((function(n){var t,i,a,d,c,s,v,f,p,h,m=n.data,Z=m.city,y=m.country,g=m.region,x=m.area,b=(0,l.Z)(m,C),j="address[".concat(B,"]"),w={area:{label:null===x||void 0===x||null===(t=x.translation)||void 0===t?void 0:t.title,value:null===x||void 0===x?void 0:x.id},city:{label:null===Z||void 0===Z||null===(i=Z.translation)||void 0===i?void 0:i.title,value:null===Z||void 0===Z?void 0:Z.id},country:{label:null===y||void 0===y||null===(a=y.translation)||void 0===a?void 0:a.title,value:null===y||void 0===y?void 0:y.id},region:{label:null===g||void 0===g||null===(d=g.translation)||void 0===d?void 0:d.title,value:null===g||void 0===g?void 0:g.id}},k=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},function(n){if(null===n||void 0===n||!n.translations)return{};var e=n.translations,t=z.map((function(n){var t,i,r;return r={},(0,u.Z)(r,"title[".concat(n.locale,"]"),null===(t=e.find((function(e){return e.locale===n.locale})))||void 0===t?void 0:t.title),(0,u.Z)(r,"address[".concat(n.locale,"]"),null===(i=e.find((function(e){return e.locale===n.locale})))||void 0===i?void 0:i.address),r}));return Object.assign.apply(Object,[{}].concat((0,o.Z)(t)))}(m)),w),b),{},(h={},(0,u.Z)(h,j,null===(c=m.address)||void 0===c?void 0:c[B]),(0,u.Z)(h,"shop_id",{label:null===m||void 0===m||null===(s=m.shop)||void 0===s||null===(v=s.translation)||void 0===v?void 0:v.title,value:null===m||void 0===m||null===(f=m.shop)||void 0===f?void 0:f.id,key:null===m||void 0===m||null===(p=m.shop)||void 0===p?void 0:p.id}),h));e.setFieldsValue(k),K(w)})).catch((function(n){console.error(n)})).finally((function(){A(!1),I((0,_.A_)(U))}))};function nn(){return(nn=(0,i.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10},n.abrupt("return",j.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function en(){return(en=(0,i.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,region_id:null===W||void 0===W?void 0:W.value},n.abrupt("return",w.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function tn(){return(tn=(0,i.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,country_id:null===Q||void 0===Q?void 0:Q.value},n.abrupt("return",k.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function rn(){return(rn=(0,i.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,city_id:null===X||void 0===X?void 0:X.value},n.abrupt("return",F.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return T?(0,q.jsx)(S.Z,{}):(0,q.jsxs)(h.Z,{form:e,name:d(R?"edit.delivery.price":"add.delivery.price"),layout:"vertical",initialValues:(0,r.Z)({clickable:!0},U.data),onFinish:function(n){D(!0),t(n).finally((function(){return D(!1)}))},children:[(0,q.jsxs)(m.Z,{gutter:[24,24],children:[(0,q.jsx)(Z.Z,{span:12,children:(0,q.jsxs)(y.Z,{title:d("deliveryzone"),className:"h-100",children:[(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:d("region"),name:"region",rules:[{required:!0,message:d("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return nn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{region:n})})),e.resetFields(["city","area","country"])}})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:d("country"),name:"country",rules:[{required:!0,message:d("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return en.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{country:n})})),e.resetFields(["city","area"])},disabled:!Boolean(null===W||void 0===W?void 0:W.value)})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:d("city"),name:"city",rules:[{required:!1,message:d("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return tn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===Q||void 0===Q?void 0:Q.value),onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{city:n})})),e.resetFields(["area"])}})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:d("area"),name:"area",rules:[{required:!1,message:d("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return rn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===X||void 0===X?void 0:X.value)})})})]})}),(0,q.jsx)(Z.Z,{span:12,children:(0,q.jsx)(y.Z,{title:d("pricing"),className:"h-100",children:(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:"".concat(d("price")," (").concat(null===M||void 0===M?void 0:M.symbol,")"),name:"price",rules:[{required:!0,message:d("required")}],children:(0,q.jsx)(g.Z,{className:"w-100"})})})})})]}),(0,q.jsx)("br",{}),(0,q.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,q.jsx)("div",{className:"pb-5",children:(0,q.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:$,children:d("submit")})})})]})}}}]);