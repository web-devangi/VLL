"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2440],{49655:function(n,t,e){e.d(t,{_:function(){return x}});var i=e(1413),l=e(93433),r=e(15861),o=e(29439),a=e(45987),u=e(87757),c=e.n(u),s=e(47313),d=e(12279),h=e.n(d),f=e(74294),v=e(72652),p=e(46417),Z=["fetchOptions","debounceTimeout","hasMore"],x=function(n){var t=n.fetchOptions,e=n.debounceTimeout,u=void 0===e?400:e,d=n.hasMore,x=(0,a.Z)(n,Z),y=(0,s.useState)(!1),m=(0,o.Z)(y,2),j=m[0],g=m[1],b=(0,s.useState)([]),S=(0,o.Z)(b,2),C=S[0],k=S[1],w=(0,s.useState)(!1),T=(0,o.Z)(w,2),_=T[0],I=T[1],F=(0,s.useState)(null),M=(0,o.Z)(F,2),O=M[0],A=M[1],N=(0,s.useState)(1),q=(0,o.Z)(N,2),z=q[0],L=q[1],B=(0,s.useMemo)((function(){return h()((function(n){k([]),A(n),g(!0),t({search:n}).then((function(n){k(n),L(2),g(!1)})).finally((function(){return I(!1)}))}),u)}),[t,u,z]),E=function(){var n=(0,r.Z)(c().mark((function n(e){var i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.target,_||i.scrollTop+i.offsetHeight!==i.scrollHeight||d&&(I(!0),i.scrollTo(0,i.scrollHeight),t({search:O,page:z}).then((function(n){L((function(n){return n+1})),k([].concat((0,l.Z)(C),(0,l.Z)(n)))})).finally((function(){return I(!1)})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,p.jsxs)(f.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,onPopupScroll:E,labelInValue:!0,filterOption:!1,onSearch:B,notFoundContent:j?(0,p.jsx)(v.Z,{size:"small"}):"no results",onFocus:function(){C.length||B("")}},x),{},{children:[C.map((function(n,t){return(0,p.jsx)(f.Z.Option,{value:n.value,children:n.label},t)})),_&&(0,p.jsx)(f.Z.Option,{children:(0,p.jsx)(v.Z,{size:"small"})})]}))}},79261:function(n,t,e){e.d(t,{Z:function(){return f}});var i=e(29439),l=e(10976),r=e(45705),o=e(59491),a=e(49655),u=e(47313),c=e(24511),s=e(34344),d={getCountries:function(n){return s.Z.get("rest/countries",{params:n})},getCities:function(n){return s.Z.get("rest/cities",{params:n})}},h=e(46417),f=function(n){var t=n.onClose,e=n.onSubmit,s=n.isButtonLoading,f=(0,c.$)().t,v=(0,u.useState)(null),p=(0,i.Z)(v,2),Z=p[0],x=p[1],y=(0,u.useState)(null),m=(0,i.Z)(y,2),j=m[0],g=m[1];return(0,h.jsxs)(l.Z,{layout:"vertical",onFinish:e,children:[(0,h.jsx)(l.Z.Item,{name:"country",label:f("country"),rules:[{required:!0,message:f("required")}],children:(0,h.jsx)(a._,{hasMore:null===Z||void 0===Z?void 0:Z.next,fetchOptions:function(n){var t=n.search,e=n.page;return d.getCountries({search:t,page:e,has_price:!0}).then((function(n){return x(n.links),n.data.map((function(n){var t;return{label:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,value:"".concat(n.id,",").concat(n.region_id)}}))}))},onChange:function(n){return g(n)}})}),j&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.Z.Item,{rules:[{required:!0,message:f("required")}],name:"city",label:f("city"),children:(0,h.jsx)(a._,{hasMore:null===Z||void 0===Z?void 0:Z.next,fetchOptions:function(n){var t=n.search,e=n.page;return d.getCities({search:t,page:e,country_id:j.value,has_price:!0}).then((function(n){x(n.links);var t=[];return 1===n.meta.current_page&&t.push({label:f("whole.country"),value:"all"}),n.data.forEach((function(n){var e;t.push({label:null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title,value:n.id})})),t}))}})})}),(0,h.jsxs)(r.Z,{className:"justify-content-end w-100",children:[(0,h.jsx)(o.Z,{onClick:t,htmlType:"button",children:f("cancel")}),(0,h.jsx)(o.Z,{loading:s,htmlType:"submit",type:"primary",children:f("add")})]})]})}},1358:function(n,t,e){var i=e(4942),l=e(93433),r=e(1413),o=e(29439),a=e(2717),u=e(24511),c=e(26824),s=e(45705),d=e(59491),h=e(78508),f=e(9274),v=e(59624),p=e(47313),Z=e(28867),x=e(47515),y=e(79261),m=e(1748),j=e(23560),g=e(69658),b=e(74580),S=e(46417);t.Z=function(n){var t,e,C=n.next,k=n.prev,w=(0,u.$)().t,T=(0,a.v9)((function(n){return n.menu}),a.wU).activeMenu,_=(0,a.I0)(),I=(0,a.v9)((function(n){return n.shopLocations})),F=I.locations,M=I.loading,O=(0,p.useState)(null),A=(0,o.Z)(O,2),N=A[0],q=A[1],z=(0,p.useState)(!1),L=(0,o.Z)(z,2),B=L[0],E=L[1],H=(0,p.useState)(!1),U=(0,o.Z)(H,2),$=U[0],P=U[1],V=(0,p.useContext)(b._).setIsModalVisible,W=[{title:w("location"),dataIndex:"location",key:"location",render:function(n,t){var e,i,l,r;return(0,S.jsxs)("span",{children:[null===(e=t.country)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title,t.city?",":""," ",null===(l=t.city)||void 0===l||null===(r=l.translation)||void 0===r?void 0:r.title]})}},{title:w("image"),dataIndex:"country",key:"image",render:function(n){var t;return(0,S.jsx)(c.Z,{src:n.img,alt:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,width:60,height:40})}},{title:w("options"),dataIndex:"options",key:"options",render:function(n,t){return(0,S.jsx)(s.Z,{children:(0,S.jsx)(d.Z,{onClick:function(){q([t.id]),V(!0)},type:"primary",danger:!0,icon:(0,S.jsx)(x.Z,{})})})}}],D={shop_id:null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.id};return(0,p.useEffect)((function(){var n;null!==T&&void 0!==T&&null!==(n=T.data)&&void 0!==n&&n.id&&_((0,Z.Z7)(D))}),[null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.id]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{className:"justify-content-end w-100",children:(0,S.jsx)(d.Z,{onClick:function(){return P(!0)},type:"primary",children:w("add")})}),(0,S.jsx)(h.Z,{loading:M,dataSource:F,columns:W}),(0,S.jsx)(f.Z,{footer:null,visible:$,destroyOnClose:!0,onCancel:function(){return P(!1)},children:(0,S.jsx)(y.Z,{onClose:function(){return P(!1)},onSubmit:function(n){var t,e,i={country_id:n.country.value.split(",")[0],region_id:n.country.value.split(",")[1],shop_id:null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.id};"all"!==n.city.value&&(i.city_id=null===(e=n.city)||void 0===e?void 0:e.value);E(!0),m.Z.create(i).then((function(){j.Am.success(w("successfully.added")),_((0,Z.Z7)(D)),P(!1)})).finally((function(){E(!1)}))},isButtonLoading:B})}),(0,S.jsx)(g.Z,{click:function(){E(!0);var n=(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)(N.map((function(n,t){return(0,i.Z)({},"ids[".concat(t,"]"),n)}))))));m.Z.delete(n).then((function(){_((0,Z.Z7)(D)),j.Am.success(w("successfully.deleted"))})).finally((function(){q(null),E(!1),V(!1)}))},text:w("delete.location"),setText:q,loading:B}),(0,S.jsx)(v.Z,{span:24,children:(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(d.Z,{type:"primary",htmlType:"button",onClick:function(){return C()},children:w("next")}),(0,S.jsx)(d.Z,{htmlType:"button",onClick:function(){return k()},children:w("prev")})]})})]})}},42440:function(n,t,e){e.r(t),e.d(t,{steps:function(){return Z}});var i=e(29439),l=e(47313),r=e(83999),o=e(77181),a=e(2717),u=e(73431),c=e(24511),s=e(40622),d=e(20131),h=e(1358),f=e(76833),v=e(46417),p=r.Z.Step,Z=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"shop.social",content:"Third-content"},{title:"delivery",content:"Fourth-content"}];t.default=function(){var n,t=(0,c.$)().t,e=(0,a.v9)((function(n){return n.menu}),a.wU).activeMenu,x=(0,l.useState)((null===(n=e.data)||void 0===n?void 0:n.step)||0),y=(0,i.Z)(x,2),m=y[0],j=y[1],g=function(){j(m+1)},b=function(){j(m-1)};return(0,v.jsxs)(o.Z,{title:t("add.shop"),extra:(0,v.jsx)(u.Z,{}),children:[(0,v.jsx)(r.Z,{current:m,children:Z.map((function(n){return(0,v.jsx)(p,{title:t(n.title)},n.title)}))}),(0,v.jsxs)("div",{className:"steps-content",children:["First-content"===Z[m].content&&(0,v.jsx)(s.Z,{next:g,user:!1}),"Second-content"===Z[m].content&&(0,v.jsx)(h.Z,{next:g,prev:b}),"Third-content"===Z[m].content&&(0,v.jsx)(f.Z,{next:g,prev:b}),"Fourth-content"===Z[m].content&&(0,v.jsx)(d.Z,{next:g,prev:b})]})]})}},76833:function(n,t,e){e.d(t,{Z:function(){return w}});var i=e(4942),l=e(1413),r=e(93433),o=e(29439),a=e(47313),u=e(10976),c=e(77181),s=e(68197),d=e(59624),h=e(74294),f=e(66672),v=e(59491),p=e(45705),Z=e(47515),x=e(24511),y=e(34344),m={getAll:function(n){return y.Z.get("dashboard/admin/shop-socials",{params:n})},create:function(n){return y.Z.post("dashboard/admin/shop-socials",n)},update:function(n){return y.Z.put("dashboard/seller/shop-socials",{},{params:n})}},j=e(51282),g=e(97890),b=e(49067),S=e(46417),C=[{label:"Facebook",value:"facebook"},{label:"Instagram",value:"instagram"},{label:"Telegram",value:"telegram"},{label:"Youtube",value:"youtube"},{label:"LinkedIn",value:"linkedin"},{label:"Snapchat",value:"snapchat"},{label:"WeChat",value:"wechat"},{label:"WhatsApp",value:"whatsapp"},{label:"Twitch",value:"twitch"},{label:"Discord",value:"discord"},{label:"Pinterest",value:"pinterest"},{label:"Steam",value:"steam"},{label:"Spotify",value:"spotify"},{label:"Reddit",value:"reddit"},{label:"Skype",value:"skype"},{label:"Twitter",value:"twitter"}],k=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",i=0;i<n;i++){var l=Math.floor(Math.random()*t.length);e+=t[l]}return e};function w(n){var t=n.prev,e=n.next,y=(0,x.$)().t,w=(0,g.UO)().uuid,T=(0,a.useState)(null),_=(0,o.Z)(T,2),I=_[0],F=_[1],M=(0,a.useState)(C),O=(0,o.Z)(M,2),A=O[0],N=(O[1],(0,a.useState)([{type:"",content:"",id:k()}])),q=(0,o.Z)(N,2),z=q[0],L=q[1],B=(0,a.useState)(!1),E=(0,o.Z)(B,2),H=E[0],U=E[1],$=(0,a.useState)(!1),P=(0,o.Z)($,2),V=P[0],W=P[1],D=function(n,t,e){L(z.flatMap((function(r){return r.id===t?(0,l.Z)((0,l.Z)({},r),{},(0,i.Z)({},n,e)):r})))};(0,a.useEffect)((function(){if(!I)return U(!0),void b.Z.getById(w).then((function(n){return F(n.data)}));!function(){U(!0);var n={shop_id:null===I||void 0===I?void 0:I.id};m.getAll(n).then((function(n){var t;null!==(t=n.data)&&void 0!==t&&t.length&&L(n.data.map((function(n){return{type:n.type,content:n.content,id:k()}})))})).finally((function(){return U(!1)}))}()}),[null===I||void 0===I?void 0:I.id]);return(0,S.jsx)(a.Fragment,{children:H?(0,S.jsx)(j.Z,{}):(0,S.jsxs)(u.Z,{onFinish:function(){W(!0);var n={shop_id:null===I||void 0===I?void 0:I.id,data:z.map((function(n){return n.type&&n.content?{type:n.type,content:n.content}:null})).filter((function(n){return!!n}))};return m.create(n).then((function(){return e()})).finally((function(){return W(!1)}))},layout:"vertical",children:[(0,S.jsxs)(c.Z,{children:[z.map((function(n,t){return(0,S.jsxs)(s.Z,{gutter:12,children:[(0,S.jsx)(d.Z,{span:9,children:(0,S.jsx)(u.Z.Item,{label:y("type"),children:(0,S.jsx)(h.Z,{showSearch:!0,options:A,value:n.type,onChange:function(t){return D("type",n.id,t)}})})}),(0,S.jsx)(d.Z,{span:12,children:(0,S.jsx)(u.Z.Item,{label:y("url"),children:(0,S.jsx)(f.Z,{value:n.content,onChange:function(t){return D("content",n.id,t.target.value)}})})}),z.length>1&&(0,S.jsx)(d.Z,{span:3,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,S.jsx)(v.Z,{type:"primary",danger:!0,icon:(0,S.jsx)(Z.Z,{}),onClick:function(){return t=n,void L(z.filter((function(n){return n.id!==t.id})));var t}})})]},t)})),(0,S.jsx)(v.Z,{className:"w-100 my-3",type:"dashed",onClick:function(){L([].concat((0,r.Z)(z),[{type:"",content:"",id:k()}]))},children:y("add.social")})]}),(0,S.jsxs)(p.Z,{className:"mt-4",children:[(0,S.jsx)(v.Z,{onClick:t,children:y("prev")}),(0,S.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:!!V,children:y("next")})]})]})})}}}]);