"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9899],{51988:function(n,t,e){e.d(t,{Z:function(){return a}});e(47313);var i=e(24511),r=e(66188),o=e.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",l=e.p+"static/media/noresult.ac4af107751f94856a9c.riv",u=e.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",d=e(46417);var a=function(n){var t=n.id,e=void 0===t?"noresult":t,a=n.text,s=void 0===a?"":a,c=(0,i.$)().t,v={src:{noproductsfound:o,noresult:l,nosell:u}[e],artboard:"New Artboard",autoplay:!0},h=(0,r.useRive)(v).RiveComponent;return(0,d.jsxs)("div",{className:"animation-canvas",children:[(0,d.jsx)("div",{style:{width:"100%",height:200},children:(0,d.jsx)(h,{})}),(0,d.jsx)("div",{className:"text",children:c(s)})]})}},41481:function(n,t,e){e.d(t,{Z:function(){return v}});var i=e(1413),r=e(29439),o=e(45987),l=e(47313),u=e(66672),d=e(16031),a=e(40765),s=e(46417),c=["handleChange","defaultValue","resetSearch"];function v(n){var t=n.handleChange,e=n.defaultValue,v=n.resetSearch,h=(0,o.Z)(n,c),p=(0,l.useState)(e),f=(0,r.Z)(p,2),x=f[0],Z=f[1],j=(0,l.useMemo)((function(){return(0,d.debounce)((function(n){t(n)}),800)}),[]);return(0,l.useEffect)((function(){Z(e)}),[v]),(0,s.jsx)(u.Z,(0,i.Z)({value:x,onChange:function(n){Z(n.target.value),j(n.target.value)},prefix:(0,s.jsx)(a.Z,{})},h))}},89281:function(n,t,e){e.d(t,{h:function(){return h}});var i=e(1413),r=e(29439),o=e(45987),l=e(47313),u=e(12279),d=e.n(u),a=e(74294),s=e(72652),c=e(46417),v=["fetchOptions","debounceTimeout","onClear","refetchOptions"],h=function(n){var t=n.fetchOptions,e=n.debounceTimeout,u=void 0===e?400:e,h=n.onClear,p=n.refetchOptions,f=void 0!==p&&p,x=(0,o.Z)(n,v),Z=(0,l.useState)(!1),j=(0,r.Z)(Z,2),m=j[0],g=j[1],y=(0,l.useState)([]),b=(0,r.Z)(y,2),w=b[0],_=b[1],k=(0,l.useMemo)((function(){return d()((function(n){_([]),g(!0),t(n).then((function(n){_(n),g(!1)}))}),u)}),[t,u]);return(0,c.jsx)(a.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:k,onClear:function(){k(""),h&&h()},notFoundContent:m?(0,c.jsx)(s.Z,{size:"small"}):"no results"},x),{},{options:w,onFocus:function(){w.length&&!f||k("")}}))}},77370:function(n,t,e){function i(n,t){for(var e=[],i=[],r="",o=0;o<(null===(l=n.stocks)||void 0===l?void 0:l.length);o++){var l;r="",n.stocks[o].extras.sort((function(n,t){return n.extra_group_id-t.extra_group_id}));for(var u=0;u<(null===(d=n.stocks[o].extras)||void 0===d?void 0:d.length);u++){var d,a=Object.assign({},n.stocks[o].extras[u]),s=e.findIndex((function(n){return n.extra_value_id==a.extra_value_id}));-1==s?(a.level=u,a.up=[r],e.push(a),r+=a.extra_value_id.toString()):(e[s].up.push(r),r+=a.extra_value_id.toString())}var c={id:n.stocks[o].id,extras:r,price:n.stocks[o].price,quantity:n.stocks[o].quantity,countable_id:n.stocks[o].countable_id,discount:n.stocks[o].discount,tax:n.stocks[o].tax,total_price:n.stocks[o].total_price,bonus:n.stocks[o].bonus};i.push(c)}return{stock:i,extras:e}}function r(n,t,e){for(var i=""==n?[]:n.split(","),r=[],o=[],l=0;l<=i.length;l++){l-1>=0&&(o[o.length]=i[l-1].toString());var u=t.filter((function(n){if(new Set(n.up).has(o.join("")))return n}));u.length>0&&r.push(u)}l=0;if(o.length<r.length)for(;l<t.length;){o[o.length]=r[r.length-1][0].extra_value_id.toString();var d=t.filter((function(n){return!!new Set(n.up).has(o.join(""))}));if(0==d.length)break;r.push(d),l++}var a=e.findIndex((function(n){return n.extras==o.join("")}));return{stock:e[a],extras:r}}e.d(t,{o:function(){return i},y:function(){return r}})},28939:function(n,t,e){function i(n){var t,e=null===n||void 0===n||null===(t=n.extras)||void 0===t?void 0:t.find((function(n){return"image"===n.group.type}));return e?e.value:""}e.d(t,{Z:function(){return i}})},84017:function(n,t,e){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",i=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===e?"".concat(i," ").concat(t):"".concat(t," ").concat(i)}e.d(t,{Z:function(){return i}})},91220:function(n,t,e){function i(n,t){var e,i=(null===t||void 0===t||null===(e=t.translation)||void 0===e?void 0:e.title)||"pcs";if(!n)return 0;switch(null===t||void 0===t?void 0:t.position){case"after":return n+" "+i;case"before":return i+" "+n}}e.d(t,{Z:function(){return i}})},70027:function(n,t,e){e.r(t),e.d(t,{default:function(){return nn}});var i=e(1413),r=e(29439),o=e(47313),l=e(97890),u=e(77181),d=e(46155),a=e(68197),s=e(59624),c=e(45705),v=e(66204),h=e(59491),p=e(24511),f=e(7370),x=e(90954),Z=e(2717),j=e(51282),m=e(80314),g=e(84017),y=e(15861),b=e(87757),w=e.n(b),_=e(72652),k=e(51988),S=e(45464),C=e(66909),q=e(82138),N=e(95882),P=e(89281),I=e(49067),F=e(30763),M=e(11216),E=e(41481),O=e(93433),U=e(9274),$=e(26824),R=e(83371),D=e(28939),A=e(91220),V=e(8846),z=e(77370),B=e(17101),T=e(46417);function W(n){var t,e,l,u,d=n.productData,v=n.setProductData,f=(0,p.$)().t,j=(0,Z.I0)(),m=(0,Z.v9)((function(n){return n.order.data}),Z.wU).currency,y=(0,Z.v9)((function(n){return n.menu}),Z.wU).activeMenu,b=(0,o.useState)({}),w=(0,r.Z)(b,2),k=w[0],C=w[1],N=(0,o.useState)(!1),P=(0,r.Z)(N,2),I=P[0],F=P[1],M=(0,o.useState)({}),E=(0,r.Z)(M,2),W=E[0],H=E[1],G=(0,o.useState)([]),J=(0,r.Z)(G,2),K=J[0],L=J[1],Q=(0,o.useState)([]),X=(0,r.Z)(Q,2),Y=X[0],nn=X[1],tn=(0,o.useState)([]),en=(0,r.Z)(tn,2),rn=en[0],on=en[1],ln=(0,o.useState)((null===k||void 0===k?void 0:k.quantity)||d.quantity||d.min_qty),un=(0,r.Z)(ln,2),dn=un[0],an=un[1],sn=(0,o.useState)({extras:[],stock:{id:0,quantity:1,price:0}}),cn=(0,r.Z)(sn,2),vn=cn[0],hn=cn[1],pn=function(){v(null)},fn=function(n){var t;return(null===vn||void 0===vn||null===(t=vn.stock)||void 0===t?void 0:t[n||"price"])*dn},xn=function(n){var t,e=K.findIndex((function(t){return t.extra_group_id===n.extra_group_id})),i=K;e>-1&&(i=i.slice(0,e)),i.push(n);var r=i.map((function(n){return n.extra_value_id})).join(","),o=(0,z.y)(r,Y,rn);hn(o),null===(t=o.extras)||void 0===t||t.forEach((function(t){var e=K.findIndex((function(e){return t[0].extra_group_id!==n.extra_group_id?e.extra_group_id===t[0].extra_group_id:e.extra_group_id===n.extra_group_id}));if(t[0].level>=n.level){var r=t[0].extra_group_id!==n.extra_group_id?t[0]:n;-1===e?i.push(r):i[e]=r}})),L(i)};return(0,o.useEffect)((function(){F(!0),B.Z.getById(d.uuid).then((function(n){var t,e=n.data;C(e);var i=(0,z.o)(e,{});nn(i.extras),an(e.quantity||e.min_qty),on(i.stock),hn((0,z.y)(K,i.extras,i.stock)),null===(t=(0,z.y)("",i.extras,i.stock).extras)||void 0===t||t.forEach((function(n){L((function(t){return[].concat((0,O.Z)(t),[n[0]])}))}))})).finally((function(){return F(!1)}))}),[d.uuid]),(0,o.useEffect)((function(){null!==vn&&void 0!==vn&&vn.stock&&H((0,i.Z)((0,i.Z)({},vn.stock),{},{extras:K}))}),[vn]),(0,T.jsx)(U.Z,{visible:!!d,onCancel:pn,footer:[I?"":(0,T.jsx)(h.Z,{type:"primary",onClick:function(){var n={stock:(0,i.Z)((0,i.Z)({},W),{},{extras:K}),quantity:dn,id:W.id,img:(0,D.Z)(W)||(null===k||void 0===k?void 0:k.img),price:W.price,translation:null===k||void 0===k?void 0:k.translation};j((0,x.nc)({activeMenu:y,data:{newProduct:(0,i.Z)({},n)}})),v(null)},children:f("add")},"add-product"),(0,T.jsx)(h.Z,{type:"default",onClick:pn,children:f("cancel")},"cancel-modal")],children:(0,T.jsxs)(_.Z,{spinning:I,children:[(0,T.jsxs)(a.Z,{gutter:24,children:[(0,T.jsx)(s.Z,{span:8,children:(0,T.jsx)($.Z,{src:(0,S.Z)((0,D.Z)(W)||(null===d||void 0===d?void 0:d.img)),alt:d.name,height:200,style:{objectFit:"contain"}})}),(0,T.jsx)(s.Z,{span:16,children:(0,T.jsxs)(R.Z,{title:null===(t=d.translation)||void 0===t?void 0:t.title,children:[(0,T.jsxs)(R.Z.Item,{label:f("price"),span:3,children:[(0,T.jsx)("div",{className:null!==W&&void 0!==W&&W.discount?"strike":"",children:(0,g.Z)(fn(),m.symbol)}),null!==W&&void 0!==W&&W.discount?(0,T.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,g.Z)(fn("total_price"),m.symbol)}):""]}),(0,T.jsx)(R.Z.Item,{label:f("in.stock"),span:3,children:(0,A.Z)(null===W||void 0===W?void 0:W.quantity,null===k||void 0===k?void 0:k.unit)}),(0,T.jsx)(R.Z.Item,{label:f("tax"),span:3,children:(0,g.Z)(null===W||void 0===W?void 0:W.tax,m.symbol)})]})})]}),null!==vn&&void 0!==vn&&vn.extras?null===vn||void 0===vn||null===(e=vn.extras)||void 0===e?void 0:e.map((function(n,t){return(0,T.jsx)("div",{className:"extra-group",children:(0,T.jsx)(c.Z,{className:"extras-select",wrap:!0,children:null===n||void 0===n?void 0:n.map((function(n,t){var e,i,r,o;return"color"===(null===n||void 0===n||null===(e=n.group)||void 0===e?void 0:e.type)?(0,T.jsx)("span",{className:"extras-color-wrapper ".concat(K.find((function(t){return t.id===n.id}))?"selected":""),onClick:function(){return xn(n)},children:(0,T.jsx)("i",{className:"extras-color",style:{backgroundColor:null===n||void 0===n||null===(r=n.value)||void 0===r?void 0:r.value}})},"color"+t):"text"===(null===n||void 0===n||null===(i=n.group)||void 0===i?void 0:i.type)?(0,T.jsx)("span",{className:"extras-text rounded ".concat(K.find((function(t){return t.id===n.id}))?"selected":""),onClick:function(){return xn(n)},children:null===n||void 0===n||null===(o=n.value)||void 0===o?void 0:o.value},"text"+t):null}))})},"extra-group"+t)})):null,(0,T.jsx)(a.Z,{gutter:12,className:"mt-3",children:(0,T.jsx)(s.Z,{span:24,children:(0,T.jsxs)(c.Z,{children:[(0,T.jsx)(h.Z,{type:"primary",icon:(0,T.jsx)(V.Z,{}),onClick:function(){1!==dn&&(dn<=(null===k||void 0===k?void 0:k.min_qty)||an((function(n){return n-1})))}},"plus"),(dn||1)*((null===d||void 0===d?void 0:d.interval)||1),null===d||void 0===d||null===(l=d.unit)||void 0===l||null===(u=l.translation)||void 0===u?void 0:u.title,(0,T.jsx)(h.Z,{type:"primary",icon:(0,T.jsx)(q.Z,{}),onClick:function(){dn!==k.max_qty&&an((function(n){return n+1}))}},"minus")]})})})]})})}function H(){var n=(0,p.$)().t,t=(0,Z.I0)(),e=(0,Z.v9)((function(n){return n.product}),Z.wU),i=e.products,l=e.loading,d=(0,o.useState)(null),v=(0,r.Z)(d,2),h=v[0],f=v[1],x=(0,o.useState)(null),j=(0,r.Z)(x,2),m=j[0],g=j[1],b=(0,o.useState)(null),O=(0,r.Z)(b,2),U=O[0],$=O[1],R=(0,o.useState)(null),D=(0,r.Z)(R,2),A=D[0],V=D[1],z=(0,o.useState)(null),B=(0,r.Z)(z,2),H=B[0],G=B[1];function J(){return J=(0,y.Z)(w().mark((function n(t){var e;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={search:t,status:"approved"},n.abrupt("return",I.Z.getAll(e).then((function(n){return n.data.map((function(n){var t;return{label:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)}))),J.apply(this,arguments)}function K(){return K=(0,y.Z)(w().mark((function n(t){var e;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={search:t,type:"main"},n.abrupt("return",F.Z.search(e).then((function(n){return n.data.map((function(n){var t;return{label:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)}))),K.apply(this,arguments)}function L(){return L=(0,y.Z)(w().mark((function n(t){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",M.Z.search(t).then((function(n){return n.data.map((function(n){var t;return{label:null!==(t=null===n||void 0===n?void 0:n.title)&&void 0!==t?t:"--",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 1:case"end":return n.stop()}}),n)}))),L.apply(this,arguments)}return(0,o.useEffect)((function(){var n={perPage:10,page:1,brand_id:null===U||void 0===U?void 0:U.value,category_id:null===A||void 0===A?void 0:A.value,search:h,shop_id:null===m||void 0===m?void 0:m.value,active:1};t((0,N.q1)(n))}),[U,A,h,m]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(u.Z,{title:n("products"),className:"order-add",children:[(0,T.jsxs)(c.Z,{wrap:!0,className:"mb-4",children:[(0,T.jsx)(E.Z,{placeholder:n("search"),handleChange:function(n){return f(n)},defaultValue:h}),(0,T.jsx)(P.h,{placeholder:n("select.shop"),fetchOptions:function(n){return J.apply(this,arguments)},style:{minWidth:150},onChange:function(n){return g(n)},value:m}),(0,T.jsx)(P.h,{placeholder:n("select.category"),fetchOptions:function(n){return K.apply(this,arguments)},style:{minWidth:150},onChange:function(n){return V(n)},value:A}),(0,T.jsx)(P.h,{placeholder:n("select.brand"),fetchOptions:function(n){return L.apply(this,arguments)},style:{minWidth:150},onChange:function(n){return $(n)},value:U})]}),0===i.length?(0,T.jsx)(s.Z,{span:24,children:(0,T.jsx)(k.Z,{id:"nosell"})}):(0,T.jsxs)("div",{className:"products-row order-items",children:[i.length?i.map((function(n){var t,e;return(0,T.jsxs)(u.Z,{className:"products-col",cover:(0,T.jsx)("img",{alt:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,src:(0,S.Z)(null===n||void 0===n?void 0:n.img)}),onClick:function(){return G(n)},children:[(0,T.jsx)(C.Z,{title:null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title}),(0,T.jsx)("div",{className:"preview",children:(0,T.jsx)(q.Z,{})})]},n.id)})):(0,T.jsx)(a.Z,{children:(0,T.jsx)(s.Z,{span:24,children:(0,T.jsx)(k.Z,{id:"nosell"})})}),l&&(0,T.jsx)("div",{className:"loader",children:(0,T.jsx)(_.Z,{})})]})]}),H&&(0,T.jsx)(W,{productData:H,setProductData:G})]})}function G(){var n,t,e,i,r,o,l,d,h,f,x,j,m,y=(0,p.$)().t,b=(0,Z.v9)((function(n){return n.menu}),Z.wU).activeMenu,w=(0,Z.v9)((function(n){return n.currency}),Z.wU).defaultCurrency;return(0,T.jsx)(u.Z,{title:y("new.product"),children:(0,T.jsxs)(a.Z,{gutter:12,children:[(0,T.jsx)(s.Z,{span:4,style:{width:"100px",height:"250px"},children:(0,T.jsx)("div",{style:{display:"flex",width:"100%",height:"100%",objectFit:"contain",overflow:"hidden",borderRadius:"15px"},children:(0,T.jsx)("img",{src:null===(n=b.data)||void 0===n||null===(t=n.newProduct)||void 0===t?void 0:t.img,placeholder:!0,style:{width:"100%",height:"100%",objectFit:"contain"}})})}),(0,T.jsxs)(s.Z,{span:20,children:[(0,T.jsx)("h4",{children:null===(e=b.data)||void 0===e||null===(i=e.newProduct)||void 0===i||null===(r=i.translation)||void 0===r?void 0:r.title}),(0,T.jsxs)(c.Z,{children:[(0,T.jsxs)("p",{children:[y("quantity"),": "]}),(0,T.jsx)("p",{children:null===(o=b.data)||void 0===o||null===(l=o.newProduct)||void 0===l?void 0:l.quantity})]}),(0,T.jsx)("br",{}),(0,T.jsxs)(c.Z,{children:[(0,T.jsxs)("p",{children:[y("price"),": "]}),(0,T.jsx)("p",{children:(0,g.Z)(null===(d=b.data)||void 0===d||null===(h=d.newProduct)||void 0===h?void 0:h.price,null===w||void 0===w?void 0:w.symbol)})]}),(0,T.jsx)("br",{}),(0,T.jsx)(c.Z,{wrap:!0,children:null===(f=b.data)||void 0===f||null===(x=f.newProduct)||void 0===x||null===(j=x.stock)||void 0===j||null===(m=j.extras)||void 0===m?void 0:m.map((function(n){var t,e,i;return"color"===(null===n||void 0===n||null===(t=n.group)||void 0===t?void 0:t.type)?(0,T.jsx)("span",{style:{display:"block",width:"30px",height:"30px",backgroundColor:null===n||void 0===n||null===(e=n.value)||void 0===e?void 0:e.value,border:"2px solid #909091",borderRadius:"50%"}},null===n||void 0===n?void 0:n.id):(0,T.jsx)(v.Z,{children:null===n||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value},null===n||void 0===n?void 0:n.id)}))})]})]})})}var J=e(66672),K=e(10976),L=e(16124),Q=J.Z.TextArea;function X(n){var t=n.showModal,e=n.setShowModal,i=n.handleSubmit,l=n.userData,u=(0,p.$)().t,d=K.Z.useForm(),c=(0,r.Z)(d,1)[0],v=(0,Z.v9)((function(n){return n.globalSettings.settings}),Z.wU).before_order_phone_required,f=(0,o.useState)(!1),x=(0,r.Z)(f,2),j=x[0],m=x[1];return(0,T.jsx)(U.Z,{visible:t,title:u("note"),onCancel:function(){return e(!1)},footer:[(0,T.jsx)(h.Z,{type:"primary",onClick:function(){return c.submit()},loading:j,children:u("submit")},"submit-modal"),(0,T.jsx)(h.Z,{type:"default",onClick:function(){return e(null)},children:u("cancel")},"cancel-modal")],children:(0,T.jsx)(K.Z,{form:c,layout:"vertical",onFinish:function(n){m(!0),i(n).finally((function(){return m(!1)}))},initialValues:{phone:null===l||void 0===l?void 0:l.phone},children:(0,T.jsxs)(a.Z,{children:[(0,T.jsx)(s.Z,{span:24,children:(0,T.jsx)(K.Z.Item,{label:u("note"),name:"note",rules:[{required:!0,message:u("required")},{validator:function(n,t){return t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(u("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<3?Promise.reject(new Error(u("must.be.at.least.3"))):Promise.resolve()}}],children:(0,T.jsx)(Q,{rows:4,className:"w-100"})})}),"1"===v&&(0,T.jsx)(s.Z,{span:24,children:(0,T.jsx)(K.Z.Item,{label:u("phone.number"),name:"phone",rules:[{required:!0,message:u("required")},{validator:function(n,t){return t<0?Promise.reject(new Error(u("must.be.positive"))):Promise.resolve()}}],children:(0,T.jsx)(L.Z,{className:"w-100",addonBefore:"+",parser:function(n){return parseInt(n,10)},disabled:!(null===l||void 0===l||!l.phone)})})})]})})})}var Y=e(23560);function nn(){var n,t,e,y,b,w,_,k,S,C,q=(0,p.$)().t,N=(0,Z.I0)(),P=(0,l.s0)(),I=(0,l.UO)(),F=I.order_id,M=I.stock_id,E=(0,Z.v9)((function(n){return n.menu}),Z.wU).activeMenu,O=(0,Z.v9)((function(n){return n.currency}),Z.wU).defaultCurrency,U=(0,o.useState)(!1),$=(0,r.Z)(U,2),R=$[0],D=$[1],A=(0,o.useState)({}),V=(0,r.Z)(A,2),z=V[0],B=V[1],W=(0,o.useState)(!1),J=(0,r.Z)(W,2),K=J[0],L=J[1],Q=function(){D(!0),f.Z.getById(F).then((function(n){var t,e=n.data,r=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.filter((function(n){return(null===n||void 0===n?void 0:n.stock_id)===Number(M)}));B((0,i.Z)((0,i.Z)({},r[0]),{},{delivery_type:null===e||void 0===e?void 0:e.delivery_type,user:null===e||void 0===e?void 0:e.user}))})).finally((function(){D(!1),N((0,x.A_)(E))}))};(0,o.useEffect)((function(){Q()}),[F]),(0,m.Z)((function(){E.refetch&&Q()}),[E.refetch]);return(0,T.jsxs)(T.Fragment,{children:[R?(0,T.jsx)(j.Z,{}):(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(H,{}),(0,T.jsx)(d.Z,{}),(0,T.jsx)(u.Z,{title:q("old.product"),bordered:!0,children:(0,T.jsxs)(a.Z,{gutter:12,children:[(0,T.jsx)(s.Z,{span:4,style:{width:"100px",height:"250px"},children:(0,T.jsx)("div",{style:{width:"100%",height:"100%",objectFit:"contain",overflow:"hidden",borderRadius:"15px"},children:(0,T.jsx)("img",{src:null===z||void 0===z||null===(n=z.stock)||void 0===n||null===(t=n.product)||void 0===t?void 0:t.img,placeholder:!0,style:{width:"100%",height:"100%",objectFit:"contain"}})})}),(0,T.jsxs)(s.Z,{span:20,children:[(0,T.jsx)("h4",{children:null===z||void 0===z||null===(e=z.stock)||void 0===e||null===(y=e.product)||void 0===y||null===(b=y.translation)||void 0===b?void 0:b.title}),(0,T.jsxs)(c.Z,{children:[(0,T.jsxs)("p",{children:[q("quantity"),": "]}),(0,T.jsx)("p",{children:null===z||void 0===z?void 0:z.quantity})]}),(0,T.jsx)("br",{}),(0,T.jsxs)(c.Z,{children:[(0,T.jsxs)("p",{children:[q("price"),": "]}),(0,T.jsx)("p",{children:(0,g.Z)(null===z||void 0===z||null===(w=z.stock)||void 0===w?void 0:w.price,null===O||void 0===O?void 0:O.symbol)})]}),(0,T.jsx)("br",{}),(0,T.jsx)(c.Z,{wrap:!0,children:null===z||void 0===z||null===(_=z.stock)||void 0===_||null===(k=_.extras)||void 0===k?void 0:k.map((function(n){var t,e,i;return"color"===(null===n||void 0===n||null===(t=n.group)||void 0===t?void 0:t.type)?(0,T.jsx)("span",{style:{display:"block",width:"30px",height:"30px",backgroundColor:null===n||void 0===n||null===(e=n.value)||void 0===e?void 0:e.value,border:"2px solid #909091",borderRadius:"50%"}},null===n||void 0===n?void 0:n.id):(0,T.jsx)(v.Z,{children:null===n||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value},null===n||void 0===n?void 0:n.id)}))})]})]})}),(0,T.jsx)(d.Z,{}),(null===(S=E.data)||void 0===S?void 0:S.newProduct)&&(0,T.jsx)(G,{}),(0,T.jsx)(c.Z,{wrap:!0,children:(0,T.jsx)(h.Z,{type:"primary",disabled:!(null!==(C=E.data)&&void 0!==C&&C.newProduct),onClick:function(){return L(!0)},children:q("next")})})]},"".concat(F," ").concat(M)),K&&(0,T.jsx)(X,{showModal:K,setShowModal:L,handleSubmit:function(n){var t,e,r,o,l,u,d="order/details/".concat(F),a={products:[{replace_note:null===n||void 0===n?void 0:n.note,replace_stock_id:null===z||void 0===z||null===(t=z.stock)||void 0===t?void 0:t.id,replace_quantity:null===z||void 0===z?void 0:z.quantity,stock_id:null===(e=E.data)||void 0===e||null===(r=e.newProduct)||void 0===r||null===(o=r.stock)||void 0===o?void 0:o.id,quantity:null===(l=E.data)||void 0===l||null===(u=l.newProduct)||void 0===u?void 0:u.quantity}],currency_id:null===O||void 0===O?void 0:O.id,phone:"".concat(null===n||void 0===n?void 0:n.phone)};return null!==n&&void 0!==n&&n.phone||delete a.phone,f.Z.replaceProduct(F,a).then((function(){L(!1),Y.Am.success(q("successfully.replaced")),(0,Z.dC)((function(){N((0,x.ph)((0,i.Z)((0,i.Z)({},E),{},{nextUrl:d}))),N((0,x.xo)(E))})),P("/".concat(d))}))},userData:null===z||void 0===z?void 0:z.user})]})}},8846:function(n,t,e){e.d(t,{Z:function(){return d}});var i=e(1413),r=e(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},l=e(17469),u=function(n,t){return r.createElement(l.Z,(0,i.Z)((0,i.Z)({},n),{},{ref:t,icon:o}))};u.displayName="MinusOutlined";var d=r.forwardRef(u)}}]);