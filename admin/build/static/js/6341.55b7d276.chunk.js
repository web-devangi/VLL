"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6341],{53233:(e,t,n)=>{n.d(t,{Z:()=>m});var l=n(47313),a=n(56140),s=n(67251),i=n(45705),d=n(86345),r=n(78267),o=n(37388),c=n(59491),u=n(99587),h=n(24511),v=n(46417);const{Text:x}=a.Z,m=e=>{let{columns:t=[],setColumns:n,style:a,size:m="",iconOnly:p}=e;const{t:Z}=(0,h.$)(),[f,j]=(0,l.useState)(!1),g=(0,v.jsx)(s.Z,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,v.jsx)(s.Z.Item,{children:(0,v.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(x,{children:e.title}),(0,v.jsx)(d.Z,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,v.jsx)(r.Z,{overlay:g,trigger:["click"],onVisibleChange:e=>{j(e)},visible:f,children:(0,v.jsx)(o.Z,{title:Z("change.columns"),children:(0,v.jsx)(c.Z,{style:{...a},size:m,icon:(0,v.jsx)(u.Z,{}),children:p?null:Z("Columns")})})})}},41481:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(47313),a=n(66672),s=n(16031),i=n(40765),d=n(46417);function r(e){let{handleChange:t,defaultValue:n,resetSearch:r,...o}=e;const[c,u]=(0,l.useState)(n),h=(0,l.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(n)}),[r]),(0,d.jsx)(a.Z,{value:c,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,d.jsx)(i.Z,{}),...o})}},84017:(e,t,n)=>{function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===n?"".concat(l," ").concat(t):"".concat(t," ").concat(l)}n.d(t,{Z:()=>l})},86067:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(9274),a=n(59491),s=n(72652),i=n(83371),d=n(84017),r=n(47313),o=n(24511),c=n(98967),u=n(46417);const h=e=>{var t;let{id:n,onClose:h}=e;const{t:v}=(0,o.$)(),[x,m]=(0,r.useState)(!1),[p,Z]=(0,r.useState)(null),f=(0,r.useCallback)((()=>{m(!0),n&&c.Z.getById(n).then((e=>{Z(e.data)})).finally((()=>{m(!1)}))}),[n]);return(0,r.useEffect)((()=>{f()}),[n,f]),(0,u.jsx)(l.Z,{visible:!!n,title:v("ad.detail"),onCancel:h,footer:[(0,u.jsx)(a.Z,{onClick:h,children:v("close")})],children:x?(0,u.jsx)("div",{className:"flex justify-content-center my-6",children:(0,u.jsx)(s.Z,{})}):(0,u.jsxs)(i.Z,{bordered:!0,children:[(0,u.jsx)(i.Z.Item,{span:3,label:v("title"),children:null===p||void 0===p||null===(t=p.translation)||void 0===t?void 0:t.title}),(0,u.jsx)(i.Z.Item,{span:3,label:v("price"),children:(0,d.Z)(null===p||void 0===p?void 0:p.price)}),(0,u.jsxs)(i.Z.Item,{span:3,label:v("time"),children:[null===p||void 0===p?void 0:p.time," ",null===p||void 0===p?void 0:p.time_type]})]})})}},16341:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(47313),a=n(45705),s=n(59491),i=n(66204),d=n(77181),r=n(78508),o=n(50249),c=n(2717),u=n(24511),h=n(41481),v=n(53233),x=n(90954),m=n(80314),p=n(84017),Z=n(98967),f=n(23560),j=n(20637),g=n(32785),w=n(86067),y=n(70816),b=n.n(y),_=n(46417);function C(){const{t:e}=(0,u.$)(),t=(0,c.I0)(),[n,y]=(0,l.useState)(null),{activeMenu:C}=(0,c.v9)((e=>e.menu),c.wU),{shopAdList:z,loading:I,meta:k}=(0,c.v9)((e=>e.advert),c.wU),[H,S]=(0,l.useState)(""),[V,M]=(0,l.useState)(!1),[N,E]=(0,l.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("ad.package"),dataIndex:"ads_package",is_show:!0,render:e=>{var t;return(0,_.jsxs)(a.Z,{children:[(0,_.jsx)("span",{children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title}),(0,_.jsx)(s.Z,{icon:(0,_.jsx)(g.Z,{}),onClick:()=>y(e.id)})]})}},{title:e("price"),dataIndex:"price",is_show:!0,render:(e,t)=>{var n;return(0,p.Z)(null===t||void 0===t||null===(n=t.ads_package)||void 0===n?void 0:n.price)}},{title:e("expire_at"),dataIndex:"expire_at",is_show:!0,render:(e,t)=>b()(null===t||void 0===t?void 0:t.expired_at).format("YYYY-MM-DD HH:mm")},{title:e("status"),dataIndex:"status",is_show:!0,render:t=>(0,_.jsx)("div",{children:"new"===t?(0,_.jsx)(i.Z,{color:"blue",children:e(t)}):"canceled"===t?(0,_.jsx)(i.Z,{color:"error",children:e(t)}):(0,_.jsx)(i.Z,{color:"cyan",children:e(t)})})},{title:e("transaction"),dataIndex:"transaction",is_show:!0,render:t=>(0,_.jsx)("div",{children:"paid"===(null===t||void 0===t?void 0:t.status)?(0,_.jsx)(i.Z,{color:"cyan",children:e(null===t||void 0===t?void 0:t.status)}):"canceled"===(null===t||void 0===t?void 0:t.status)||"rejected"===(null===t||void 0===t?void 0:t.status)?(0,_.jsx)(i.Z,{color:"error",children:e(null===t||void 0===t?void 0:t.status)}):(0,_.jsx)(i.Z,{color:"orange",children:e("not.paid")})})},{title:e("options"),dataIndex:"options",is_show:!0,render:(n,l)=>{var i;return(0,_.jsx)(a.Z,{children:(0,_.jsx)(s.Z,{onClick:()=>(n=>{M(!0),j.Z.getAll().then((l=>{const a=l.data.find((e=>"wallet"===e.tag));if(!a)return f.Am.error(e("request.admin.to.enable.payment.from.wallet")),void M(!1);Z.Z.purchase(n,{payment_sys_id:null===a||void 0===a?void 0:a.id}).then((()=>{f.Am.success(e("purchased.successfully"))})).finally((()=>{M(!1),t((0,o.JX)(A))}))})).catch((()=>{M(!1)}))})(l.id),disabled:"paid"===(null===(i=l.transaction)||void 0===i?void 0:i.status),loading:V,children:e("purchase")})})}}]),A={perPage:10,page:1,sort:"desc",column:"created_at"};(0,l.useEffect)((()=>{C.refetch&&(t((0,o.JX)(A)),t((0,x.A_)(C)))}),[C.refetch]),(0,m.Z)((()=>{const e={search:H};t((0,o.JX)(e))}),[C.data,H]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d.Z,{className:"p-o",children:(0,_.jsxs)("div",{className:"flex justify-content-between",children:[(0,_.jsx)(h.Z,{style:{maxWidth:"200px"},handleChange:e=>S(e),placeholder:e("search")}),(0,_.jsx)("div",{className:"flex gap-3",children:(0,_.jsx)(v.Z,{columns:N,setColumns:E})})]})}),(0,_.jsx)(d.Z,{children:(0,_.jsx)(r.Z,{scroll:{x:!0},dataSource:z,columns:null===N||void 0===N?void 0:N.filter((e=>e.is_show)),rowKey:e=>e.id,loading:I||V,pagination:{pageSize:k.per_page,page:k.current_page,total:k.total},onChange:e=>{const{pageSize:n,current:l}=e;t((0,o.JX)({perPage:n,page:l}))}})}),(0,_.jsx)(w.Z,{id:n,onClose:()=>y(null)})]})}},32785:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(1413),a=n(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"};var i=n(17469),d=function(e,t){return a.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:s}))};d.displayName="EyeFilled";const r=a.forwardRef(d)},99587:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(1413),a=n(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(17469),d=function(e,t){return a.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:s}))};d.displayName="TableOutlined";const r=a.forwardRef(d)}}]);