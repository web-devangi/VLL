(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[37],{97388:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var s=t(47313),n=t(16609),o=t(97421);const a=t.p+"static/media/pin.0e41858db80c699cd8a2.png";var l=t(31881),i=t.n(l);async function d(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.kr,t={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:r};return i().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{var r;let{data:t}=e;return null===(r=t.results[0])||void 0===r?void 0:r.formatted_address})).catch((e=>"not found"))}var c=t(5958),m=t(23560),u=t(24511),h=t(46417);const p=(0,n.GoogleApiWrapper)({apiKey:o.kr})((function(e){const[r,t]=(0,s.useState)(),{t:l}=(0,u.$)(),i=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const r={lat:e.coords.latitude,lng:e.coords.longitude};t(r)}),(function(e){m.Am.warning(l("turn.on.gps"))}))};(0,s.useEffect)((()=>{i()}),[]);const p=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var v=new e.google.maps.LatLngBounds,g=0;g<p.length;g++)v.extend(p[g]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{i(),r&&(async r=>{const t={lat:null===r||void 0===r?void 0:r.lat,lng:null===r||void 0===r?void 0:r.lng};e.setLocation(t);const s=await d(t,o.kr);e.setAddress(s)})(r)},children:(0,h.jsx)(c.nDs,{})}),(0,h.jsx)(n.Map,{cursor:"pointer",onClick:async(r,t,s)=>{const{latLng:n}=s,a={lat:n.lat(),lng:n.lng()};e.setLocation(a);const l=await d(a,o.kr);e.setAddress(l)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,h.jsx)(n.Marker,{position:e.location,icon:{url:a,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13622:(e,r,t)=>{"use strict";t.d(r,{R:()=>d});var s=t(47313),n=t(12279),o=t.n(n),a=t(74294),l=t(72652),i=t(46417);const d=e=>{let{fetchOptions:r,debounceTimeout:t=400,refetch:n=!1,...d}=e;const[c,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)([]),p=(0,s.useMemo)((()=>o()((e=>{h([]),m(!0),r(e).then((e=>{h(e),m(!1)}))}),t)),[r,t]);return(0,i.jsx)(a.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>p(""),filterOption:!1,onSearch:p,notFoundContent:c?(0,i.jsx)(l.Z,{size:"small"}):"no results",...d,options:u,onFocus:()=>{u.length&&!n||p("")}})}},89281:(e,r,t)=>{"use strict";t.d(r,{h:()=>d});var s=t(47313),n=t(12279),o=t.n(n),a=t(74294),l=t(72652),i=t(46417);const d=e=>{let{fetchOptions:r,debounceTimeout:t=400,onClear:n,refetchOptions:d=!1,...c}=e;const[m,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)([]),v=(0,s.useMemo)((()=>o()((e=>{p([]),u(!0),r(e).then((e=>{p(e),u(!1)}))}),t)),[r,t]);return(0,i.jsx)(a.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,onClear:()=>{v(""),n&&n()},notFoundContent:m?(0,i.jsx)(l.Z,{size:"small"}):"no results",...c,options:h,onFocus:()=>{h.length&&!d||v("")}})}},17649:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});t(97421);function s(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const r=e.location.split(", ");return{lat:Number(null===r||void 0===r?void 0:r[0]),lng:Number(null===r||void 0===r?void 0:r[1])}}},84017:(e,r,t)=>{"use strict";function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const s=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(s," ").concat(r):"".concat(r," ").concat(s)}t.d(r,{Z:()=>s})},33834:(e,r,t)=>{"use strict";t.d(r,{K:()=>a});var s=t(97890),n=t(74776),o=t.n(n);const a=()=>{const e=(0,s.s0)(),r=(0,s.TH)(),t=o().parse(r.search,{ignoreQueryPrefix:!0});return{values:t,set:(r,s)=>e({search:o().stringify({...t,[r]:s})}),reset:r=>{const s={...t};s[r]&&delete s[r],e({search:o().stringify({...s})})},clear:()=>e({search:o().stringify({})}),merge:r=>e({search:o().stringify({...t,...r})})}}},69096:(e,r,t)=>{"use strict";t.d(r,{Z:()=>w});var s=t(47313),n=t(68197),o=t(59624),a=t(10976),l=t(99096),i=t(25050),d=t(66672),c=t(45705),m=t(59491),u=t(24511),h=t(5764),p=t(89281),v=t(71927),g=t(90486),j=t(84017),x=t(2717),Z=t(70816),f=t.n(Z),y=t(26457),b=t(46417);function w(e){var r;let{form:t,loading:Z,prev:w,locationFrom:P,locationTo:q,image:E,setImage:k}=e;const{t:I}=(0,u.$)(),{activeMenu:_}=(0,x.v9)((e=>e.menu),x.wU),[C,L]=(0,s.useState)(null===_||void 0===_||null===(r=_.data)||void 0===r?void 0:r.type),[N,S]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(C&&P&&q){const e={"address_from[latitude]":P.lat,"address_from[longitude]":P.lng,"address_to[latitude]":q.lat,"address_to[longitude]":q.lng,type_id:null===C||void 0===C?void 0:C.value};g.Z.calculate(e).then((e=>{let{data:r}=e;S(r.price)})).catch((e=>console.error(e)))}}),[C,P,q]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.Z,{gutter:24,children:[(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:I("type"),name:"type",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(p.h,{fetchOptions:async function(e){const r={search:e};return v.Z.getAll(r).then((e=>e.data.map((e=>({label:e.type,value:e.id,key:e.id})))))},onChange:e=>{L(e)}})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:I("image"),name:"images",rules:[{validator:()=>0===(null===E||void 0===E?void 0:E.length)?Promise.reject(new Error(I("required"))):Promise.resolve()}],children:(0,b.jsx)(h.Z,{type:"languages",imageList:E,setImageList:k,form:t,multiple:!1})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:I("payment.type"),name:"payment_type",rules:[{required:!0,message:I("missing.payment.type")}],children:(0,b.jsx)(p.h,{fetchOptions:async function(e){const r={search:e};return y.Z.getAll(r).then((e=>{var r,t;return null===(r=e.data)||void 0===r||null===(t=r.filter((e=>"cash"===e.tag||"wallet"===e.tag)))||void 0===t?void 0:t.map((e=>({label:I(e.tag),value:e.id,key:e.id})))}))}})})}),(0,b.jsx)(o.Z,{span:12}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:I("delivery.date"),name:"delivery_date",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(l.Z,{className:"w-100",placeholder:"",disabledDate:e=>f()().add(-1,"days")>=e})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:I("delivery.time"),name:"delivery_time",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(i.Z,{className:"w-100",format:"HH:mm",placeholder:""})})}),(0,b.jsx)(o.Z,{span:24,children:(0,b.jsx)(a.Z.Item,{label:I("note"),name:"note",rules:[{required:!0,message:I("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(I("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(I("must.be.at.least.2"))):Promise.resolve()}],children:(0,b.jsx)(d.Z.TextArea,{row:1,maxLength:100})})})]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(m.Z,{type:"default",htmlType:"button",onClick:w,children:I("prev")}),(0,b.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:Z,disabled:!N,children:I("submit")})]}),(0,b.jsxs)(c.Z,{children:[(0,b.jsxs)("span",{children:[I("total.price"),":"]}),(0,b.jsx)("span",{children:(0,j.Z)(N)})]})]})]})}},35233:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h});t(47313);var s=t(68197),n=t(59624),o=t(10976),a=t(66672),l=t(16124),i=t(45705),d=t(59491),c=t(24511),m=t(97388),u=t(46417);const h=e=>{let{form:r,next:t,prev:h,location:p,setLocation:v}=e;const{t:g}=(0,c.$)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(s.Z,{gutter:24,children:[(0,u.jsxs)(n.Z,{span:12,children:[(0,u.jsx)(o.Z.Item,{label:g("username"),name:"username_to",rules:[{required:!0,message:g("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(g("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(g("must.be.at.least.2"))):Promise.resolve()}],children:(0,u.jsx)(a.Z,{maxLength:20})}),(0,u.jsx)(o.Z.Item,{label:g("phone"),name:"phone_to",rules:[{required:!0,message:g("required")},{type:"number",max:1e20,message:g("max.length.20")}],children:(0,u.jsx)(l.Z,{className:"w-100",parser:e=>parseInt(e,10),min:0})}),(0,u.jsxs)(s.Z,{gutter:12,children:[(0,u.jsx)(n.Z,{span:8,children:(0,u.jsx)(o.Z.Item,{label:g("house"),name:"house_to",rules:[{required:!0,message:g("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(g("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(g("must.be.at.least.1"))):Promise.resolve()}],children:(0,u.jsx)(a.Z,{maxLength:10})})}),(0,u.jsx)(n.Z,{span:8,children:(0,u.jsx)(o.Z.Item,{label:g("stage"),name:"stage_to",rules:[{required:!0,message:g("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(g("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(g("must.be.at.least.1"))):Promise.resolve()}],children:(0,u.jsx)(a.Z,{maxLength:10})})}),(0,u.jsx)(n.Z,{span:8,children:(0,u.jsx)(o.Z.Item,{label:g("room"),name:"room_to",rules:[{required:!0,message:g("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(g("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(g("must.be.at.least.1"))):Promise.resolve()}],children:(0,u.jsx)(a.Z,{maxLength:10})})})]})]}),(0,u.jsxs)(n.Z,{span:12,children:[(0,u.jsx)(o.Z.Item,{label:g("address"),name:"address_to",rules:[{required:!0,message:g("required")}],children:(0,u.jsx)(a.Z,{})}),(0,u.jsx)(m.Z,{location:p,setLocation:v,setAddress:e=>r.setFieldsValue({address_to:e})})]})]}),(0,u.jsxs)(i.Z,{children:[(0,u.jsx)(d.Z,{type:"default",htmlType:"button",onClick:h,children:g("prev")}),(0,u.jsx)(d.Z,{type:"primary",htmlType:"button",onClick:t,children:g("next")})]})]})}},53456:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var s=t(47313),n=t(68197),o=t(59624),a=t(10976),l=t(66672),i=t(16124),d=t(45705),c=t(59491),m=t(24511),u=t(13622),h=t(97388),p=t(49986),v=t(46417);const g=e=>{let{form:r,next:t,location:g,setLocation:j}=e;const{t:x}=(0,m.$)(),[Z,f]=(0,s.useState)(null),[y,b]=(0,s.useState)([]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(n.Z,{gutter:24,children:[(0,v.jsxs)(o.Z,{span:12,children:[(0,v.jsx)(a.Z.Item,{label:x("user"),name:"user_from",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(u.R,{fetchOptions:async function(e){const r={search:e,roles:"user","empty-shop":1};return f(!1),p.Z.search(r).then((e=>(b(e.data),e.data.map((e=>({label:[null===e||void 0===e?void 0:e.firstname,null===e||void 0===e?void 0:e.lastname].join(" "),value:e.id,key:e.id}))))))},refetch:Z,onChange:e=>{const t=y.find((r=>r.id===e.value));r.setFieldsValue({username_from:[t.firstname,t.lastname].join(" "),phone_from:t.phone})}})}),(0,v.jsx)(a.Z.Item,{label:x("username"),name:"username_from",rules:[{required:!0,message:x("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(x("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(x("must.be.at.least.2"))):Promise.resolve()}],children:(0,v.jsx)(l.Z,{maxLength:20})}),(0,v.jsx)(a.Z.Item,{label:x("phone"),name:"phone_from",rules:[{required:!0,message:x("required")},{type:"number",max:1e20,message:x("max.length.20")}],children:(0,v.jsx)(i.Z,{className:"w-100",parser:e=>parseInt(e,10),min:0})}),(0,v.jsxs)(n.Z,{gutter:12,children:[(0,v.jsx)(o.Z,{span:8,children:(0,v.jsx)(a.Z.Item,{label:x("house"),name:"house_from",rules:[{required:!0,message:x("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(x("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(x("must.be.at.least.1"))):Promise.resolve()}],children:(0,v.jsx)(l.Z,{maxLength:10})})}),(0,v.jsx)(o.Z,{span:8,children:(0,v.jsx)(a.Z.Item,{label:x("stage"),name:"stage_from",rules:[{required:!0,message:x("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(x("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(x("must.be.at.least.1"))):Promise.resolve()}],children:(0,v.jsx)(l.Z,{maxLength:10})})}),(0,v.jsx)(o.Z,{span:8,children:(0,v.jsx)(a.Z.Item,{label:x("room"),name:"room_from",rules:[{required:!0,message:x("required")},{validator:(e,r)=>r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(x("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(x("must.be.at.least.1"))):Promise.resolve()}],children:(0,v.jsx)(l.Z,{maxLength:10})})})]})]}),(0,v.jsxs)(o.Z,{span:12,children:[(0,v.jsx)(a.Z.Item,{label:x("address"),name:"address_from",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(l.Z,{})}),(0,v.jsx)(h.Z,{location:g,setLocation:j,setAddress:e=>r.setFieldsValue({address_from:e})})]})]}),(0,v.jsx)(d.Z,{children:(0,v.jsx)(c.Z,{type:"primary",htmlType:"button",onClick:t,children:x("next")})})]})}},29395:(e,r,t)=>{"use strict";t.d(r,{S:()=>s});const s=[{title:"sender.details",content:"First-content"},{title:"receiver.details",content:"Second-content"},{title:"parcel.details",content:"Third-content"}]},25050:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var s=t(87462),n=t(47313),o=t(99096),a=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]])}return t},l=o.Z.TimePicker,i=o.Z.RangePicker,d=n.forwardRef((function(e,r){return n.createElement(i,(0,s.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:r}))})),c=n.forwardRef((function(e,r){var t=e.addon,o=e.renderExtraFooter,i=e.popupClassName,d=a(e,["addon","renderExtraFooter","popupClassName"]),c=n.useMemo((function(){return o||(t||void 0)}),[t,o]);return n.createElement(l,(0,s.Z)({},d,{dropdownClassName:i,mode:void 0,ref:r,renderExtraFooter:c}))}));c.displayName="TimePicker",c.RangePicker=d;const m=c},24654:()=>{}}]);