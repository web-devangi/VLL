"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5202],{13622:function(n,e,t){t.d(e,{R:function(){return f}});var i=t(1413),r=t(29439),o=t(45987),l=t(47313),u=t(12279),a=t.n(u),c=t(74294),d=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","refetch"],f=function(n){var e=n.fetchOptions,t=n.debounceTimeout,u=void 0===t?400:t,f=n.refetch,h=void 0!==f&&f,p=(0,o.Z)(n,v),Z=(0,l.useState)(!1),m=(0,r.Z)(Z,2),g=m[0],y=m[1],x=(0,l.useState)([]),j=(0,r.Z)(x,2),b=j[0],w=j[1],O=(0,l.useMemo)((function(){return a()((function(n){w([]),y(!0),e(n).then((function(n){w(n),y(!1)}))}),u)}),[e,u]);return(0,s.jsx)(c.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return O("")},filterOption:!1,onSearch:O,notFoundContent:g?(0,s.jsx)(d.Z,{size:"small"}):"no results"},p),{},{options:b,onFocus:function(){b.length&&!h||O("")}}))}},89281:function(n,e,t){t.d(e,{h:function(){return f}});var i=t(1413),r=t(29439),o=t(45987),l=t(47313),u=t(12279),a=t.n(u),c=t(74294),d=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","onClear","refetchOptions"],f=function(n){var e=n.fetchOptions,t=n.debounceTimeout,u=void 0===t?400:t,f=n.onClear,h=n.refetchOptions,p=void 0!==h&&h,Z=(0,o.Z)(n,v),m=(0,l.useState)(!1),g=(0,r.Z)(m,2),y=g[0],x=g[1],j=(0,l.useState)([]),b=(0,r.Z)(j,2),w=b[0],O=b[1],F=(0,l.useMemo)((function(){return a()((function(n){O([]),x(!0),e(n).then((function(n){O(n),x(!1)}))}),u)}),[e,u]);return(0,s.jsx)(c.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:F,onClear:function(){F(""),f&&f()},notFoundContent:y?(0,s.jsx)(d.Z,{size:"small"}):"no results"},Z),{},{options:w,onFocus:function(){w.length&&!p||F("")}}))}},75336:function(n,e,t){t.d(e,{Z:function(){return o}});var i=t(93433),r=t(4942);function o(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",o=n.map((function(n){return(0,r.Z)({},n.locale,""===e["".concat(t,"[").concat(n.locale,"]")]?void 0:e["".concat(t,"[").concat(n.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(o)))}},15202:function(n,e,t){t.r(e);var i=t(1413),r=t(29439),o=t(47313),l=t(97890),u=t(23560),a=t(10976),c=t(2717),d=t(90954),s=t(24511),v=t(75336),f=t(29919),h=t(94777),p=t(4663),Z=t(46417);e.default=function(){var n=(0,s.$)().t,e=(0,c.v9)((function(n){return n.menu}),c.wU).activeMenu,t=(0,c.I0)(),m=a.Z.useForm(),g=(0,r.Z)(m,1)[0],y=(0,l.s0)(),x=(0,c.v9)((function(n){return n.formLang}),c.wU).languages;(0,o.useEffect)((function(){return function(){var n=g.getFieldsValue(!0);t((0,d.nc)({activeMenu:e,data:n}))}}),[]);return(0,Z.jsx)(p.Z,{form:g,handleSubmit:function(r){var o=r.area,l=r.city,a=r.country,s=r.region,p=r.price,Z=r.fitting_rooms,m=r.active,g=r.shop_id,j={price:p,fitting_rooms:Z,active:Number(m),area_id:null===o||void 0===o?void 0:o.value,city_id:null===l||void 0===l?void 0:l.value,country_id:null===a||void 0===a?void 0:a.value,region_id:null===s||void 0===s?void 0:s.value,address:(0,v.Z)(x,r,"address"),shop_id:null===g||void 0===g?void 0:g.value},b="delivery-price";return f.Z.create(j).then((function(){u.Am.success(n("successfully.created")),(0,c.dC)((function(){t((0,d.ph)((0,i.Z)((0,i.Z)({},e),{},{nextUrl:b}))),t((0,h.nM)({}))})),y("/".concat(b))}))}})}},4663:function(n,e,t){t.d(e,{Z:function(){return M}});var i=t(15861),r=t(1413),o=t(45987),l=t(93433),u=t(4942),a=t(29439),c=t(87757),d=t.n(c),s=t(47313),v=t(2717),f=t(97890),h=t(24511),p=t(10976),Z=t(68197),m=t(59624),g=t(77181),y=t(16124),x=t(59491),j=t(13622),b=t(89281),w=t(27453),O=t(47139),F=t(79637),k=t(27443),C=t(49067),_=t(90954),S=t(29919),I=t(51282),q=t(46417),R=["city","country","region","area"];function M(n){var e=n.form,t=n.handleSubmit,c=(0,h.$)().t,M=(0,v.I0)(),N=(0,f.UO)().id,U=(0,v.v9)((function(n){return n.menu}),v.wU).activeMenu,V=(0,v.v9)((function(n){return n.formLang}),v.wU),z=V.languages,P=V.defaultLang,T=(0,v.v9)((function(n){return n.currency}),v.wU).defaultCurrency,B=(0,s.useState)(!1),A=(0,a.Z)(B,2),E=A[0],L=A[1],$=(0,s.useState)(!1),D=(0,a.Z)($,2),G=D[0],H=D[1],J=(0,s.useState)({}),K=(0,a.Z)(J,2),Q=K[0],W=K[1],X=Q.country,Y=Q.region,nn=Q.city;(0,s.useEffect)((function(){return function(){var n=e.getFieldsValue(!0);M((0,_.nc)({activeMenu:U,data:n}))}}),[]),(0,s.useEffect)((function(){U.refetch&&N&&en(N)}),[U.refetch]);var en=function(){L(!0),S.Z.getById(N).then((function(n){var t,i,a,c,d,s,v,f,h,p,Z=n.data,m=Z.city,g=Z.country,y=Z.region,x=Z.area,j=(0,o.Z)(Z,R),b="address[".concat(P,"]"),w={area:{label:null===x||void 0===x||null===(t=x.translation)||void 0===t?void 0:t.title,value:null===x||void 0===x?void 0:x.id},city:{label:null===m||void 0===m||null===(i=m.translation)||void 0===i?void 0:i.title,value:null===m||void 0===m?void 0:m.id},country:{label:null===g||void 0===g||null===(a=g.translation)||void 0===a?void 0:a.title,value:null===g||void 0===g?void 0:g.id},region:{label:null===y||void 0===y||null===(c=y.translation)||void 0===c?void 0:c.title,value:null===y||void 0===y?void 0:y.id}},O=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},function(n){if(null===n||void 0===n||!n.translations)return{};var e=n.translations,t=z.map((function(n){var t,i,r;return r={},(0,u.Z)(r,"title[".concat(n.locale,"]"),null===(t=e.find((function(e){return e.locale===n.locale})))||void 0===t?void 0:t.title),(0,u.Z)(r,"address[".concat(n.locale,"]"),null===(i=e.find((function(e){return e.locale===n.locale})))||void 0===i?void 0:i.address),r}));return Object.assign.apply(Object,[{}].concat((0,l.Z)(t)))}(Z)),w),j),{},(p={},(0,u.Z)(p,b,null===(d=Z.address)||void 0===d?void 0:d[P]),(0,u.Z)(p,"shop_id",{label:null===Z||void 0===Z||null===(s=Z.shop)||void 0===s||null===(v=s.translation)||void 0===v?void 0:v.title,value:null===Z||void 0===Z||null===(f=Z.shop)||void 0===f?void 0:f.id,key:null===Z||void 0===Z||null===(h=Z.shop)||void 0===h?void 0:h.id}),p));e.setFieldsValue(O),W(w)})).catch((function(n){console.error(n)})).finally((function(){L(!1),M((0,_.A_)(U))}))};function tn(){return(tn=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10},n.abrupt("return",w.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function rn(){return(rn=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,region_id:null===Y||void 0===Y?void 0:Y.value},n.abrupt("return",O.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function on(){return(on=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,country_id:null===X||void 0===X?void 0:X.value},n.abrupt("return",F.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function ln(){return(ln=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,city_id:null===nn||void 0===nn?void 0:nn.value},n.abrupt("return",k.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return E?(0,q.jsx)(I.Z,{}):(0,q.jsxs)(p.Z,{form:e,name:c(N?"edit.delivery.price":"add.delivery.price"),layout:"vertical",initialValues:(0,r.Z)({clickable:!0},U.data),onFinish:function(n){H(!0),t(n).finally((function(){return H(!1)}))},children:[(0,q.jsxs)(Z.Z,{gutter:[24,24],children:[(0,q.jsx)(m.Z,{span:12,children:(0,q.jsxs)(g.Z,{title:c("deliveryzone"),className:"h-100",children:[(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:c("region"),name:"region",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(j.R,{fetchOptions:function(n){return tn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){W((function(e){return(0,r.Z)((0,r.Z)({},e),{},{region:n})})),e.resetFields(["city","area","country"])}})})}),(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:c("country"),name:"country",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(j.R,{fetchOptions:function(n){return rn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){W((function(e){return(0,r.Z)((0,r.Z)({},e),{},{country:n})})),e.resetFields(["city","area"])},disabled:!Boolean(null===Y||void 0===Y?void 0:Y.value)})})}),(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:c("city"),name:"city",rules:[{required:!1,message:c("required")}],children:(0,q.jsx)(j.R,{fetchOptions:function(n){return on.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===X||void 0===X?void 0:X.value),onChange:function(n){W((function(e){return(0,r.Z)((0,r.Z)({},e),{},{city:n})})),e.resetFields(["area"])}})})}),(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:c("area"),name:"area",rules:[{required:!1,message:c("required")}],children:(0,q.jsx)(j.R,{fetchOptions:function(n){return ln.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===nn||void 0===nn?void 0:nn.value)})})})]})}),(0,q.jsx)(m.Z,{span:12,children:(0,q.jsx)(g.Z,{title:c("pricing"),className:"h-100",children:(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:"".concat(c("price")," (").concat(null===T||void 0===T?void 0:T.symbol,")"),name:"price",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(y.Z,{className:"w-100"})})})})}),(0,q.jsx)(m.Z,{span:12,children:(0,q.jsx)(g.Z,{title:c("others"),className:"h-100",children:(0,q.jsx)(m.Z,{span:24,children:(0,q.jsx)(p.Z.Item,{label:c("shop"),name:"shop_id",children:(0,q.jsx)(b.h,{fetchOptions:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={search:n,perPage:10,page:1};return""===n.trim()&&delete e.search,C.Z.getAll(e).then((function(n){var e;return null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.map((function(n){var e;return{label:null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title,value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))}))}})})})})})]}),(0,q.jsx)("br",{}),(0,q.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,q.jsx)("div",{className:"pb-5",children:(0,q.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:G,children:c("submit")})})})]})}}}]);