"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9213],{99213:(t,e,i)=>{i.r(e),i.d(e,{default:()=>x});var a=i(47313),n=i(97890),s=i(23560),c=i(83999),l=i(10976),o=i(77181),r=i(2717),d=i(90954),u=i(24511),v=i(73431),m=i(14241),p=i(65436),g=i(46417);const{Step:h}=c.Z,x=()=>{var t,e,i;const{t:x}=(0,u.$)(),{activeMenu:S}=(0,r.v9)((t=>t.menu),r.wU),_=(0,r.I0)(),[f]=l.Z.useForm(),k=(0,n.s0)(),[j,y]=(0,a.useState)(null!==(t=S.data)&&void 0!==t&&t.image?[null===(e=S.data)||void 0===e?void 0:e.image]:[]),[Z,w]=(0,a.useState)((null===(i=S.data)||void 0===i?void 0:i.step)||0),F=()=>{w(Z+1)},b=()=>{w(Z-1)},[q,z]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const t=f.getFieldsValue(!0);_((0,d.nc)({activeMenu:S,data:t}))}),[]);return(0,g.jsx)(o.Z,{title:x("add.recepe"),extra:(0,g.jsx)(v.Z,{}),children:(0,g.jsxs)(l.Z,{layout:"vertical",onFinish:t=>{var e,i;f.validateFields();const a={...t,total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===j||void 0===j?void 0:j.map((t=>t.name)),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((t=>({min_quantity:t.min_quantity,stock_id:t.stock_id.value}))),nutrition:null===(i=t.nutrition)||void 0===i?void 0:i.map((t=>({...t,percentage:t.percentage.toString(),weight:t.weight.toString()})))};z(!0);const n="seller/recept";m.Z.create(a).then((()=>{s.Am.success(x("successfully.created")),k("/".concat(n)),_((0,d.ph)({...S,nextUrl:n}))})).finally((()=>z(!1)))},form:f,initialValues:{active:!0,...S.data},children:[(0,g.jsx)(c.Z,{current:Z,children:p.S.map((t=>(0,g.jsx)(h,{title:x(t.title)},t.title)))}),p.S.map((t=>{const e=t.content;return(0,g.jsx)("div",{className:"steps-content ".concat(t.step!==Z+1&&"hidden"),children:(0,g.jsx)(e,{next:F,prev:b,loading:q,image:j,setImage:y})},t.title)}))]})})}}}]);