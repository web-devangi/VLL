"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8748],{75049:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(4942),a=t(10976),i=(t(47313),t(47168)),o=t(24511),s=t(2717),l=t(97421),u=t(46417);function c(e){var n=e.setLocation,t=e.form,c=e.item,d=e.idx,f=e.defaultLang,m=(0,o.$)().t,h=(0,s.v9)((function(e){return e.globalSettings.settings}),s.wU).google_map_key,v=(0,i.usePlacesWidget)({apiKey:h||l.kr,onPlaceSelected:function(e){var a={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};n(a),t.setFieldsValue((0,r.Z)({},"address[".concat(f,"]"),null===e||void 0===e?void 0:e.formatted_address))}}).ref;return(0,u.jsx)(a.Z.Item,{label:m("address"),name:"address[".concat(null===c||void 0===c?void 0:c.locale,"]"),rules:[{required:(null===c||void 0===c?void 0:c.locale)===f,message:m("required")}],hidden:(null===c||void 0===c?void 0:c.locale)!==f,children:(0,u.jsx)("input",{className:"address-input",ref:v,placeholder:""})},"address"+d)}},56814:function(e,n,t){var r=t(15861),a=t(87757),i=t.n(a),o=(t(47313),t(52838)),s=t(19107),l=t(97421),u=t(2717),c=t(10976),d=t(74294),f=t(23885),m=t(46417);n.Z=function(e){var n=e.value,t=e.setValue,a=e.setLocation,h=(0,o.Z)({apiKey:l.kr,libraries:["places","geocode"]}),v=h.placePredictions,p=h.getPlacePredictions,g=h.isPlacePredictionsLoading,Z=(0,u.v9)((function(e){return e.formLang}),u.wU),x=Z.defaultLang,y=Z.languages;return(0,m.jsx)("div",{children:y.map((function(e,o){return(0,m.jsx)(c.Z.Item,{label:(0,f.t)("address"),name:"address[".concat(e.locale,"]"),rules:[{required:e.locale===x,message:(0,f.t)("required")}],hidden:e.locale!==x,children:(0,m.jsx)(d.Z,{allowClear:!0,searchValue:n,showSearch:!0,autoClearSearchValue:!0,loading:g,options:null===v||void 0===v?void 0:v.map((function(e){return{label:e.description,value:e.description}})),onSearch:function(e){t(e),e.length>0&&p({input:e})},onSelect:function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)(n);case 2:t=e.sent,a({lat:null===t||void 0===t?void 0:t.geometry.location.lat,lng:null===t||void 0===t?void 0:t.geometry.location.lng});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})},"address"+o)}))})}},73431:function(e,n,t){var r=t(47313),a=t(39180),i=t(2717),o=t(28830),s=t(60535),l=t(46417);n.Z=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.formLang}),i.wU),t=n.languages,u=n.defaultLang;(0,r.useEffect)((function(){s.Z.getAllActive().then((function(n){var t=n.data;e((0,o.dc)(t)),e((0,o.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.ZP.Group,{value:u,onChange:function(n){var t=n.target.value;e((0,o.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,l.jsx)(a.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},97388:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(15861),a=t(29439),i=t(87757),o=t.n(i),s=t(47313),l=t(16609),u=t(97421),c=t.p+"static/media/pin.0e41858db80c699cd8a2.png",d=t(31881),f=t.n(d);function m(e){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(o().mark((function e(n){var t,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:u.kr,r={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",f().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var v=t(5958),p=t(23560),g=t(24511),Z=t(46417);var x=(0,l.GoogleApiWrapper)({apiKey:u.kr})((function(e){var n=(0,s.useState)(),t=(0,a.Z)(n,2),i=t[0],d=t[1],f=(0,g.$)().t,h=function(){var n=(0,r.Z)(o().mark((function n(t,r,a){var i,s,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.latLng,s={lat:i.lat(),lng:i.lng()},e.setLocation(s),n.next=5,m(s,u.kr);case 5:l=n.sent,e.setAddress(l);case 7:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)(o().mark((function n(t){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(r),n.next=4,m(r,u.kr);case 4:a=n.sent,e.setAddress(a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};d(n)}),(function(e){p.Am.warning(f("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){y()}),[]);for(var j=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],b=new e.google.maps.LatLngBounds,w=0;w<j.length;w++)b.extend(j[w]);return(0,Z.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,Z.jsx)("button",{className:"map-button",type:"button",onClick:function(){y(),i&&x(i)},children:(0,Z.jsx)(v.nDs,{})}),(0,Z.jsx)(l.Map,{cursor:"pointer",onClick:h,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,Z.jsx)(l.Marker,{position:e.location,icon:{url:c,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13622:function(e,n,t){t.d(n,{R:function(){return m}});var r=t(1413),a=t(29439),i=t(45987),o=t(47313),s=t(12279),l=t.n(s),u=t(74294),c=t(72652),d=t(46417),f=["fetchOptions","debounceTimeout","refetch"],m=function(e){var n=e.fetchOptions,t=e.debounceTimeout,s=void 0===t?400:t,m=e.refetch,h=void 0!==m&&m,v=(0,i.Z)(e,f),p=(0,o.useState)(!1),g=(0,a.Z)(p,2),Z=g[0],x=g[1],y=(0,o.useState)([]),j=(0,a.Z)(y,2),b=j[0],w=j[1],k=(0,o.useMemo)((function(){return l()((function(e){w([]),x(!0),n(e).then((function(e){w(e),x(!1)}))}),s)}),[n,s]);return(0,d.jsx)(u.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return k("")},filterOption:!1,onSearch:k,notFoundContent:Z?(0,d.jsx)(c.Z,{size:"small"}):"no results"},v),{},{options:b,onFocus:function(){b.length&&!h||k("")}}))}},21429:function(e,n,t){t.d(n,{P:function(){return i}});var r=t(70816),a=t.n(r),i=[{title:"monday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")}]},19107:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(15861),a=t(87757),i=t.n(a),o=t(31881),s=t.n(o),l=t(97421);function u(e){return c.apply(this,arguments)}function c(){return c=(0,r.Z)(i().mark((function e(n){var t,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:l.kr,r={address:n,key:t},e.abrupt("return",s().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){return e.data.results[0]})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},17649:function(e,n,t){t.d(n,{Z:function(){return r}});t(97421);function r(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},75336:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(93433),a=t(4942);function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",i=e.map((function(e){return(0,a.Z)({},e.locale,""===n["".concat(t,"[").concat(e.locale,"]")]?void 0:n["".concat(t,"[").concat(e.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(i)))}},6920:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie},steps:function(){return ae}});var r=t(29439),a=t(47313),i=t(83999),o=t(68197),s=t(59624),l=t(77181),u=t(87757),c=t.n(u),d=t(2717),f=t(90954),m=t(73431),h=t(5764),v=t(84964),p=t(13622),g=t(27453),Z=t(47139),x=t(79637),y=t(97388),j=(t(75049),t(27443)),b=t(17649),w=t(46417),k=t(23885),H=t(51282),S=t(70816),N=t.n(S),F=t(34344),I={getById:function(e){return F.Z.get("dashboard/admin/warehouse-working-days/".concat(e))},create:function(e){return F.Z.post("dashboard/admin/warehouse-working-days",e,{})},update:function(e,n){return F.Z.put("dashboard/admin/warehouse-working-days/".concat(e),n,{})},delete:function(e){return F.Z.delete("dashboard/admin/warehouse-working-days",{params:e})}},C={getById:function(e){return F.Z.get("dashboard/admin/warehouse-closed-dates/".concat(e))},create:function(e){return F.Z.post("dashboard/admin/warehouse-closed-dates",e,{})},update:function(e,n){return F.Z.put("dashboard/admin/warehouse-closed-dates/".concat(e),n,{})},delete:function(e){return F.Z.delete("dashboard/admin/warehouse-closed-dates/delete",{params:e})}},L=t(21429),P=t(10976),q=t(93433),_=t(66204),M=t(45705),D=t(59491),B=t(25050),O=t(86345),V=t(24511),Y=t(58821),z=t(43681),R=t(11829),T=t(65919),A=function(e){var n=e.onFinish,t=e.prev,i=e.form,u=e.lines,c=e.loadingBtn,d=e.days,f=e.setDays,m=e.setLines,h=e.weeks,v=(0,V.$)().t,p=[{from:new Date(1900,4,18),to:new Date(N()().subtract(1,"days"))}],g=(0,a.useState)(!0),Z=(0,r.Z)(g,2),x=Z[0],y=Z[1],j=d&&d.length>0?(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(_.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:v("Your.existing.vacations")}),(0,w.jsxs)(s.Z,{span:24,className:"mt-2",children:[d.slice(0,x?1:d.length).map((function(e,n){return(0,w.jsxs)(M.Z,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,w.jsx)(s.Z,{span:24,style:{fontSize:14,marginTop:"8px"},children:N()(e).format("YYYY-MM-DD")}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(_.Z,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:function(){return n=e,f(d.filter((function(e){return e!==n})));var n},children:v("remove")})})]},n)})),(0,w.jsx)(D.Z,{className:"mt-3 w-100",onClick:function(){y(!x)},children:x?(0,w.jsx)(Y.ahe,{}):(0,w.jsx)(Y.dMq,{})})]})]}):(0,w.jsx)(_.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),b=function(e,n){for(var t=[],r=e;r<n;r++)t.push(r);return t},k=function(){return{disabledHours:function(){return b(0,1)},disabledMinutes:function(){return b(0,0)},disabledSeconds:function(){return b(0,60)}}};return(0,w.jsx)(P.Z,{form:i,layout:"vertical",onFinish:n,children:(0,w.jsxs)(o.Z,{gutter:[24,24],children:[(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(l.Z,{title:v("warehouse.working.days"),className:"h-100",children:(0,w.jsx)(o.Z,{gutter:24,children:(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(P.Z.List,{name:"working_days",children:function(e){return(0,w.jsx)("div",{children:e.map((function(e,n){return(0,w.jsxs)(o.Z,{gutter:24,align:"center",children:[(0,w.jsx)(s.Z,{span:7,children:(0,w.jsx)(P.Z.Item,{name:[n,"day"],children:(0,w.jsx)("span",{children:v(h[n].title)})})}),u[e.key]?(0,w.jsx)(s.Z,{span:13,className:"mt-2",children:(0,w.jsx)("span",{children:v("warehouse.closed")})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Z,{span:7,children:(0,w.jsx)(P.Z.Item,{rules:[{required:!1===u[e.key]}],name:[n,"from"],children:(0,w.jsx)(B.Z,{disabledTime:k,picker:"time",placeholder:v("start.time")})})}),(0,w.jsx)(s.Z,{span:6,children:(0,w.jsx)(P.Z.Item,{rules:[{required:!1===u[e.key]}],name:[n,"to"],children:(0,w.jsx)(B.Z,{disabledTime:k,picker:"time",placeholder:v("end.time")})})})]}),(0,w.jsx)(s.Z,{span:4,children:(0,w.jsx)(P.Z.Item,{name:[n,"disabled"],valuePropName:"checked",children:(0,w.jsx)(O.Z,{checkedChildren:(0,w.jsx)(z.Z,{}),unCheckedChildren:(0,w.jsx)(R.Z,{}),checked:u[e.key],onChange:function(){return function(e){var n=(0,q.Z)(u);n[e]=!u[e],m(n)}(e.key)}})})})]},e.key)}))})}})})})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsxs)(l.Z,{title:v("warehouse.closed.days"),className:"h-100",children:[(0,w.jsx)("p",{children:v("warehouse.closed.days.text")}),(0,w.jsx)(P.Z.Item,{rules:[{required:!1,message:v("required")}],children:(0,w.jsx)(T._W,{className:"datepicker",mode:"multiple",disabled:p,min:1,selected:d,onSelect:f,footer:j,showOutsideDays:!0})})]})}),(0,w.jsxs)(s.Z,{span:24,className:"d-flex justify-content-between",children:[(0,w.jsx)(D.Z,{htmlType:"submit",onClick:function(){return t()},children:v("prev")}),(0,w.jsx)(D.Z,{type:"primary",htmlType:"submit",loading:c,children:v("submit")})]})]})})},U=t(97890),W=(t(36701),function(e){var n=e.prev,t=P.Z.useForm(),i=(0,r.Z)(t,1)[0],o=(0,U.s0)(),s=((0,d.I0)(),(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu),l=(0,a.useState)([]),u=(0,r.Z)(l,2),c=u[0],f=u[1],m=(0,a.useState)(new Array(7).fill(!1)),h=(0,r.Z)(m,2),v=h[0],p=h[1],g=(0,a.useState)(!1),Z=(0,r.Z)(g,2),x=Z[0],y=Z[1],j=(0,a.useState)(!1),b=(0,r.Z)(j,2),k=b[0],S=b[1],F=(0,a.useMemo)((function(){var e;return null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.id}),[null===s||void 0===s?void 0:s.data]);return(0,a.useEffect)((function(){i.setFieldsValue({working_days:L.P}),F&&(S(!0),C.getById(F).then((function(e){f(e.data.closed_dates.filter((function(e){return e.day>N()(new Date).format("YYYY-MM-DD")})).map((function(e){return new Date(e.day)})))})),I.getById(F).then((function(e){p(0!==e.data.dates.length?e.data.dates.map((function(e){return e.disabled})):[]),0!==e.data.dates.length&&i.setFieldsValue({working_days:e.data.dates.map((function(e){return{title:e.day,from:N()(e.from,"HH:mm:ss"),to:N()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)}}))})})).finally((function(){return S(!1)})))}),[]),(0,w.jsx)(w.Fragment,{children:k?(0,w.jsx)(H.Z,{}):(0,w.jsx)(A,{onFinish:function(e){y(!0);var n={warehouse_id:F,dates:c?c.map((function(e){return N()(e).format("YYYY-MM-DD")})):void 0},t={warehouse_id:F,dates:e.working_days.map((function(e){return{day:e.title,from:N()(e.from?e.from:"00").format("HH:mm"),to:N()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled}}))};0!==e.working_days.length&&I.update(F,t).then((function(){})).finally((function(){return y(!1)})),C.update(F,n).then((function(){o("/".concat("warehouse"))})).finally((function(){return y(!1)}))},prev:n,form:i,lines:v,loadingBtn:x,days:c,setDays:f,setLines:p,weeks:L.P})})}),E=t(15861),$=t(1413),K=t(45987),G=t(4942),J=t(55291),Q=t(66672),X=t(75336),ee=t(56814),ne=["city","country","region","area","location","address","img","translation","id"],te=function(e){var n=e.next,t=(0,V.$)().t,i=(0,d.I0)(),u=P.Z.useForm(),k=(0,r.Z)(u,1)[0],H=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,S=(0,d.v9)((function(e){return e.globalSettings}),d.wU).settings,N=(0,a.useState)([]),F=(0,r.Z)(N,2),I=F[0],C=F[1],L=(0,a.useState)(null),_=(0,r.Z)(L,2),M=_[0],B=_[1],Y=(0,a.useState)([]),z=(0,r.Z)(Y,2),R=z[0],T=z[1],A=(0,a.useState)((0,b.Z)(S)),U=(0,r.Z)(A,2),W=U[0],te=U[1],re=(0,a.useState)(""),ae=(0,r.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,a.useState)(!1),le=(0,r.Z)(se,2),ue=le[0],ce=le[1],de=(0,a.useState)({}),fe=(0,r.Z)(de,2),me=fe[0],he=fe[1],ve=me.country,pe=me.region,ge=me.city,Ze=(0,d.v9)((function(e){return e.formLang}),d.wU),xe=Ze.languages,ye=Ze.defaultLang;var je=function(){T(!0),v.Z.get().then((function(e){var n,t,r,a,i,o=e.data,s=(null===o||void 0===o?void 0:o[0])||{},l=s.city,u=s.country,c=s.region,d=s.area,f=s.location,m=s.address,h=s.img,v=s.translation,p=s.id,g=(0,K.Z)(s,ne),Z="address[".concat(ye,"]"),x="title[".concat(ye,"]"),y={area:{label:null===d||void 0===d||null===(n=d.translation)||void 0===n?void 0:n.title,value:null===d||void 0===d?void 0:d.id},city:{label:null===l||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title,value:null===l||void 0===l?void 0:l.id},country:{label:null===u||void 0===u||null===(r=u.translation)||void 0===r?void 0:r.title,value:null===u||void 0===u?void 0:u.id},region:{label:null===c||void 0===c||null===(a=c.translation)||void 0===a?void 0:a.title,value:null===c||void 0===c?void 0:c.id}},j=(0,$.Z)((0,$.Z)((0,$.Z)((0,$.Z)({},function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=xe.map((function(e){var t,r,a;return a={},(0,G.Z)(a,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,G.Z)(a,"address[".concat(e.locale,"]"),null===(r=n.find((function(n){return n.locale===e.locale})))||void 0===r?void 0:r.address),a}));return Object.assign.apply(Object,[{}].concat((0,q.Z)(t)))}(null===o||void 0===o?void 0:o[0])),y),g),{},(i={},(0,G.Z)(i,Z,null===m||void 0===m?void 0:m[ye]),(0,G.Z)(i,x,null===v||void 0===v?void 0:v.title),i));B(p),k.setFieldsValue(j),he(y),f&&te({lat:null===f||void 0===f?void 0:f.latitude,lng:null===f||void 0===f?void 0:f.longitude}),h&&C([{name:h}])})).catch((function(e){console.error(e)})).finally((function(){return T(!1)}))};(0,a.useEffect)((function(){je()}),[]);function be(){return(be=(0,E.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:1,perPage:10},e.abrupt("return",g.Z.get(t).then((function(e){return e.data.map((function(e){return{label:e.translation.title||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=(0,E.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:1,perPage:10,region_id:null===pe||void 0===pe?void 0:pe.value},e.abrupt("return",Z.Z.get(t).then((function(e){return e.data.map((function(e){return{label:e.translation.title||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=(0,E.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:1,perPage:10,country_id:null===ve||void 0===ve?void 0:ve.value},e.abrupt("return",x.Z.get(t).then((function(e){return e.data.map((function(e){return{label:e.translation.title||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=(0,E.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:1,perPage:10,city_id:null===ge||void 0===ge?void 0:ge.value},e.abrupt("return",j.Z.get(t).then((function(e){return e.data.map((function(e){return{label:e.translation.title||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsxs)(P.Z,{name:"add.delivery.point",layout:"vertical",onFinish:function(e){ce(!0);var r=e.area,a=e.city,o=e.country,s=e.region,l=e.active,u={location:{latitude:null===W||void 0===W?void 0:W.lat,longitude:null===W||void 0===W?void 0:W.lng},active:l?1:0,area_id:null===r||void 0===r?void 0:r.value,city_id:null===a||void 0===a?void 0:a.value,country_id:null===o||void 0===o?void 0:o.value,region_id:null===s||void 0===s?void 0:s.value,images:I.map((function(e){return e.name})),title:(0,X.Z)(xe,e,"title"),address:(0,X.Z)(xe,e,"address")};M?function(e,r){v.Z.update(e,r).then((function(){J.ZP.success(t("successfully"));var r=k.getFieldsValue(!0);i((0,f.nc)({activeMenu:H,data:(0,$.Z)((0,$.Z)({},r),{},{id:e})})),n()})).finally((function(){return ce(!1)}))}(M,u):function(e){v.Z.create(e).then((function(e){var r=e.data;J.ZP.success(t("successfully.created"));var a=k.getFieldsValue(!0);i((0,f.nc)({activeMenu:H,data:(0,$.Z)((0,$.Z)({},a),{},{id:r.id})})),n()})).finally((function(){return ce(!1)}))}(u)},form:k,initialValues:(0,$.Z)({clickable:!0},H.data),children:[(0,w.jsxs)(o.Z,{gutter:[24,24],children:[(0,w.jsx)(s.Z,{span:12,children:(0,w.jsxs)(l.Z,{title:t("deliveryzone"),className:"h-100",loading:R,children:[(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(P.Z.Item,{label:t("region"),name:"region",rules:[{required:!0,message:t("required")}],children:(0,w.jsx)(p.R,{fetchOptions:function(e){return be.apply(this,arguments)},dropdownRender:function(e){return(0,w.jsx)(w.Fragment,{children:e})},refetch:!0,onChange:function(e){he((function(n){return(0,$.Z)((0,$.Z)({},n),{},{region:e})})),k.resetFields(["city","area","country"])}})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(P.Z.Item,{label:t("country"),name:"country",rules:[{required:!0,message:t("required")}],children:(0,w.jsx)(p.R,{fetchOptions:function(e){return we.apply(this,arguments)},dropdownRender:function(e){return(0,w.jsx)(w.Fragment,{children:e})},refetch:!0,onChange:function(e){he((function(n){return(0,$.Z)((0,$.Z)({},n),{},{country:e})})),k.resetFields(["city","area"])},disabled:!Boolean(null===pe||void 0===pe?void 0:pe.value)})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(P.Z.Item,{label:t("city"),name:"city",rules:[{required:!1,message:t("required")}],children:(0,w.jsx)(p.R,{fetchOptions:function(e){return ke.apply(this,arguments)},dropdownRender:function(e){return(0,w.jsx)(w.Fragment,{children:e})},refetch:!0,disabled:!Boolean(null===ve||void 0===ve?void 0:ve.value),onChange:function(e){he((function(n){return(0,$.Z)((0,$.Z)({},n),{},{city:e})})),k.resetFields(["area"])}})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(P.Z.Item,{label:t("area"),name:"area",rules:[{required:!1,message:t("required")}],children:(0,w.jsx)(p.R,{fetchOptions:function(e){return He.apply(this,arguments)},dropdownRender:function(e){return(0,w.jsx)(w.Fragment,{children:e})},refetch:!0,disabled:!Boolean(null===ge||void 0===ge?void 0:ge.value)})})})]})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(l.Z,{title:t("media"),className:"h-100",loading:R,children:(0,w.jsx)(s.Z,{span:24,children:(0,w.jsxs)(o.Z,{gutter:24,children:[(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(P.Z.Item,{rules:[{required:!1,message:t("required")}],label:t("image"),name:"images",children:(0,w.jsx)(h.Z,{type:"products",imageList:I,setImageList:C,form:k,length:"1",multiple:!1})})}),(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(P.Z.Item,{label:t("active"),name:"active",valuePropName:"checked",children:(0,w.jsx)(O.Z,{})})})]})})})}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(l.Z,{title:t("address"),loading:R,extra:(0,w.jsx)(m.Z,{}),children:(0,w.jsxs)(o.Z,{gutter:12,children:[(0,w.jsx)(s.Z,{span:12,children:(0,w.jsx)(ee.Z,{setLocation:te,value:ie,setValue:oe})}),(0,w.jsx)(s.Z,{span:12,children:xe.map((function(e,n){return(0,w.jsx)(P.Z.Item,{label:t("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===ye,message:t("required")}],hidden:e.locale!==ye,children:(0,w.jsx)(Q.Z,{})},"title"+n)}))}),(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(y.Z,{location:W,setLocation:te,setAddress:function(e){return k.setFieldsValue((0,G.Z)({},"address[".concat(ye,"]"),e))}})})]})})})]}),(0,w.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,w.jsx)("div",{className:"pb-5",children:(0,w.jsx)(D.Z,{type:"primary",htmlType:"submit",loading:ue,children:t("submit")})})})]})},re=i.Z.Step,ae=[{title:"warehouse",content:"Warehouse"},{title:"working days",content:"Working days"}],ie=function(){var e,n,t=(0,a.useState)(0),u=(0,r.Z)(t,2),c=u[0],d=u[1],f=((0,U.UO)().id,function(){d(c+1)});return(0,w.jsxs)(o.Z,{gutter:[24,24],children:[(0,w.jsx)(s.Z,{span:24,children:(0,w.jsx)(l.Z,{className:"mb-0",children:(0,w.jsx)(i.Z,{current:c,children:ae.map((function(e){return(0,w.jsx)(re,{title:(0,k.t)(e.title)},e.title)}))})})}),(0,w.jsxs)(s.Z,{span:24,children:["Warehouse"===(null===(e=ae[c])||void 0===e?void 0:e.content)&&(0,w.jsx)(te,{next:f}),"Working days"===(null===(n=ae[c])||void 0===n?void 0:n.content)&&(0,w.jsx)(W,{next:f,prev:function(){d(c-1)}})]})]})}}}]);