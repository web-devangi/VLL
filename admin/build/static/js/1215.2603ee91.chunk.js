"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1215],{53233:function(e,n,t){var l=t(1413),i=t(29439),a=t(47313),o=t(56140),r=t(67251),s=t(45705),d=t(86345),c=t(78267),u=t(37388),h=t(59491),v=t(99587),m=t(24511),p=t(46417),f=o.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,o=e.setColumns,Z=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,b=(0,m.$)().t,I=(0,a.useState)(!1),w=(0,i.Z)(I,2),y=w[0],C=w[1],z=(0,p.jsx)(r.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(r.Z.Item,{children:(0,p.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(f,{children:e.title}),(0,p.jsx)(d.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));o(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(c.Z,{overlay:z,trigger:["click"],onVisibleChange:function(e){C(e)},visible:y,children:(0,p.jsx)(u.Z,{title:b("change.columns"),children:(0,p.jsx)(h.Z,{style:(0,l.Z)({},Z),size:g,icon:(0,p.jsx)(v.Z,{}),children:j?null:b("Columns")})})})}},4014:function(e,n,t){function l(e){var n,t,l=null===e||void 0===e?void 0:e.slice(0,1),i=null===e||void 0===e?void 0:e.lastIndexOf("@"),a=null===e||void 0===e?void 0:e.slice(1,i-1);a=null===(n=a)||void 0===n?void 0:n.replace(/./g,"*");var o=null===e||void 0===e?void 0:e.slice(i-1,e.length);return null===l||void 0===l||null===(t=l.concat(a))||void 0===t?void 0:t.concat(o)}t.d(n,{Z:function(){return l}})},13945:function(e,n,t){function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return l}})},84017:function(e,n,t){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(l," ").concat(n):"".concat(n," ").concat(l)}t.d(n,{Z:function(){return l}})},41215:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var l=t(1413),i=t(29439),a=t(47313),o=t(31741),r=t(73591),s=t(45705),d=t(59491),c=t(77181),u=t(78508),h=t(2717),v=t(84304),m=t(13945),p=t(90954),f=t(80314),Z=t(9274),x=t(68197),g=t(59624),j=t(83371),b=t(26824),I=t(58328),w=t(24511),y=t(51282),C=t(84017),z=t(85711),_=t(46417);function V(e){var n,t,l,o=e.uuid,r=e.handleCancel,s=(0,a.useState)({}),c=(0,i.Z)(s,2),u=c[0],v=c[1],m=(0,a.useState)(!1),p=(0,i.Z)(m,2),f=p[0],V=p[1],k=(0,w.$)().t,H=(0,h.v9)((function(e){return e.currency}),h.wU).defaultCurrency;return(0,a.useEffect)((function(){!function(e){V(!0),I.Z.getById(e).then((function(e){return v(e.data)})).finally((function(){return V(!1)}))}(o)}),[o]),(0,_.jsx)(Z.Z,{visible:!!o,title:k("user"),onCancel:r,footer:[(0,_.jsx)(d.Z,{type:"default",onClick:r,children:k("cancel")})],className:u.shop?"large-modal":"",children:f?(0,_.jsx)(y.Z,{}):(0,_.jsxs)(x.Z,{gutter:24,children:[(0,_.jsx)(g.Z,{span:u.shop?12:24,children:(0,_.jsxs)(j.Z,{bordered:!0,children:[(0,_.jsx)(j.Z.Item,{span:3,label:k("avatar"),children:(0,_.jsx)(b.Z,{src:(0,z.Z)(u.img),alt:u.firstname,width:80,className:"rounded"})}),(0,_.jsx)(j.Z.Item,{span:3,label:k("user.id"),children:u.id}),(0,_.jsxs)(j.Z.Item,{span:3,label:k("name"),children:[u.firstname," ",u.lastname||""]}),(0,_.jsx)(j.Z.Item,{span:3,label:k("gender"),children:u.gender}),(0,_.jsx)(j.Z.Item,{span:3,label:k("birthday"),children:u.birthday}),(0,_.jsx)(j.Z.Item,{span:3,label:k("email"),children:u.email}),(0,_.jsx)(j.Z.Item,{span:3,label:k("phone"),children:u.phone}),(0,_.jsx)(j.Z.Item,{span:3,label:k("role"),children:u.role}),(0,_.jsx)(j.Z.Item,{span:3,label:k("wallet"),children:(0,C.Z)(null===(n=u.wallet)||void 0===n?void 0:n.price,null===H||void 0===H?void 0:H.symbol)})]})}),u.shop?(0,_.jsx)(g.Z,{span:12,children:(0,_.jsxs)(j.Z,{bordered:!0,children:[(0,_.jsx)(j.Z.Item,{span:3,label:k("shop.id"),children:u.shop.id}),(0,_.jsx)(j.Z.Item,{span:3,label:k("shop.name"),children:null===(t=u.shop.translation)||void 0===t?void 0:t.title}),(0,_.jsx)(j.Z.Item,{span:3,label:k("shop.logo"),children:(0,_.jsx)("img",{src:(0,z.Z)(u.shop.logo_img),alt:null===(l=u.shop.translation)||void 0===l?void 0:l.title,width:100,className:"rounded"})}),(0,_.jsx)(j.Z.Item,{span:3,label:k("shop.phone"),children:u.shop.phone}),(0,_.jsxs)(j.Z.Item,{span:3,label:k("shop.open_close.time"),children:[u.shop.open_time," - ",u.shop.close_time]}),(0,_.jsx)(j.Z.Item,{span:3,label:k("delivery.range"),children:u.shop.delivery_range})]})}):""]})})}var k=t(53233),H=t(4014),S=r.Z.TabPane,P=["moderator","cook","waiter","deliveryman","user"];function N(){var e,n=(0,w.$)().t,t=(0,h.I0)(),Z=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,x=(0,h.v9)((function(e){return e.user}),h.wU),g=x.users,j=x.loading,b=x.meta,I=x.params,y=(0,a.useState)(null),C=(0,i.Z)(y,2),z=C[0],N=C[1],M=(0,a.useState)([{title:n("id"),dataIndex:"id",sorter:!0,is_show:!0},{title:n("firstname"),dataIndex:"firstname",is_show:!0},{title:n("lastname"),dataIndex:"lastname",is_show:!0},{title:n("email"),dataIndex:"email",is_show:!0,render:function(e){return e?(0,H.Z)(e):n("no.email")}},{title:n("role"),dataIndex:"role",is_show:!0},{title:n("options"),dataIndex:"options",is_show:!0,render:function(e,n){return(0,_.jsx)(s.Z,{children:(0,_.jsx)(d.Z,{icon:(0,_.jsx)(o.Z,{}),onClick:function(){return N(n.uuid)}})})}}]),$=(0,i.Z)(M,2),E=$[0],O=$[1];(0,a.useEffect)((function(){if(Z.refetch){var e=Z.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,v.pc)(n)),t((0,p.A_)(Z))}}),[Z.refetch]),(0,f.Z)((function(){var e=Z.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,v.pc)(n))}),[Z.data]);return(0,_.jsxs)(c.Z,{title:n("shop.users"),extra:(0,_.jsx)(k.Z,{columns:E,setColumns:O}),children:[(0,_.jsx)(r.Z,{activeKey:(null===(e=Z.data)||void 0===e?void 0:e.role)||"moderator",onChange:function(e){t((0,p.nc)({activeMenu:Z,data:(0,l.Z)((0,l.Z)({},Z.data),{},{role:e})}))},type:"card",children:P.map((function(e){return(0,_.jsx)(S,{tab:n(e)},e)}))}),(0,_.jsx)(u.Z,{scroll:{x:!0},columns:null===E||void 0===E?void 0:E.filter((function(e){return e.is_show})),dataSource:g,loading:j,pagination:{pageSize:I.perPage,page:I.page,total:b.total,defaultCurrent:I.page},rowKey:function(e){return e.id},onChange:function(e,n,i){var a=e.pageSize,o=e.current,r=i.field,s=i.order,d=(0,m.Z)(s);t((0,p.nc)({activeMenu:Z,data:(0,l.Z)((0,l.Z)({},Z.data),{},{perPage:a,page:o,column:r,sort:d})}))}}),z&&(0,_.jsx)(V,{uuid:z,handleCancel:function(){return N(null)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return s}});var l=t(1413),i=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},o=t(17469),r=function(e,n){return i.createElement(o.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:a}))};r.displayName="TableOutlined";var s=i.forwardRef(r)}}]);