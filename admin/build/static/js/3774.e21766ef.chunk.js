"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3774],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var l=t(1413),i=t(45987),o=(t(47313),t(59491)),a=t(47515),r=t(23560),u=t(24511),d=t(79492),c=t(46417),s=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,h=void 0===f?"default":f,p=(0,i.Z)(e,s),m=(0,u.$)().t,g=(0,d.Z)().isDemo;return(0,c.jsx)(o.Z,(0,l.Z)({size:t,icon:(0,c.jsx)(a.Z,{}),onClick:function(e){g?r.Am.warning(m("cannot.work.demo")):v(e)},type:h},p))}},53233:function(e,n,t){var l=t(1413),i=t(29439),o=t(47313),a=t(56140),r=t(67251),u=t(45705),d=t(86345),c=t(78267),s=t(37388),v=t(59491),f=t(99587),h=t(24511),p=t(46417),m=a.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,a=e.setColumns,g=e.style,y=e.size,Z=void 0===y?"":y,x=e.iconOnly,b=(0,h.$)().t,j=(0,o.useState)(!1),w=(0,i.Z)(j,2),C=w[0],k=w[1],_=(0,p.jsx)(r.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(r.Z.Item,{children:(0,p.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(m,{children:e.title}),(0,p.jsx)(d.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));a(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(c.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:C,children:(0,p.jsx)(s.Z,{title:b("change.columns"),children:(0,p.jsx)(v.Z,{style:(0,l.Z)({},g),size:Z,icon:(0,p.jsx)(f.Z,{}),children:x?null:b("Columns")})})})}},97388:function(e,n,t){t.d(n,{Z:function(){return Z}});var l=t(15861),i=t(29439),o=t(87757),a=t.n(o),r=t(47313),u=t(16609),d=t(97421),c=t.p+"static/media/pin.0e41858db80c699cd8a2.png",s=t(31881),v=t.n(s);function f(e){return h.apply(this,arguments)}function h(){return h=(0,l.Z)(a().mark((function e(n){var t,l,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:d.kr,l={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",v().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var p=t(5958),m=t(23560),g=t(24511),y=t(46417);var Z=(0,u.GoogleApiWrapper)({apiKey:d.kr})((function(e){var n=(0,r.useState)(),t=(0,i.Z)(n,2),o=t[0],s=t[1],v=(0,g.$)().t,h=function(){var n=(0,l.Z)(a().mark((function n(t,l,i){var o,r,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.latLng,r={lat:o.lat(),lng:o.lng()},e.setLocation(r),n.next=5,f(r,d.kr);case 5:u=n.sent,e.setAddress(u);case 7:case"end":return n.stop()}}),n)})));return function(e,t,l){return n.apply(this,arguments)}}(),Z=function(){var n=(0,l.Z)(a().mark((function n(t){var l,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(l),n.next=4,f(l,d.kr);case 4:i=n.sent,e.setAddress(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var e=(0,l.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};s(n)}),(function(e){m.Am.warning(v("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){x()}),[]);for(var b=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],j=new e.google.maps.LatLngBounds,w=0;w<b.length;w++)j.extend(b[w]);return(0,y.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,y.jsx)("button",{className:"map-button",type:"button",onClick:function(){x(),o&&Z(o)},children:(0,y.jsx)(p.nDs,{})}),(0,y.jsx)(u.Map,{cursor:"pointer",onClick:h,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,y.jsx)(u.Marker,{position:e.location,icon:{url:c,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},41481:function(e,n,t){t.d(n,{Z:function(){return v}});var l=t(1413),i=t(29439),o=t(45987),a=t(47313),r=t(66672),u=t(16031),d=t(40765),c=t(46417),s=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,f=(0,o.Z)(e,s),h=(0,a.useState)(t),p=(0,i.Z)(h,2),m=p[0],g=p[1],y=(0,a.useMemo)((function(){return(0,u.debounce)((function(e){n(e)}),800)}),[]);return(0,a.useEffect)((function(){g(t)}),[v]),(0,c.jsx)(r.Z,(0,l.Z)({value:m,onChange:function(e){g(e.target.value),y(e.target.value)},prefix:(0,c.jsx)(d.Z,{})},f))}},89281:function(e,n,t){t.d(n,{h:function(){return f}});var l=t(1413),i=t(29439),o=t(45987),a=t(47313),r=t(12279),u=t.n(r),d=t(74294),c=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","onClear","refetchOptions"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,r=void 0===t?400:t,f=e.onClear,h=e.refetchOptions,p=void 0!==h&&h,m=(0,o.Z)(e,v),g=(0,a.useState)(!1),y=(0,i.Z)(g,2),Z=y[0],x=y[1],b=(0,a.useState)([]),j=(0,i.Z)(b,2),w=j[0],C=j[1],k=(0,a.useMemo)((function(){return u()((function(e){C([]),x(!0),n(e).then((function(e){C(e),x(!1)}))}),r)}),[n,r]);return(0,s.jsx)(d.Z,(0,l.Z)((0,l.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:k,onClear:function(){k(""),f&&f()},notFoundContent:Z?(0,s.jsx)(c.Z,{size:"small"}):"no results"},m),{},{options:w,onFocus:function(){w.length&&!p||k("")}}))}},13945:function(e,n,t){function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return l}})},17649:function(e,n,t){t.d(n,{Z:function(){return l}});t(97421);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,t){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(l," ").concat(n):"".concat(n," ").concat(l)}t.d(n,{Z:function(){return l}})},50756:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var l=t(4942),i=t(93433),o=t(1413),a=t(29439),r=t(55768),u=t(12019),d=t(47515),c=t(55613),s=t(59491),v=t(45705),f=t(77181),h=t(74294),p=t(78508),m=t(47313),g=t(24511),y=t(2717),Z=t(97890),x=t(23560),b=t(55940),j=t(53233),w=t(74580),C=t(81566),k=t(90954),_=t(45321),S=t(69658),V=t(84017),I=t(5958),E=t(84697),z=t(9274),P=t(97421),H=t(18478),M=(t(84618),t(17649)),O=t(46417),N=function(){return(0,O.jsx)("img",{src:H,width:"50",alt:"Pin",style:{position:"absolute",transform:"translate(-50%, -100%)"}})},F=function(e){var n,t,l,i,o=e.id,a=e.handleCancel,r=(0,g.$)().t,u=(0,y.v9)((function(e){return e.globalSettings}),y.wU).settings,d=(0,M.Z)(u),c={lat:null===o||void 0===o||null===(n=o.delivery_man_setting)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===o||void 0===o||null===(l=o.delivery_man_setting)||void 0===l||null===(i=l.location)||void 0===i?void 0:i.longitude},v=(0,y.v9)((function(e){return e.globalSettings.settings}),y.wU).google_map_key;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(z.Z,{visible:!!o,title:r("show.locations"),style:{minWidth:"80vw"},onCancel:a,footer:[(0,O.jsx)(s.Z,{type:"default",onClick:a,children:r("cancel")},"cancelBtn")],children:(0,O.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,O.jsx)(E.ZP,{bootstrapURLKeys:{key:void 0===v?P.kr:v},defaultZoom:10,center:d,options:{fullscreenControl:!1},children:null!==(null===o||void 0===o?void 0:o.delivery_man_setting)?(0,O.jsx)(N,{lat:null===c||void 0===c?void 0:c.lat,lng:null===c||void 0===c?void 0:c.lng}):null})})})})},L=t(10976),D=t(68197),R=t(59624),B=t(66672),q=t(86345),T=t(51282),K=t(5764),W=t(97388),A=t(89281),$=t(47139),U=t(79637),G=t(27453),X=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],Y=function(e){var n=e.data,t=e.handleCancel,l=(0,g.$)().t,i=L.Z.useForm(),r=(0,a.Z)(i,1)[0],u=(0,y.I0)(),d=(0,m.useState)(!1),c=(0,a.Z)(d,2),f=c[0],p=c[1],Z=(0,m.useState)(!1),x=(0,a.Z)(Z,2),b=x[0],j=x[1],w=(0,m.useState)([]),k=(0,a.Z)(w,2),S=k[0],V=k[1],I=(0,y.v9)((function(e){return e.globalSettings}),y.wU).settings,E=(0,m.useState)((0,M.Z)(I)),P=(0,a.Z)(E,2),H=P[0],N=P[1],F=(0,m.useState)({region:null,country:null,city:null}),Y=(0,a.Z)(F,2),J=Y[0],Q=Y[1],ee=function(e){return e.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))};return(0,m.useEffect)((function(){var e;n.settingsId&&(e=n.settingsId,j(!0),_.Z.getById(e).then((function(e){var n,t,l,i,a,u,d,c,s,v,f,h,p,m,g,y,Z,x,b,j,w,C,k,_,S,I,E,z,P,H,M,O,F,L,D,R,B,q,T,K,W,A,$,U,G,X,Y,J,ne,te,le,ie,oe,ae,re,ue,de,ce,se,ve,fe,he,pe,me=(0,o.Z)((0,o.Z)({},e.data),{},{user_id:{label:(null===(n=e.data)||void 0===n||null===(t=n.deliveryman)||void 0===t?void 0:t.firstname)+" "+(null===(l=e.data)||void 0===l||null===(i=l.deliveryman)||void 0===i?void 0:i.firstname),value:null===(a=e.data)||void 0===a||null===(u=a.deliveryman)||void 0===u?void 0:u.id,images:ee(null===(d=e.data)||void 0===d?void 0:d.galleries),location:{lat:null===(c=e.data)||void 0===c||null===(s=c.location)||void 0===s?void 0:s.latitude,lng:null===(v=e.data)||void 0===v||null===(f=v.location)||void 0===f?void 0:f.longitude}},region:null!==(h=e.data)&&void 0!==h&&h.region?{label:null===(p=e.data)||void 0===p||null===(m=p.region)||void 0===m||null===(g=m.translation)||void 0===g?void 0:g.title,value:null===(y=e.data)||void 0===y||null===(Z=y.region)||void 0===Z?void 0:Z.id,key:null===(x=e.data)||void 0===x||null===(b=x.region)||void 0===b?void 0:b.id}:null,country:null!==(j=e.data)&&void 0!==j&&j.country?{label:null===(w=e.data)||void 0===w||null===(C=w.country)||void 0===C||null===(k=C.translation)||void 0===k?void 0:k.title,value:null===(_=e.data)||void 0===_||null===(S=_.country)||void 0===S?void 0:S.id,key:null===(I=e.data)||void 0===I||null===(E=I.country)||void 0===E?void 0:E.id}:null,city:null!==(z=e.data)&&void 0!==z&&z.city?{label:null===(P=e.data)||void 0===P||null===(H=P.city)||void 0===H||null===(M=H.translation)||void 0===M?void 0:M.title,value:null===(O=e.data)||void 0===O||null===(F=O.city)||void 0===F?void 0:F.id,key:null===(L=e.data)||void 0===L||null===(D=L.city)||void 0===D?void 0:D.id}:null});Q({region:null!==(R=e.data)&&void 0!==R&&R.region?{label:null===(B=e.data)||void 0===B||null===(q=B.region)||void 0===q||null===(T=q.translation)||void 0===T?void 0:T.title,value:null===(K=e.data)||void 0===K||null===(W=K.region)||void 0===W?void 0:W.id,key:null===(A=e.data)||void 0===A||null===($=A.region)||void 0===$?void 0:$.id}:null,country:null!==(U=e.data)&&void 0!==U&&U.country?{label:null===(G=e.data)||void 0===G||null===(X=G.country)||void 0===X||null===(Y=X.translation)||void 0===Y?void 0:Y.title,value:null===(J=e.data)||void 0===J||null===(ne=J.country)||void 0===ne?void 0:ne.id,key:null===(te=e.data)||void 0===te||null===(le=te.country)||void 0===le?void 0:le.id}:null,city:null!==(ie=e.data)&&void 0!==ie&&ie.city?{label:null===(oe=e.data)||void 0===oe||null===(ae=oe.city)||void 0===ae||null===(re=ae.translation)||void 0===re?void 0:re.title,value:null===(ue=e.data)||void 0===ue||null===(de=ue.city)||void 0===de?void 0:de.id,key:null===(ce=e.data)||void 0===ce||null===(se=ce.city)||void 0===se?void 0:se.id}:null}),N({lat:null===(ve=e.data)||void 0===ve||null===(fe=ve.location)||void 0===fe?void 0:fe.latitude,lng:null===(he=e.data)||void 0===he||null===(pe=he.location)||void 0===pe?void 0:pe.longitude}),V(ee(e.data.galleries)),r.setFieldsValue(me)})).finally((function(){return j(!1)})))}),[]),(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(z.Z,{visible:!!n,title:n.id?l("edit.delivery.setting"):l("add.delivery.setting"),closable:!1,onCancel:t,style:{minWidth:"80vw"},footer:[(0,O.jsxs)(v.Z,{children:[(0,O.jsx)(s.Z,{type:"primary",htmlType:"submit",onClick:function(){return r.submit()},loading:f,children:l("submit")},"submit"),(0,O.jsx)(s.Z,{type:"default",onClick:t,children:l("cancel")},"cancelBtn")]})],children:(0,O.jsx)(L.Z,{name:"basic",layout:"vertical",onFinish:function(e){p(!0);var l=(0,o.Z)((0,o.Z)({},e),{},{user_id:n.id,images:S.map((function(e){return e.name})),location:{latitude:H.lat,longitude:H.lng},region_id:e.region.value,country_id:e.country.value,city_id:e.city.value});n.settingsId?_.Z.update(n.settingsId,l).then((function(){t(),u((0,C.W)({}))})).finally((function(){return p(!1)})):_.Z.create(l).then((function(){t(),u((0,C.W)({}))})).finally((function(){return p(!1)}))},form:r,initialValues:{online:!0},children:b?(0,O.jsx)(T.Z,{}):(0,O.jsxs)(D.Z,{gutter:12,children:[(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("brand"),name:"brand",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(l("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}}],children:(0,O.jsx)(B.Z,{})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("model"),name:"model",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(l("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}}],children:(0,O.jsx)(B.Z,{})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:l("required")}],children:(0,O.jsx)(h.Z,{options:X})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("car.number"),name:"number",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(l("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}}],children:(0,O.jsx)(B.Z,{})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("car.color"),name:"color",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(l("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}}],children:(0,O.jsx)(B.Z,{})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{name:"region",label:l("region"),rules:[{required:!0,message:l("required")}],children:(0,O.jsx)(A.h,{fetchOptions:function(e){var n={search:e,perPage:10,page:1};return G.Z.get(n).then((function(e){var n=e.data;return null===n||void 0===n?void 0:n.flatMap((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:l("select.region"),onChange:function(e){r.setFieldsValue({country:null,city:null}),Q({region:e,country:null,city:null})},onClear:function(){r.setFieldsValue({region:[],country:[],city:[]}),Q({region:null,country:null,city:null})},autoComplete:"none"})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{name:"country",label:l("country"),rules:[{required:!0,message:l("required")}],children:(0,O.jsx)(A.h,{fetchOptions:function(e){var n,t={search:e,perPage:10,page:1,region_id:null===J||void 0===J||null===(n=J.region)||void 0===n?void 0:n.value};return $.Z.get(t).then((function(e){var n=e.data;return null===n||void 0===n?void 0:n.flatMap((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.region_id}}))}))},placeholder:l("select.country"),refetchOptions:!0,onChange:function(e){r.setFieldsValue({city:null}),Q((0,o.Z)((0,o.Z)({},J),{},{country:e,city:null}))},onClear:function(){r.setFieldsValue({country:[],city:[]}),Q((0,o.Z)((0,o.Z)({},J),{},{country:null,city:null}))},disabled:!J.region,autoComplete:"none"})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{name:"city",label:l("city"),children:(0,O.jsx)(A.h,{fetchOptions:function(e){var n,t={search:e,perPage:10,page:1,country_id:null===J||void 0===J||null===(n=J.country)||void 0===n?void 0:n.value};return U.Z.get(t).then((function(e){var n=e.data;return null===n||void 0===n?void 0:n.flatMap((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:l("select.city"),refetchOptions:!0,disabled:!J.region||!J.country,autoComplete:"none"})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("image"),name:"images",rules:[{validator:function(){return 0===(null===S||void 0===S?void 0:S.length)?Promise.reject(new Error(l("required"))):Promise.resolve()}}],children:(0,O.jsx)(K.Z,{type:"deliveryman/settings",imageList:S,setImageList:V,form:r,length:"1",multiple:!0})})}),(0,O.jsx)(R.Z,{span:12,children:(0,O.jsx)(L.Z.Item,{label:l("online"),name:"online",valuePropName:"checked",children:(0,O.jsx)(q.Z,{})})}),(0,O.jsx)(R.Z,{span:24,children:(0,O.jsx)(L.Z.Item,{label:l("map"),name:"location",children:(0,O.jsx)(W.Z,{location:H,setLocation:N})})})]})})})})},J=t(41481),Q=t(80314),ee=t(13945),ne=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"}],te=function(){var e,n,t,E=(0,g.$)().t,z=(0,y.I0)(),P=(0,Z.s0)(),H=(0,m.useContext)(w._).setIsModalVisible,M=(0,m.useState)(null),N=(0,a.Z)(M,2),L=N[0],D=N[1],R=(0,m.useState)(!1),B=(0,a.Z)(R,2),q=B[0],T=B[1],K=(0,m.useState)(null),W=(0,a.Z)(K,2),A=W[0],$=W[1],U=(0,m.useState)(null),G=(0,a.Z)(U,2),X=G[0],te=G[1],le=(0,m.useState)(null),ie=(0,a.Z)(le,2),oe=ie[0],ae=ie[1],re=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,ue=null===re||void 0===re?void 0:re.data,de={search:null!==ue&&void 0!==ue&&ue.search?ue.search:void 0,type_of_technique:null===ue||void 0===ue?void 0:ue.type,sort:null===ue||void 0===ue?void 0:ue.sort,column:null===ue||void 0===ue?void 0:ue.column,pageSize:null===ue||void 0===ue?void 0:ue.per_page,page:(null===ue||void 0===ue?void 0:ue.page)||1},ce=(0,y.v9)((function(e){return e.deliveries}),y.wU),se=ce.delivery,ve=ce.loading,fe=ce.meta,he=(0,y.v9)((function(e){return e.currency}),y.wU).defaultCurrency,pe=function(){te(null),ae(null)},me=(0,m.useState)([{title:E("id"),dataIndex:"id",key:"id",is_show:!0},{title:E("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,n){return(null===n||void 0===n?void 0:n.firstname)+" "+(null===n||void 0===n?void 0:n.lastname)}},{title:E("orders"),dataIndex:"count",key:"count",is_show:!0,sorter:!0,render:function(e,n){return null===n||void 0===n?void 0:n.deliveryman_orders.length}},{title:E("rate"),dataIndex:"rating",key:"rating",is_show:!0,sorter:!0,render:function(e,n){var t;return(0,O.jsx)(c.Z,{className:"mt-3 ml-3",disabled:!0,allowHalf:!0,value:null!==(t=null===n||void 0===n?void 0:n.r_avg)&&void 0!==t?t:0})}},{title:E("wallet"),dataIndex:"wallet_sum",key:"wallet_sum",is_show:!0,sorter:!0,render:function(e,n){var t;return(0,V.Z)(null===n||void 0===n||null===(t=n.wallet)||void 0===t?void 0:t.price,he.symbol)}},{title:E("delivery.man.setting"),dataIndex:"setting",key:"setting",is_show:!0,render:function(e,n){var t,l,i,o,a;return null===(null===n||void 0===n?void 0:n.delivery_man_setting)?(0,O.jsx)(s.Z,{icon:(0,O.jsx)(r.Z,{}),onClick:function(){return ae({id:null===n||void 0===n?void 0:n.id})},children:E("add.settings")}):(0,O.jsxs)(v.Z,{children:[(0,O.jsxs)("span",{children:[E("brand"),": ",null===n||void 0===n||null===(t=n.delivery_man_setting)||void 0===t?void 0:t.brand,(0,O.jsx)("br",{}),E("model"),": ",null===n||void 0===n||null===(l=n.delivery_man_setting)||void 0===l?void 0:l.model,(0,O.jsx)("br",{}),E("number"),": ",null===n||void 0===n||null===(i=n.delivery_man_setting)||void 0===i?void 0:i.number,(0,O.jsx)("br",{}),E("color"),": ",null===n||void 0===n||null===(o=n.delivery_man_setting)||void 0===o?void 0:o.color]}),null!==n&&void 0!==n&&null!==(a=n.delivery_man_setting)&&void 0!==a&&a.id?(0,O.jsx)(u.Z,{onClick:function(){var e;return ae({settingsId:null===n||void 0===n||null===(e=n.delivery_man_setting)||void 0===e?void 0:e.id,id:null===n||void 0===n?void 0:n.id})}}):""]})}},{title:E("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,O.jsxs)(v.Z,{children:[(0,O.jsx)(s.Z,{icon:(0,O.jsx)(I.Y4r,{}),onClick:function(){return te(n)}}),(0,O.jsx)(s.Z,{type:"primary",icon:(0,O.jsx)(u.Z,{}),onClick:function(){return function(e){z((0,k.bL)({url:"user/delivery/".concat(e.uuid),id:"delivery_edit",name:E("delivery.edit")})),P("/user/delivery/".concat(e.uuid))}(n)}}),(0,O.jsx)(b.Z,{icon:(0,O.jsx)(d.Z,{}),onClick:function(){D([n.id]),H(!0),$(!0)}})]})}}]),ge=(0,a.Z)(me,2),ye=ge[0],Ze=ge[1];(0,m.useEffect)((function(){re.refetch&&(0,y.dC)((function(){z((0,C.W)(de)),z((0,k.A_)(re))}))}),[re.refetch]),(0,Q.Z)((function(){z((0,C.W)(de))}),[re.data]);var xe={selectedRowKeys:L,onChange:function(e){D(e)}},be=function(e,n){z((0,k.nc)({activeMenu:re,data:(0,o.Z)((0,o.Z)({},re.data),{},(0,l.Z)({},n,e))}))};return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(f.Z,{title:E("delivery"),extra:(0,O.jsxs)(v.Z,{children:[(0,O.jsx)(h.Z,{placeholder:E("type.of.technique"),style:{width:"150px"},options:ne,onChange:function(e){return be(e,"type")},allowClear:!0}),(0,O.jsx)(b.Z,{size:"",onClick:function(){null===L||0===L.length?x.Am.warning(E("select.the.product")):(H(!0),$(!1))},children:E("delete.selected")}),(0,O.jsx)(s.Z,{type:"primary",icon:(0,O.jsx)(r.Z,{}),onClick:function(){z((0,k.bL)({id:"user-add-role",url:"add/user/delivery/".concat("deliveryman"),name:E("add.".concat("deliveryman"))})),P("/add/user/delivery/".concat("deliveryman"))},children:E("add.delivery")}),(0,O.jsx)(j.Z,{columns:ye,setColumns:Ze})]}),children:[(0,O.jsx)(J.Z,{placeholder:E("search"),className:"w-25",handleChange:function(e){return be(e,"search")},resetSearch:!(null!==(e=re.data)&&void 0!==e&&e.search),defaultValue:null===(n=re.data)||void 0===n?void 0:n.search}),(0,O.jsx)(p.Z,{scroll:{x:!0},rowSelection:xe,columns:null===ye||void 0===ye?void 0:ye.filter((function(e){return e.is_show})),dataSource:se,pagination:{pageSize:fe.per_page,page:(null===ue||void 0===ue?void 0:ue.page)||1,total:fe.total,defaultCurrent:null===ue||void 0===ue?void 0:ue.page,current:null===(t=re.data)||void 0===t?void 0:t.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var l=e.pageSize,i=e.current,a=t.field,r=t.order,u=(0,ee.Z)(r);z((0,k.nc)({activeMenu:re,data:(0,o.Z)((0,o.Z)({},ue),{},{perPage:l,page:i,column:a,sort:u})}))},loading:ve}),(0,O.jsx)(S.Z,{click:function(){T(!0);var e=(0,o.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(L.map((function(e,n){return(0,l.Z)({},"ids[".concat(n,"]"),e)}))))));_.Z.delete(e).then((function(){x.Am.success(E("successfully.deleted")),z((0,C.W)(de)),H(!1),$(null),D(null)})).finally((function(){T(!1)}))},text:E(A?"delete":"all.delete"),setText:D,loading:q}),X&&(0,O.jsx)(F,{id:X,handleCancel:pe}),oe&&(0,O.jsx)(Y,{id:oe.id,data:oe,handleCancel:pe})]})})}},55768:function(e,n,t){t.d(n,{Z:function(){return u}});var l=t(1413),i=t(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=t(17469),r=function(e,n){return i.createElement(a.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:o}))};r.displayName="PlusCircleOutlined";var u=i.forwardRef(r)},99587:function(e,n,t){t.d(n,{Z:function(){return u}});var l=t(1413),i=t(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},a=t(17469),r=function(e,n){return i.createElement(a.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:o}))};r.displayName="TableOutlined";var u=i.forwardRef(r)},55613:function(e,n,t){t.d(n,{Z:function(){return S}});var l=t(87462),i=t(47313),o=t(1413),a=t(4942),r=t(15671),u=t(43144),d=t(60136),c=t(29388),s=t(53879),v=t(46123),f=t.n(v),h=t(49242);var p=function(e){(0,d.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onHover=function(n){var t=e.props;(0,t.onHover)(n,t.index)},e.onClick=function(n){var t=e.props;(0,t.onClick)(n,t.index)},e.onKeyDown=function(n){var t=e.props,l=t.onClick,i=t.index;13===n.keyCode&&l(n,i)},e}return(0,u.Z)(t,[{key:"getClassName",value:function(){var e=this.props,n=e.prefixCls,t=e.index,l=e.value,i=e.allowHalf,o=e.focused,a=t+1,r=n;return 0===l&&0===t&&o?r+=" ".concat(n,"-focused"):i&&l+.5>=a&&l<a?(r+=" ".concat(n,"-half ").concat(n,"-active"),o&&(r+=" ".concat(n,"-focused"))):(r+=" ".concat(n,a<=l?"-full":"-zero"),a===l&&o&&(r+=" ".concat(n,"-focused"))),r}},{key:"render",value:function(){var e=this.onHover,n=this.onClick,t=this.onKeyDown,l=this.props,o=l.disabled,a=l.prefixCls,r=l.character,u=l.characterRender,d=l.index,c=l.count,s=l.value,v="function"===typeof r?r(this.props):r,f=i.createElement("li",{className:this.getClassName()},i.createElement("div",{onClick:o?null:n,onKeyDown:o?null:t,onMouseMove:o?null:e,role:"radio","aria-checked":s>d?"true":"false","aria-posinset":d+1,"aria-setsize":c,tabIndex:o?-1:0},i.createElement("div",{className:"".concat(a,"-first")},v),i.createElement("div",{className:"".concat(a,"-second")},v)));return u&&(f=u(f,this.props)),f}}]),t}(i.Component);function m(){}var g=function(e){(0,d.Z)(t,e);var n=(0,c.Z)(t);function t(e){var l;(0,r.Z)(this,t),(l=n.call(this,e)).stars=void 0,l.rate=void 0,l.onHover=function(e,n){var t=l.props.onHoverChange,i=l.getStarValue(n,e.pageX);i!==l.state.cleanedValue&&l.setState({hoverValue:i,cleanedValue:null}),t(i)},l.onMouseLeave=function(){var e=l.props.onHoverChange;l.setState({hoverValue:void 0,cleanedValue:null}),e(void 0)},l.onClick=function(e,n){var t=l.props.allowClear,i=l.state.value,o=l.getStarValue(n,e.pageX),a=!1;t&&(a=o===i),l.onMouseLeave(),l.changeValue(a?0:o),l.setState({cleanedValue:a?o:null})},l.onFocus=function(){var e=l.props.onFocus;l.setState({focused:!0}),e&&e()},l.onBlur=function(){var e=l.props.onBlur;l.setState({focused:!1}),e&&e()},l.onKeyDown=function(e){var n=e.keyCode,t=l.props,i=t.count,o=t.allowHalf,a=t.onKeyDown,r="rtl"===t.direction,u=l.state.value;n===h.Z.RIGHT&&u<i&&!r?(u+=o?.5:1,l.changeValue(u),e.preventDefault()):n===h.Z.LEFT&&u>0&&!r||n===h.Z.RIGHT&&u>0&&r?(u-=o?.5:1,l.changeValue(u),e.preventDefault()):n===h.Z.LEFT&&u<i&&r&&(u+=o?.5:1,l.changeValue(u),e.preventDefault()),a&&a(e)},l.saveRef=function(e){return function(n){l.stars[e]=n}},l.saveRate=function(e){l.rate=e};var i=e.value;return void 0===i&&(i=e.defaultValue),l.stars={},l.state={value:i,focused:!1,cleanedValue:null},l}return(0,u.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.autoFocus,t=e.disabled;n&&!t&&this.focus()}},{key:"getStarDOM",value:function(e){return(0,s.Z)(this.stars[e])}},{key:"getStarValue",value:function(e,n){var t=this.props,l=t.allowHalf,i="rtl"===t.direction,o=e+1;if(l){var a=this.getStarDOM(e),r=function(e){var n=function(e){var n,t,l=e.ownerDocument,i=l.body,o=l&&l.documentElement,a=e.getBoundingClientRect();return n=a.left,t=a.top,{left:n-=o.clientLeft||i.clientLeft||0,top:t-=o.clientTop||i.clientTop||0}}(e),t=e.ownerDocument,l=t.defaultView||t.parentWindow;return n.left+=function(e){var n=e.pageXOffset,t="scrollLeft";if("number"!==typeof n){var l=e.document;"number"!==typeof(n=l.documentElement[t])&&(n=l.body[t])}return n}(l),n.left}(a),u=a.clientWidth;(i&&n-r>u/2||!i&&n-r<u/2)&&(o-=.5)}return o}},{key:"focus",value:function(){this.props.disabled||this.rate.focus()}},{key:"blur",value:function(){this.props.disabled||this.rate.blur()}},{key:"changeValue",value:function(e){var n=this.props.onChange;"value"in this.props||this.setState({value:e}),n(e)}},{key:"render",value:function(){for(var e=this.props,n=e.count,t=e.allowHalf,l=e.style,o=e.prefixCls,r=e.disabled,u=e.className,d=e.character,c=e.characterRender,s=e.tabIndex,v=e.direction,h=this.state,m=h.value,g=h.hoverValue,y=h.focused,Z=[],x=r?"".concat(o,"-disabled"):"",b=0;b<n;b+=1)Z.push(i.createElement(p,{ref:this.saveRef(b),index:b,count:n,disabled:r,prefixCls:"".concat(o,"-star"),allowHalf:t,value:void 0===g?m:g,onClick:this.onClick,onHover:this.onHover,key:b,character:d,characterRender:c,focused:y}));var j=f()(o,x,u,(0,a.Z)({},"".concat(o,"-rtl"),"rtl"===v));return i.createElement("ul",{className:j,style:l,onMouseLeave:r?null:this.onMouseLeave,tabIndex:r?-1:s,onFocus:r?null:this.onFocus,onBlur:r?null:this.onBlur,onKeyDown:r?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},Z)}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"value"in e&&void 0!==e.value?(0,o.Z)((0,o.Z)({},n),{},{value:e.value}):n}}]),t}(i.Component);g.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:m,character:"\u2605",onHoverChange:m,tabIndex:0,direction:"ltr"};var y=g,Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},x=t(17469),b=function(e,n){return i.createElement(x.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:Z}))};b.displayName="StarFilled";var j=i.forwardRef(b),w=t(37388),C=t(91964),k=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(t[l[i]]=e[l[i]])}return t},_=i.forwardRef((function(e,n){var t=e.prefixCls,o=e.tooltips,a=k(e,["prefixCls","tooltips"]),r=i.useContext(C.E_),u=r.getPrefixCls,d=r.direction,c=u("rate",t);return i.createElement(y,(0,l.Z)({ref:n,characterRender:function(e,n){var t=n.index;return o?i.createElement(w.Z,{title:o[t]},e):e}},a,{prefixCls:c,direction:d}))}));_.displayName="Rate",_.defaultProps={character:i.createElement(j,null)};var S=_},84618:function(e,n,t){e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,t){e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);