"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9308],{55940:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),i=n(45987),c=(n(47313),n(59491)),r=n(47515),o=n(23560),l=n(24511),s=n(79492),u=n(46417),d=["size","onClick","type"];function h(e){var t=e.size,n=void 0===t?"":t,h=e.onClick,f=e.type,v=void 0===f?"default":f,Z=(0,i.Z)(e,d),m=(0,l.$)().t,p=(0,s.Z)().isDemo;return(0,u.jsx)(c.Z,(0,a.Z)({size:n,icon:(0,u.jsx)(r.Z,{}),onClick:function(e){p?o.Am.warning(m("cannot.work.demo")):h(e)},type:v},Z))}},53233:function(e,t,n){var a=n(1413),i=n(29439),c=n(47313),r=n(56140),o=n(67251),l=n(45705),s=n(86345),u=n(78267),d=n(37388),h=n(59491),f=n(99587),v=n(24511),Z=n(46417),m=r.Z.Text;t.Z=function(e){var t=e.columns,n=void 0===t?[]:t,r=e.setColumns,p=e.style,g=e.size,x=void 0===g?"":g,y=e.iconOnly,j=(0,v.$)().t,b=(0,c.useState)(!1),C=(0,i.Z)(b,2),w=C[0],k=C[1],z=(0,Z.jsx)(o.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsxs)(l.Z,{className:"d-flex justify-content-between",children:[(0,Z.jsx)(m,{children:e.title}),(0,Z.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var t=null===n||void 0===n?void 0:n.map((function(t){return t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t}));r(t)}(e)},disabled:1===t})]})},e+t)}))});return(0,Z.jsx)(u.Z,{overlay:z,trigger:["click"],onVisibleChange:function(e){k(e)},visible:w,children:(0,Z.jsx)(d.Z,{title:j("change.columns"),children:(0,Z.jsx)(h.Z,{style:(0,a.Z)({},p),size:x,icon:(0,Z.jsx)(f.Z,{}),children:y?null:j("Columns")})})})}},41481:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),i=n(29439),c=n(45987),r=n(47313),o=n(66672),l=n(16031),s=n(40765),u=n(46417),d=["handleChange","defaultValue","resetSearch"];function h(e){var t=e.handleChange,n=e.defaultValue,h=e.resetSearch,f=(0,c.Z)(e,d),v=(0,r.useState)(n),Z=(0,i.Z)(v,2),m=Z[0],p=Z[1],g=(0,r.useMemo)((function(){return(0,l.debounce)((function(e){t(e)}),800)}),[]);return(0,r.useEffect)((function(){p(n)}),[h]),(0,u.jsx)(o.Z,(0,a.Z)({value:m,onChange:function(e){p(e.target.value),g(e.target.value)},prefix:(0,u.jsx)(s.Z,{})},f))}},13945:function(e,t,n){function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:function(){return a}})},59308:function(e,t,n){n.d(t,{Z:function(){return Q}});var a=n(4942),i=n(93433),c=n(1413),r=n(29439),o=n(47313),l=n(12019),s=n(31741),u=n(66407),d=n(47515),h=n(55768),f=n(15386),v=n(73591),Z=n(45705),m=n(66204),p=n(26824),g=n(86345),x=n(59491),y=n(77181),j=n(78508),b=n(97421),C=n(74580),w=n(97890),k=n(23560),z=n(69658),V=n(2717),_=n(90954),H=n(30763),S=n(42472),I=n(24511),N=n(55940),M=n(53233),E=n(41481),U=n(80314),A=n(3925),O=n(13945),W=n(10976),P=n(9274),D=n(68197),L=n(59624),R=n(74294),T=n(46417),$=["published","pending","unpublished"];function B(e){var t=e.categoryDetails,n=e.handleCancel,a=e.paramsData,i=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,l=W.Z.useForm(),s=(0,r.Z)(l,1)[0],u=(0,V.I0)(),d=(0,I.$)().t,h=(0,o.useState)(!1),f=(0,r.Z)(h,2),v=f[0],Z=f[1];return(0,T.jsx)(P.Z,{visible:!!t,title:t.title,onCancel:n,footer:[(0,T.jsx)(x.Z,{type:"primary",onClick:function(){return s.submit()},loading:v,children:d("save")}),(0,T.jsx)(x.Z,{type:"default",onClick:n,children:d("cancel")})],children:(0,T.jsx)(W.Z,{form:s,layout:"vertical",onFinish:function(e){Z(!0);var r=(0,c.Z)({},e);H.Z.statusUpdate(t.uuid,r).then((function(){n(),u((0,S.pE)(a)),u((0,_.A_)(i))})).finally((function(){return Z(!1)}))},initialValues:{status:t.status},children:(0,T.jsx)(D.Z,{gutter:12,children:(0,T.jsx)(L.Z,{span:24,children:(0,T.jsx)(W.Z.Item,{label:d("status"),name:"status",rules:[{required:!0,message:d("required")}],children:(0,T.jsx)(R.Z,{children:$.map((function(e,t){return(0,T.jsx)(R.Z.Option,{value:e,children:d(e)},e+t)}))})})})})})})}var F=["blue","red","gold","volcano","cyan","lime"],K=v.Z.TabPane,q=["all","pending","published","unpublished"],Q=function(e){var t,n,W,P,D,L,R,$,Q=e.parentId,G=e.type,J=void 0===G?"main":G,X=e.parent_type,Y=(e.isRefetch,e.handleAddAction),ee=void 0===Y?function(){}:Y,te=e.activeTab,ne=void 0===te?"list":te,ae=(0,I.$)().t,ie=(0,V.I0)(),ce=(0,w.s0)(),re=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,oe=(0,o.useState)("all"),le=(0,r.Z)(oe,2),se=le[0],ue=le[1],de=(null===(t=re.data)||void 0===t?void 0:t.role)||se,he=(0,w.UO)().uuid,fe=(0,o.useState)(null),ve=(0,r.Z)(fe,2),Ze=ve[0],me=ve[1],pe=(0,o.useState)(null),ge=(0,r.Z)(pe,2),xe=ge[0],ye=ge[1];var je=function(){Q?ee(Q):(ie((0,_.bL)({id:Q?"sub-category-add":"category-add",url:"category/add",name:ae(Q?"add.sub.category":"add.category")})),ce("/category/add",{state:{parentId:Q,parentUuid:he}}))},be=function(){ie((0,_.bL)({url:"catalog/categories/import",id:Q?"sub_category_import":"category_import",name:ae(Q?"import.sub.category":"import.category")})),ce("/catalog/categories/import",{state:{parentId:Q,parentUuid:he}})},Ce=(0,o.useState)([{title:ae("id"),dataIndex:"id",key:"id",is_show:!0},{title:ae("name"),dataIndex:"name",key:"name",is_show:!0},{title:ae("translations"),dataIndex:"locales",is_show:!0,render:function(e,t){var n;return(0,T.jsx)(Z.Z,{children:null===(n=t.locales)||void 0===n?void 0:n.map((function(e,t){return(0,T.jsx)(m.Z,{className:"text-uppercase",color:[F[t]],children:e})}))})}},{title:ae("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,t){return(0,T.jsx)(p.Z,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+t.id)}},{title:ae("active"),dataIndex:"active",is_show:!0,render:function(e,t){return(0,T.jsx)(g.Z,{onChange:function(){Ve(!0),Ie(t.uuid),me(!0)},checked:e})}},{title:ae("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,T.jsxs)("div",{children:["pending"===e?(0,T.jsx)(m.Z,{color:"blue",children:ae(e)}):"unpublished"===e?(0,T.jsx)(m.Z,{color:"error",children:ae(e)}):(0,T.jsx)(m.Z,{color:"cyan",children:ae(e)}),(0,T.jsx)(l.Z,{onClick:function(){return ye(t)}})]})}},{title:ae("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,t){return(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(x.Z,{icon:(0,T.jsx)(s.Z,{}),onClick:function(){return function(e){ie((0,_.bL)({url:"category/show/".concat(e.uuid),id:"category_show",name:ae("category.show")})),ce("/category/show/".concat(e.uuid),{state:{parentId:Q,parentUuid:he}})}(t)}}),(0,T.jsx)(x.Z,{icon:(0,T.jsx)(u.Z,{}),onClick:function(){return e=t.uuid,ie((0,_.bL)({id:Q?"sub-category-clone":"category-clone",url:"category-clone/".concat(e),name:ae(Q?"sub.category.clone":"category.clone")})),void ce("/category-clone/".concat(e),{state:{parentId:Q,parentUuid:he}});var e}}),(0,T.jsx)(x.Z,{type:"primary",icon:(0,T.jsx)(l.Z,{}),onClick:function(){return function(e){ie((0,_.bL)({url:"category/".concat(e.uuid),id:Q?"category_sub_edit":"category_edit",name:ae(Q?"edit.sub.category":"edit.category")})),ce("/category/".concat(e.uuid),{state:{parentId:Q,parentUuid:he}})}(t)}}),(0,T.jsx)(N.Z,{icon:(0,T.jsx)(d.Z,{}),onClick:function(){Ie([t.id]),Ve(!0),Te(!0)}})]})}}]),we=(0,r.Z)(Ce,2),ke=we[0],ze=we[1],Ve=(0,o.useContext)(C._).setIsModalVisible,_e=(0,o.useState)(null),He=(0,r.Z)(_e,2),Se=He[0],Ie=He[1],Ne=(0,o.useState)(!1),Me=(0,r.Z)(Ne,2),Ee=Me[0],Ue=Me[1],Ae=(0,o.useState)(!1),Oe=(0,r.Z)(Ae,2),We=Oe[0],Pe=Oe[1],De=(0,o.useState)(null),Le=(0,r.Z)(De,2),Re=Le[0],Te=Le[1],$e=(0,V.v9)((function(e){return e.category}),V.wU),Be=$e.categories,Fe=$e.meta,Ke=$e.loading,qe=re.data,Qe={search:null===qe||void 0===qe?void 0:qe.search,perPage:(null===re||void 0===re||null===(n=re.data)||void 0===n?void 0:n.perPage)||10,page:(null===qe||void 0===qe?void 0:qe.page)||1,status:"all"===de?void 0:de,type:J,parent_id:Q};(0,o.useEffect)((function(){re.refetch&&"list"===ne&&(ie((0,S.pE)(Qe)),ie((0,_.A_)(re)))}),[re.refetch]),(0,U.Z)((function(){"list"===ne&&ie((0,S.pE)(Qe))}),[re.data,J,Q,ne]);var Ge=function(){Pe(!0),H.Z.export(Qe).then((function(e){window.location.href=b.S0+e.data.file_name})).finally((function(){return Pe(!1)}))},Je={selectedRowKeys:Se,onChange:function(e){Ie(e)}},Xe=function(){null===Se||0===Se.length?k.Am.warning(ae("select.the.product")):(Ve(!0),Te(!1))},Ye=function(e){var t=re.data;ie((0,_.nc)({activeMenu:re,data:(0,c.Z)((0,c.Z)({},t),e)}))},et=function(){ie((0,_.nc)({activeMenu:re,data:void 0}))};return(0,T.jsxs)(T.Fragment,{children:[!Q&&(0,T.jsx)(y.Z,{className:"p-0",children:(0,T.jsxs)(Z.Z,{wrap:!0,size:[14,20],children:[(0,T.jsx)(E.Z,{placeholder:ae("search"),className:"w-25",handleChange:function(e){Ye({search:e})},defaultValue:null===(W=re.data)||void 0===W?void 0:W.search,resetSearch:!(null!==(P=re.data)&&void 0!==P&&P.search),style:{minWidth:300}}),(0,T.jsx)(N.Z,{size:"",onClick:Xe,children:ae("delete.selected")}),(0,T.jsxs)(x.Z,{style:{minWidth:150},onClick:be,children:[(0,T.jsx)(A.o5r,{className:"mr-2"}),ae("import")]}),(0,T.jsxs)(x.Z,{style:{minWidth:150},loading:We,onClick:Ge,children:[(0,T.jsx)(A.bwQ,{className:"mr-2"}),ae("export")]}),"child"!==X&&(0,T.jsx)(x.Z,{type:"primary",icon:(0,T.jsx)(h.Z,{}),onClick:je,children:ae("add.category")}),(0,T.jsx)(x.Z,{icon:(0,T.jsx)(f.Z,{}),onClick:et,disabled:!re.data,style:{minWidth:100}}),(0,T.jsx)(M.Z,{columns:ke,setColumns:ze})]})}),(0,T.jsxs)(y.Z,{title:ae(Q?"sub.category":"categories"),children:[Q&&(0,T.jsxs)(Z.Z,{wrap:!0,size:[14,20],children:[(0,T.jsx)(E.Z,{placeholder:ae("search"),className:"w-25",handleChange:function(e){Ye({search:e})},defaultValue:null===(D=re.data)||void 0===D?void 0:D.search,resetSearch:!(null!==(L=re.data)&&void 0!==L&&L.search),style:{minWidth:300}}),(0,T.jsx)(N.Z,{size:"",onClick:Xe,children:ae("delete.selected")}),(0,T.jsxs)(x.Z,{style:{minWidth:150},onClick:be,children:[(0,T.jsx)(A.o5r,{className:"mr-2"}),ae("import")]}),(0,T.jsxs)(x.Z,{style:{minWidth:150},loading:We,onClick:Ge,children:[(0,T.jsx)(A.bwQ,{className:"mr-2"}),ae("export")]}),"child"!==X&&(0,T.jsx)(x.Z,{type:"primary",icon:(0,T.jsx)(h.Z,{}),onClick:je,children:ae("add.category")}),(0,T.jsx)(x.Z,{icon:(0,T.jsx)(f.Z,{}),onClick:et,disabled:!re.data,style:{minWidth:100}}),(0,T.jsx)(M.Z,{columns:ke,setColumns:ze})]}),(0,T.jsx)(v.Z,{className:"mt-3",activeKey:de,onChange:function(e){Ye({role:e,page:1}),ue(e)},type:"card",children:q.map((function(e){return(0,T.jsx)(K,{tab:ae(e)},e)}))}),(0,T.jsx)(j.Z,{scroll:{x:!0},rowSelection:Je,columns:null===ke||void 0===ke?void 0:ke.filter((function(e){return e.is_show})),dataSource:Be,pagination:{pageSize:(null===(R=re.data)||void 0===R?void 0:R.perPage)||10,page:(null===qe||void 0===qe?void 0:qe.page)||1,total:Fe.total,defaultCurrent:null===qe||void 0===qe?void 0:qe.page,current:null===($=re.data)||void 0===$?void 0:$.page},rowKey:function(e){return e.id},onChange:function(e,t,n){var a=e.pageSize,i=e.current,r=n.field,o=n.order,l=(0,O.Z)(o);ie((0,_.nc)({activeMenu:re,data:(0,c.Z)((0,c.Z)({},re.data),{},{perPage:a,page:i,column:r,sort:l})}))},loading:Ke})]}),(0,T.jsx)(z.Z,{click:Ze?function(){Ue(!0),H.Z.setActive(Se).then((function(){Ve(!1),ie((0,S.pE)(Qe)),k.Am.success(ae("successfully.updated")),me(!1)})).finally((function(){return Ue(!1)}))}:function(){Ue(!0);var e=(0,c.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(Se.map((function(e,t){return(0,a.Z)({},"ids[".concat(t,"]"),e)}))))));H.Z.delete(e).then((function(){ie((0,S.pE)(Qe)),k.Am.success(ae("successfully.deleted"))})).finally((function(){Ve(!1),Ue(!1),Te(null),Ie(null)}))},text:ae(Ze?"set.active.category":Re?"delete":"all.delete"),setText:Ie,loading:Ee}),xe&&(0,T.jsx)(B,{categoryDetails:xe,handleCancel:function(){return ye(null)},paramsData:Qe})]})}},15386:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),i=n(47313),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},r=n(17469),o=function(e,t){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};o.displayName="ClearOutlined";var l=i.forwardRef(o)},55768:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),i=n(47313),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},r=n(17469),o=function(e,t){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};o.displayName="PlusCircleOutlined";var l=i.forwardRef(o)},99587:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1413),i=n(47313),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},r=n(17469),o=function(e,t){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:c}))};o.displayName="TableOutlined";var l=i.forwardRef(o)}}]);