"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8965],{55940:function(e,n,t){t.d(n,{Z:function(){return h}});var l=t(1413),r=t(45987),a=(t(47313),t(59491)),i=t(47515),o=t(23560),c=t(24511),s=t(79492),u=t(46417),d=["size","onClick","type"];function h(e){var n=e.size,t=void 0===n?"":n,h=e.onClick,f=e.type,v=void 0===f?"default":f,m=(0,r.Z)(e,d),Z=(0,c.$)().t,p=(0,s.Z)().isDemo;return(0,u.jsx)(a.Z,(0,l.Z)({size:t,icon:(0,u.jsx)(i.Z,{}),onClick:function(e){p?o.Am.warning(Z("cannot.work.demo")):h(e)},type:v},m))}},53233:function(e,n,t){var l=t(1413),r=t(29439),a=t(47313),i=t(56140),o=t(67251),c=t(45705),s=t(86345),u=t(78267),d=t(37388),h=t(59491),f=t(99587),v=t(24511),m=t(46417),Z=i.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,i=e.setColumns,p=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,b=(0,v.$)().t,y=(0,a.useState)(!1),C=(0,r.Z)(y,2),w=C[0],z=C[1],I=(0,m.jsx)(o.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,m.jsx)(o.Z.Item,{children:(0,m.jsxs)(c.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(Z,{children:e.title}),(0,m.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));i(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,m.jsx)(u.Z,{overlay:I,trigger:["click"],onVisibleChange:function(e){z(e)},visible:w,children:(0,m.jsx)(d.Z,{title:b("change.columns"),children:(0,m.jsx)(h.Z,{style:(0,l.Z)({},p),size:g,icon:(0,m.jsx)(f.Z,{}),children:j?null:b("Columns")})})})}},4014:function(e,n,t){function l(e){var n,t,l=null===e||void 0===e?void 0:e.slice(0,1),r=null===e||void 0===e?void 0:e.lastIndexOf("@"),a=null===e||void 0===e?void 0:e.slice(1,r-1);a=null===(n=a)||void 0===n?void 0:n.replace(/./g,"*");var i=null===e||void 0===e?void 0:e.slice(r-1,e.length);return null===l||void 0===l||null===(t=l.concat(a))||void 0===t?void 0:t.concat(i)}t.d(n,{Z:function(){return l}})},84261:function(e,n,t){function l(e){var n="".concat(e),t="*".repeat(n.length-2);return(null===n||void 0===n?void 0:n[0])+t+(null===n||void 0===n?void 0:n[(null===n||void 0===n?void 0:n.length)-1])}t.d(n,{Z:function(){return l}})},41481:function(e,n,t){t.d(n,{Z:function(){return h}});var l=t(1413),r=t(29439),a=t(45987),i=t(47313),o=t(66672),c=t(16031),s=t(40765),u=t(46417),d=["handleChange","defaultValue","resetSearch"];function h(e){var n=e.handleChange,t=e.defaultValue,h=e.resetSearch,f=(0,a.Z)(e,d),v=(0,i.useState)(t),m=(0,r.Z)(v,2),Z=m[0],p=m[1],x=(0,i.useMemo)((function(){return(0,c.debounce)((function(e){n(e)}),800)}),[]);return(0,i.useEffect)((function(){p(t)}),[h]),(0,u.jsx)(o.Z,(0,l.Z)({value:Z,onChange:function(e){p(e.target.value),x(e.target.value)},prefix:(0,u.jsx)(s.Z,{})},f))}},89281:function(e,n,t){t.d(n,{h:function(){return f}});var l=t(1413),r=t(29439),a=t(45987),i=t(47313),o=t(12279),c=t.n(o),s=t(74294),u=t(72652),d=t(46417),h=["fetchOptions","debounceTimeout","onClear","refetchOptions"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?400:t,f=e.onClear,v=e.refetchOptions,m=void 0!==v&&v,Z=(0,a.Z)(e,h),p=(0,i.useState)(!1),x=(0,r.Z)(p,2),g=x[0],j=x[1],b=(0,i.useState)([]),y=(0,r.Z)(b,2),C=y[0],w=y[1],z=(0,i.useMemo)((function(){return c()((function(e){w([]),j(!0),n(e).then((function(e){w(e),j(!1)}))}),o)}),[n,o]);return(0,d.jsx)(s.Z,(0,l.Z)((0,l.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:z,onClear:function(){z(""),f&&f()},notFoundContent:g?(0,d.jsx)(u.Z,{size:"small"}):"no results"},Z),{},{options:C,onFocus:function(){C.length&&!m||z("")}}))}},13945:function(e,n,t){function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return l}})},84017:function(e,n,t){function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(l," ").concat(n):"".concat(n," ").concat(l)}t.d(n,{Z:function(){return l}})},10310:function(e,n,t){t.d(n,{Z:function(){return b}});var l=t(15861),r=t(29439),a=t(87757),i=t.n(a),o=t(47313),c=t(10976),s=t(9274),u=t(59491),d=t(74294),h=t(49986),f=t(2717),v=t(84304),m=t(23560),Z=t(24511),p=t(85746),x=t(89281),g=t(53149),j=t(46417);function b(e){var n=e.data,t=e.handleCancel,a=(0,Z.$)().t,b=c.Z.useForm(),y=(0,r.Z)(b,1)[0],C=(0,f.I0)(),w=(0,o.useState)(!1),z=(0,r.Z)(w,2),I=z[0],V=z[1],k=(0,o.useState)(n.role),H=(0,r.Z)(k,2),S=H[0],O=H[1],N=(0,f.v9)((function(e){return e.auth}),f.wU).user,M=[{label:a("user"),value:"user",key:1},{label:a("manager"),value:"manager",key:2},{label:a("moderator"),value:"moderator",key:3}],_=[{label:a("user"),value:"user",key:4},{label:a("moderator"),value:"moderator",key:5}];function E(){return(E=(0,l.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",g.Z.search(t).then((function(e){return e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,j.jsx)(s.Z,{visible:!!n,title:a("change.user.role"),onCancel:t,footer:[(0,j.jsx)(u.Z,{type:"primary",onClick:function(){return y.submit()},loading:I,children:a("save")}),(0,j.jsx)(u.Z,{type:"default",onClick:t,children:a("cancel")})],children:(0,j.jsxs)(c.Z,{layout:"vertical",name:"user-role",form:y,onFinish:function(e){!function(e,l){V(!0),h.Z.updateRole(e,{role:l}).then((function(){m.Am.success(a("successfully.updated")),"user"===n.role?C((0,p.Tu)()):C((0,v.uh)({role:n.role})),t()})).finally((function(){return V(!1)}))}(n.uuid,e.role)},initialValues:n,children:[(0,j.jsx)(c.Z.Item,{name:"role",label:a("role"),rules:[{required:!0,message:a("required")}],children:(0,j.jsx)(d.Z,{className:"w-100",options:"manager"===N.role?_:M,onChange:function(e){return O(e)}})}),"manager"!==S&&"user"!==S?(0,j.jsx)(c.Z.Item,{label:a("shop"),name:"shop_id",rules:[{required:!0,message:a("required")}],children:(0,j.jsx)(x.h,{className:"w-100",placeholder:a("select.shop"),fetchOptions:function(e){return E.apply(this,arguments)},allowClear:!1})}):void 0]})})}},91405:function(e,n,t){t.d(n,{Z:function(){return b}});var l=t(29439),r=t(47313),a=t(9274),i=t(59491),o=t(68197),c=t(59624),s=t(83371),u=t(26824),d=t(49986),h=t(45464),f=t(24511),v=t(51282),m=t(2717),Z=t(84017),p=t(79492),x=t(4014),g=t(84261),j=t(46417);function b(e){var n,t,b,y=e.uuid,C=e.handleCancel,w=(0,r.useState)({}),z=(0,l.Z)(w,2),I=z[0],V=z[1],k=(0,r.useState)(!1),H=(0,l.Z)(k,2),S=H[0],O=H[1],N=(0,f.$)().t,M=(0,m.v9)((function(e){return e.currency}),m.wU).defaultCurrency;(0,p.Z)().isDemo;return(0,r.useEffect)((function(){!function(e){O(!0),d.Z.getById(e).then((function(e){return V(e.data)})).finally((function(){return O(!1)}))}(y)}),[y]),(0,j.jsx)(a.Z,{visible:!!y,title:N("user"),onCancel:C,footer:[(0,j.jsx)(i.Z,{type:"default",onClick:C,children:N("cancel")},"cancel")],className:I.shop?"large-modal":"",children:S?(0,j.jsx)(v.Z,{}):(0,j.jsxs)(o.Z,{gutter:24,children:[(0,j.jsx)(c.Z,{span:I.shop?12:24,children:(0,j.jsxs)(s.Z,{bordered:!0,children:[(0,j.jsx)(s.Z.Item,{span:3,label:N("avatar"),children:(0,j.jsx)(u.Z,{src:(0,h.Z)(I.img),alt:I.firstname,width:80,className:"rounded"})}),(0,j.jsx)(s.Z.Item,{span:3,label:N("user.id"),children:I.id}),(0,j.jsxs)(s.Z.Item,{span:3,label:N("name"),children:[I.firstname," ",I.lastname||""]}),(0,j.jsx)(s.Z.Item,{span:3,label:N("gender"),children:I.gender}),(0,j.jsx)(s.Z.Item,{span:3,label:N("birthday"),children:I.birthday}),(0,j.jsx)(s.Z.Item,{span:3,label:N("email"),children:(0,x.Z)(null===I||void 0===I?void 0:I.email)}),(0,j.jsx)(s.Z.Item,{span:3,label:N("phone"),children:null!==I&&void 0!==I&&I.phone?(0,g.Z)(null===I||void 0===I?void 0:I.phone):N("no.phone")}),(0,j.jsx)(s.Z.Item,{span:3,label:N("role"),children:I.role}),(0,j.jsx)(s.Z.Item,{span:3,label:N("wallet"),children:(0,Z.Z)(null===(n=I.wallet)||void 0===n?void 0:n.price,null===M||void 0===M?void 0:M.symbol)})]})}),I.shop?(0,j.jsx)(c.Z,{span:12,children:(0,j.jsxs)(s.Z,{bordered:!0,children:[(0,j.jsx)(s.Z.Item,{span:3,label:N("shop.id"),children:I.shop.id}),(0,j.jsx)(s.Z.Item,{span:3,label:N("shop.name"),children:null===(t=I.shop.translation)||void 0===t?void 0:t.title}),(0,j.jsx)(s.Z.Item,{span:3,label:N("shop.logo"),children:(0,j.jsx)("img",{src:(0,h.Z)(I.shop.logo_img),alt:null===(b=I.shop.translation)||void 0===b?void 0:b.title,width:100,className:"rounded"})}),(0,j.jsx)(s.Z.Item,{span:3,label:N("shop.phone"),children:I.shop.phone}),(0,j.jsxs)(s.Z.Item,{span:3,label:N("shop.open_close.time"),children:[I.shop.open_time," - ",I.shop.close_time]}),(0,j.jsx)(s.Z.Item,{span:3,label:N("delivery.range"),children:I.shop.delivery_range})]})}):""]})})}},47548:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(1413),r=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},i=t(17469),o=function(e,n){return r.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:a}))};o.displayName="ExpandOutlined";var c=r.forwardRef(o)},55768:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(1413),r=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=t(17469),o=function(e,n){return r.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:a}))};o.displayName="PlusCircleOutlined";var c=r.forwardRef(o)},99587:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(1413),r=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},i=t(17469),o=function(e,n){return r.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:n,icon:a}))};o.displayName="TableOutlined";var c=r.forwardRef(o)}}]);