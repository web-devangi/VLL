"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5452],{94337:function(e,n,r){var i=r(34344),t={getAll:function(e){return i.Z.get("dashboard/admin/subscriptions",{params:e})},getById:function(e,n){return i.Z.get("dashboard/admin/subscriptions/".concat(e),{params:n})},update:function(e,n){return i.Z.put("dashboard/admin/subscriptions/".concat(e),n)},create:function(e){return i.Z.post("dashboard/admin/subscriptions",e)}};n.Z=t},65452:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var i=r(1413),t=r(29439),a=r(47313),s=r(10976),l=r(9274),c=r(59491),u=r(68197),d=r(59624),o=r(66672),m=r(16124),h=r(86345),Z=r(24511),p=r(94337),x=r(51282),j=r(46417);function f(e){var n=e.modal,r=e.handleCancel,f=e.refetch,b=s.Z.useForm(),v=(0,t.Z)(b,1)[0],g=(0,Z.$)().t,w=(0,a.useState)(!1),q=(0,t.Z)(w,2),y=q[0],_=q[1],I=(0,a.useState)(!1),k=(0,t.Z)(I,2),N=k[0],C=k[1];return(0,a.useEffect)((function(){C(!0),p.Z.getById(n.id).then((function(e){console.log("data",e.data),v.setFieldsValue((0,i.Z)({},e.data))})).finally((function(){return C(!1)}))}),[n]),(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(l.Z,{visible:!!n,title:g("edit.subscription"),onCancel:r,style:{minWidth:800},footer:[(0,j.jsx)(c.Z,{type:"primary",onClick:function(){return v.submit()},loading:y,children:g("save")},"save-btn"),(0,j.jsx)(c.Z,{type:"default",onClick:r,children:g("cancel")},"cancel-btn")],children:N?(0,j.jsx)(x.Z,{}):(0,j.jsx)(s.Z,{form:v,layout:"vertical",onFinish:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{active:Number(e.active),with_report:Number(e.with_report),type:"shop"});_(!0),p.Z.update(n.id,t).then((function(){r(),f()})).finally((function(){return _(!1)}))},initialValues:(0,i.Z)({active:Boolean(null===n||void 0===n?void 0:n.active),with_report:Boolean(null===n||void 0===n?void 0:n.with_report)},n),children:(0,j.jsxs)(u.Z,{gutter:12,children:[(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("title"),name:"title",rules:[{required:!0,message:g("required")}],children:(0,j.jsx)(o.Z,{})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("period"),name:"month",rules:[{required:!0,message:g("required")}],children:(0,j.jsx)(m.Z,{min:0,max:12,className:"w-100"})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("product_limit"),name:"product_limit",rules:[{required:!0,message:g("required")}],children:(0,j.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("order_limit"),name:"order_limit",rules:[{required:!0,message:g("required")}],children:(0,j.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("price"),name:"price",rules:[{required:!0,message:g("required")}],children:(0,j.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,j.jsx)(d.Z,{span:12}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("with_report"),name:"with_report",valuePropName:"checked",children:(0,j.jsx)(h.Z,{})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(s.Z.Item,{label:g("active"),name:"active",valuePropName:"checked",children:(0,j.jsx)(h.Z,{})})})]})})})})}}}]);