"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1519],{55940:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),a=n(45987),i=(n(47313),n(59491)),o=n(47515),u=n(23560),c=n(24511),l=n(79492),s=n(46417),d=["size","onClick","type"];function f(e){var t=e.size,n=void 0===t?"":t,f=e.onClick,v=e.type,h=void 0===v?"default":v,p=(0,a.Z)(e,d),m=(0,c.$)().t,Z=(0,l.Z)().isDemo;return(0,s.jsx)(i.Z,(0,r.Z)({size:n,icon:(0,s.jsx)(o.Z,{}),onClick:function(e){Z?u.Am.warning(m("cannot.work.demo")):f(e)},type:h},p))}},53233:function(e,t,n){var r=n(1413),a=n(29439),i=n(47313),o=n(56140),u=n(67251),c=n(45705),l=n(86345),s=n(78267),d=n(37388),f=n(59491),v=n(99587),h=n(24511),p=n(46417),m=o.Z.Text;t.Z=function(e){var t=e.columns,n=void 0===t?[]:t,o=e.setColumns,Z=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,y=(0,h.$)().t,b=(0,i.useState)(!1),w=(0,a.Z)(b,2),C=w[0],_=w[1],k=(0,p.jsx)(u.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,p.jsx)(u.Z.Item,{children:(0,p.jsxs)(c.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(m,{children:e.title}),(0,p.jsx)(l.Z,{defaultChecked:!0,onClick:function(){return function(e){var t=null===n||void 0===n?void 0:n.map((function(t){return t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t}));o(t)}(e)},disabled:1===t})]})},e+t)}))});return(0,p.jsx)(s.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){_(e)},visible:C,children:(0,p.jsx)(d.Z,{title:y("change.columns"),children:(0,p.jsx)(f.Z,{style:(0,r.Z)({},Z),size:g,icon:(0,p.jsx)(v.Z,{}),children:j?null:y("Columns")})})})}},49655:function(e,t,n){n.d(t,{_:function(){return Z}});var r=n(1413),a=n(93433),i=n(15861),o=n(29439),u=n(45987),c=n(87757),l=n.n(c),s=n(47313),d=n(12279),f=n.n(d),v=n(74294),h=n(72652),p=n(46417),m=["fetchOptions","debounceTimeout","hasMore"],Z=function(e){var t=e.fetchOptions,n=e.debounceTimeout,c=void 0===n?400:n,d=e.hasMore,Z=(0,u.Z)(e,m),x=(0,s.useState)(!1),g=(0,o.Z)(x,2),j=g[0],y=g[1],b=(0,s.useState)([]),w=(0,o.Z)(b,2),C=w[0],_=w[1],k=(0,s.useState)(!1),S=(0,o.Z)(k,2),z=S[0],M=S[1],V=(0,s.useState)(null),H=(0,o.Z)(V,2),I=H[0],N=H[1],A=(0,s.useState)(1),P=(0,o.Z)(A,2),R=P[0],O=P[1],q=(0,s.useMemo)((function(){return f()((function(e){_([]),N(e),y(!0),t({search:e}).then((function(e){_(e),O(2),y(!1)})).finally((function(){return M(!1)}))}),c)}),[t,c,R]),T=function(){var e=(0,i.Z)(l().mark((function e(n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target,z||r.scrollTop+r.offsetHeight!==r.scrollHeight||d&&(M(!0),r.scrollTo(0,r.scrollHeight),t({search:I,page:R}).then((function(e){O((function(e){return e+1})),_([].concat((0,a.Z)(C),(0,a.Z)(e)))})).finally((function(){return M(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(v.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,onPopupScroll:T,labelInValue:!0,filterOption:!1,onSearch:q,notFoundContent:j?(0,p.jsx)(h.Z,{size:"small"}):"no results",onFocus:function(){C.length||q("")}},Z),{},{children:[C.map((function(e,t){return(0,p.jsx)(v.Z.Option,{value:e.value,children:e.label},t)})),z&&(0,p.jsx)(v.Z.Option,{children:(0,p.jsx)(h.Z,{size:"small"})})]}))}},51988:function(e,t,n){n.d(t,{Z:function(){return l}});n(47313);var r=n(24511),a=n(66188),i=n.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=n.p+"static/media/noresult.ac4af107751f94856a9c.riv",u=n.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",c=n(46417);var l=function(e){var t=e.id,n=void 0===t?"noresult":t,l=e.text,s=void 0===l?"":l,d=(0,r.$)().t,f={src:{noproductsfound:i,noresult:o,nosell:u}[n],artboard:"New Artboard",autoplay:!0},v=(0,a.useRive)(f).RiveComponent;return(0,c.jsxs)("div",{className:"animation-canvas",children:[(0,c.jsx)("div",{style:{width:"100%",height:200},children:(0,c.jsx)(v,{})}),(0,c.jsx)("div",{className:"text",children:d(s)})]})}},41481:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),a=n(29439),i=n(45987),o=n(47313),u=n(66672),c=n(16031),l=n(40765),s=n(46417),d=["handleChange","defaultValue","resetSearch"];function f(e){var t=e.handleChange,n=e.defaultValue,f=e.resetSearch,v=(0,i.Z)(e,d),h=(0,o.useState)(n),p=(0,a.Z)(h,2),m=p[0],Z=p[1],x=(0,o.useMemo)((function(){return(0,c.debounce)((function(e){t(e)}),800)}),[]);return(0,o.useEffect)((function(){Z(n)}),[f]),(0,s.jsx)(u.Z,(0,r.Z)({value:m,onChange:function(e){Z(e.target.value),x(e.target.value)},prefix:(0,s.jsx)(l.Z,{})},v))}},13945:function(e,t,n){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:function(){return r}})},17899:function(e,t,n){var r=n(34344),a={create:function(e){return r.Z.post("dashboard/admin/digital-files",e,{})}};t.Z=a},42566:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ce}});var r=n(73591),a=n(24511),i=n(97890),o=n(15861),u=n(4942),c=n(93433),l=n(1413),s=n(29439),d=n(87757),f=n.n(d),v=n(47313),h=n(12019),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},m=n(17469),Z=function(e,t){return v.createElement(m.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:p}))};Z.displayName="FileAddOutlined";var x=v.forwardRef(Z),g=n(54757),j=n(66407),y=n(47515),b=n(55768),w=n(15386),C=n(26824),_=n(45705),k=n(66204),S=n(86345),z=n(59491),M=n(77181),V=n(78508),H=n(9274),I=n(23560),N=n(97421),A=n(74580),P=n(69658),R=n(2717),O=n(90954),q=n(17101),T=n(95882),E=n(80314),D=n(11216),F=n(30763),B=n(53149),L=n(41481),$=n(13945),W=n(55940),K=n(10976),U=n(68197),Y=n(59624),Q=n(74294),G=n(66672),J=n(14349),X=n(71810),ee=n(46417),te=["published","pending","unpublished"],ne=["accept","decline"],re={type:"product"};function ae(e){var t=e.orderDetails,n=e.handleCancel,r=e.paramsData,i=e.listType,o=void 0===i?"product":i,u=(0,R.v9)((function(e){return e.menu}),R.wU).activeMenu,c=K.Z.useForm(),d=(0,s.Z)(c,1)[0],f=(0,R.I0)(),h=(0,a.$)().t,p=(0,v.useState)(!1),m=(0,s.Z)(p,2),Z=m[0],x=m[1],g=(0,v.useState)(null===t||void 0===t?void 0:t.status),j=(0,s.Z)(g,2),y=j[0],b=j[1],w="request"===o?ne:te;return(0,ee.jsx)(H.Z,{visible:!!t,title:t.title,onCancel:n,footer:[(0,ee.jsx)(z.Z,{type:"primary",onClick:function(){return d.submit()},loading:Z,children:h("save")}),(0,ee.jsx)(z.Z,{type:"default",onClick:n,children:h("cancel")})],children:(0,ee.jsx)(K.Z,{form:d,layout:"vertical",onFinish:function(e){x(!0);var a=(0,l.Z)({},e);"product"===o?function(e,t){q.Z.updateStatus(e,t).then((function(){n(),I.Am.success(h("successfully.updated")),f((0,T.t2)(r)),f((0,O.A_)(u))})).finally((function(){return x(!1)}))}(t.uuid,a):o&&function(e,t){var r={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};J.Z.changeStatus(e,r).then((function(){n(),I.Am.success(h("successfully.updated")),f((0,X.aw)(re)),f((0,O.A_)(u))})).finally((function(){return x(!1)}))}(t.id,a)},initialValues:"product"===o?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,ee.jsx)(U.Z,{gutter:12,children:(0,ee.jsxs)(Y.Z,{span:24,children:[(0,ee.jsx)(K.Z.Item,{label:h("status"),name:"status",rules:[{required:!0,message:h("required")}],children:(0,ee.jsx)(Q.Z,{onChange:function(e){return b(e)},children:w.map((function(e,t){return(0,ee.jsx)(Q.Z.Option,{value:e,children:h(e)},e+t)}))})}),("unpublished"===y||"decline"===y)&&(0,ee.jsx)(K.Z.Item,{name:"status_note",label:h("note"),rules:[{validator:function(e,t){return t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(h("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(h("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(h("required")))}}],children:(0,ee.jsx)(G.Z.TextArea,{maxLength:250,showCount:!0})})]})})})})}var ie=n(53233),oe=n(51988),ue=n(3925),ce=n(49655),le=n(91107),se=n(66736),de=n(17899);function fe(e){var t=e.product_id,n=e.handleCancel,r=e.handleRefetch,i=(0,a.$)().t;return(0,ee.jsx)(H.Z,{visible:t,footer:!1,onCancel:n,children:(0,ee.jsx)(M.Z,{bordered:!1,className:"mb-0",children:(0,ee.jsxs)(le.Z,{name:"file",multiple:!1,maxCount:1,customRequest:function(e){var a=e.file,o=e.onSuccess,u=new FormData;u.append("file",a),u.append("active",1),u.append("product_id",t),de.Z.create(u).then((function(){I.Am.success(i("successfully.import")),o("ok"),n(),r()})).catch((function(e){o("error")}))},accept:".zip",children:[(0,ee.jsx)("p",{className:"ant-upload-drag-icon",children:(0,ee.jsx)(se.Z,{})}),(0,ee.jsx)("p",{className:"ant-upload-text",children:i("upload-drag")}),(0,ee.jsx)("p",{className:"ant-upload-hint",children:i("upload-text")})]})})})}var ve=["blue","red","gold","volcano","cyan","lime"],he=["all","pending","published","unpublished"],pe=r.Z.TabPane,me=function(){var e,t,n,d,p,m,Z,K,U,Y,Q,G,J=(0,a.$)().t,X=(0,R.I0)(),te=(0,i.s0)(),ne=(0,v.useState)(null),re=(0,s.Z)(ne,2),le=re[0],se=re[1],de=(0,v.useState)(null),me=(0,s.Z)(de,2),Ze=me[0],xe=me[1],ge=(0,v.useState)(null),je=(0,s.Z)(ge,2),ye=je[0],be=je[1],we=(0,v.useState)("all"),Ce=(0,s.Z)(we,2),_e=Ce[0],ke=Ce[1],Se=(0,v.useState)(null),ze=(0,s.Z)(Se,2),Me=ze[0],Ve=ze[1],He=(0,v.useState)(null),Ie=(0,s.Z)(He,2),Ne=Ie[0],Ae=Ie[1],Pe=(0,v.useState)(!1),Re=(0,s.Z)(Pe,2),Oe=Re[0],qe=Re[1],Te=(0,v.useState)(""),Ee=(0,s.Z)(Te,2),De=Ee[0],Fe=Ee[1],Be=function(){X((0,O.nc)({activeMenu:ut,data:null}))},Le=(0,v.useState)([{title:J("id"),dataIndex:"id",is_show:!0,sorter:function(e,t){return e.id-t.id}},{title:J("image"),dataIndex:"img",is_show:!0,render:function(e,t){return(0,ee.jsx)(C.Z,{width:100,height:100,src:N.bV+e,placeholder:!0,style:{borderRadius:4,objectFit:"cover"}})}},{title:J("name"),dataIndex:"name",is_show:!0},{title:J("translations"),dataIndex:"locales",is_show:!0,render:function(e,t){var n;return(0,ee.jsx)(_.Z,{children:null===(n=t.locales)||void 0===n?void 0:n.map((function(e,t){return(0,ee.jsx)(k.Z,{className:"text-uppercase",color:[ve[t]],children:e})}))})}},{title:J("shop"),dataIndex:"shop_id",is_show:!0,render:function(e,t){var n,r;return null===(n=t.shop)||void 0===n||null===(r=n.translation)||void 0===r?void 0:r.title}},{title:J("category"),dataIndex:"category_name",is_show:!0},{title:J("active"),dataIndex:"active",is_show:!0,render:function(e,t){return(0,ee.jsx)(S.Z,{onChange:function(){Je(!0),Ge(t.uuid),xe(!0)},checked:e})}},{title:J("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,ee.jsxs)("div",{children:["pending"===e?(0,ee.jsx)(k.Z,{color:"blue",children:J(e)}):"unpublished"===e?(0,ee.jsx)(k.Z,{color:"error",children:J(e)}):(0,ee.jsx)(k.Z,{color:"cyan",children:J(e)}),(0,ee.jsx)(h.Z,{onClick:function(){return se(t)}})]})}},{title:J("digital.file"),is_show:!0,dataIndex:"digital_file",key:"digital.file",render:function(e,t){return null!==t&&void 0!==t&&t.digital?(0,ee.jsx)("div",{children:e?(0,ee.jsx)(_.Z,{children:(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(h.Z,{}),onClick:function(){return Ae(t.id)}})}):(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(x,{onClick:function(){return Ae(t.id)}})})}):(0,ee.jsx)(k.Z,{color:"blue",children:J("no.digital")})}},{title:J("options"),dataIndex:"options",is_show:!0,render:function(e,t){return(0,ee.jsxs)(_.Z,{children:[(0,ee.jsx)(z.Z,{type:"primary",icon:(0,ee.jsx)(h.Z,{}),onClick:function(){return e=t.uuid,X((0,O.bL)({id:"product-edit",url:"product/".concat(e),name:J("edit.product")})),Be(),void te("/product/".concat(e));var e}}),"unpublished"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,ee.jsx)(z.Z,{onClick:function(){qe(!0),Fe(t.status_note)},icon:(0,ee.jsx)(g.Z,{})}),(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(j.Z,{}),onClick:function(){return e=t.uuid,X((0,O.bL)({id:"product-clone",url:"product-clone/".concat(e),name:J("clone.product")})),Be(),void te("/product-clone/".concat(e));var e}}),(0,ee.jsx)(W.Z,{icon:(0,ee.jsx)(y.Z,{}),onClick:function(){Je(!0),Ge([t.id]),be(!0),xe(!1)}})]})}}]),$e=(0,s.Z)(Le,2),We=$e[0],Ke=$e[1],Ue=(0,v.useState)(null),Ye=(0,s.Z)(Ue,2),Qe=Ye[0],Ge=Ye[1],Je=(0,v.useContext)(A._).setIsModalVisible,Xe=(0,v.useState)(!1),et=(0,s.Z)(Xe,2),tt=et[0],nt=et[1],rt=(0,v.useState)(!1),at=(0,s.Z)(rt,2),it=at[0],ot=at[1],ut=(0,R.v9)((function(e){return e.menu}),R.wU).activeMenu,ct=(0,R.v9)((function(e){return e.product}),R.wU),lt=ct.products,st=ct.meta,dt=ct.loading,ft=ct.params,vt=(null===(e=ut.data)||void 0===e?void 0:e.role)||_e,ht=ut.data,pt={search:null===ht||void 0===ht?void 0:ht.search,brand_id:null===ht||void 0===ht||null===(t=ht.selectedBrand)||void 0===t?void 0:t.value,category_id:null===ht||void 0===ht||null===(n=ht.selectedCategory)||void 0===n?void 0:n.value,shop_id:null===ht||void 0===ht||null===(d=ht.selectedShop)||void 0===d?void 0:d.value,sort:null===ht||void 0===ht?void 0:ht.sort,status:"all"===vt?void 0:vt,column:null===ht||void 0===ht?void 0:ht.column,perPage:null===ht||void 0===ht?void 0:ht.perPage,page:null===ht||void 0===ht?void 0:ht.page};(0,E.Z)((function(){X((0,T.t2)(pt))}),[ut.data]),(0,v.useEffect)((function(){ut.refetch&&(X((0,T.t2)(pt)),X((0,O.A_)(ut)))}),[ut.refetch]);function mt(){return mt=(0,o.Z)(f().mark((function e(t){var n,r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,r=t.page,a={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,page:r},e.abrupt("return",D.Z.search(a).then((function(e){return Ve(e.links),e.data.map((function(e){return{label:e.title,value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),mt.apply(this,arguments)}function Zt(){return Zt=(0,o.Z)(f().mark((function e(t){var n,r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,r=t.page,a={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,type:"main",page:r},e.abrupt("return",F.Z.search(a).then((function(e){return Ve(e.links),e.data.map((function(e){var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}function xt(){return xt=(0,o.Z)(f().mark((function e(t){var n,r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,r=t.page,a={search:0===(null===n||void 0===n?void 0:n.length)?void 0:n,status:"approved",page:r},e.abrupt("return",B.Z.search(a).then((function(e){return Ve(e.links),e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}var gt=function(e){var t=ut.data;X((0,O.nc)({activeMenu:ut,data:(0,l.Z)((0,l.Z)({},t),e)}))},jt={selectedRowKeys:Qe,onChange:function(e){Ge(e)}};return(0,ee.jsxs)(v.Fragment,{children:[(0,ee.jsx)(M.Z,{className:"p-0",children:(0,ee.jsxs)(_.Z,{wrap:!0,size:[14,20],children:[(0,ee.jsx)(L.Z,{placeholder:J("search"),handleChange:function(e){return gt({search:e})},defaultValue:null===(p=ut.data)||void 0===p?void 0:p.search,resetSearch:!(null!==(m=ut.data)&&void 0!==m&&m.search),style:{minWidth:300}}),(0,ee.jsx)(ce._,{placeholder:J("select.shop"),hasMore:null===Me||void 0===Me?void 0:Me.next,loading:dt,fetchOptions:function(e){return xt.apply(this,arguments)},style:{minWidth:180},onChange:function(e){return gt({selectedShop:e})},value:null===(Z=ut.data)||void 0===Z?void 0:Z.selectedShop}),(0,ee.jsx)(ce._,{placeholder:J("select.category"),fetchOptions:function(e){return Zt.apply(this,arguments)},hasMore:null===Me||void 0===Me?void 0:Me.next,loading:dt,style:{minWidth:180},onChange:function(e){return gt({selectedCategory:e})},value:null===(K=ut.data)||void 0===K?void 0:K.selectedCategory}),(0,ee.jsx)(ce._,{placeholder:J("select.brand"),fetchOptions:function(e){return mt.apply(this,arguments)},hasMore:null===Me||void 0===Me?void 0:Me.next,loading:dt,style:{minWidth:180},onChange:function(e){return gt({selectedBrand:e})},value:null===(U=ut.data)||void 0===U?void 0:U.selectedBrand}),(0,ee.jsxs)(z.Z,{onClick:function(){X((0,O.bL)({id:"product-import",url:"catalog/product/import",name:J("product.import")})),te("/catalog/product/import")},children:[(0,ee.jsx)(ue.o5r,{className:"mr-2"}),J("import")]}),(0,ee.jsxs)(z.Z,{loading:it,onClick:function(){ot(!0),q.Z.export(pt).then((function(e){var t=N.S0+e.data.file_name;window.location.href=t})).finally((function(){return ot(!1)}))},children:[(0,ee.jsx)(ue.bwQ,{className:"mr-2"}),J("export")]}),(0,ee.jsx)(ie.Z,{columns:We,setColumns:Ke}),(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(b.Z,{}),type:"primary",onClick:function(){X((0,O.bL)({id:"product-add",url:"product/add",name:J("add.product")})),Be(),te("/product/add")},children:J("add.product")}),(0,ee.jsx)(W.Z,{size:"",onClick:function(){null===Qe||0===Qe.length?I.Am.warning(J("select.the.product")):(Je(!0),be(!1))},children:J("delete.selected")}),(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(w.Z,{}),onClick:function(){X((0,O.nc)({activeMenu:ut,data:void 0}))},disabled:!ut.data,style:{minWidth:150}})]})}),(0,ee.jsxs)(M.Z,{title:J("product"),children:[(0,ee.jsx)(r.Z,{className:"mt-3",activeKey:vt,onChange:function(e){gt({role:e,page:1}),ke(e)},type:"card",children:he.map((function(e){return(0,ee.jsx)(pe,{tab:J(e)},e)}))}),(0,ee.jsx)(V.Z,{locale:{emptyText:(0,ee.jsx)(oe.Z,{})},scroll:{x:!0},rowSelection:jt,loading:dt,columns:null===We||void 0===We?void 0:We.filter((function(e){return e.is_show})),dataSource:lt,pagination:{pageSize:ft.perPage,page:(null===(Y=ut.data)||void 0===Y?void 0:Y.page)||1,total:st.total,defaultCurrent:null===(Q=ut.data)||void 0===Q?void 0:Q.page,current:null===(G=ut.data)||void 0===G?void 0:G.page},onChange:function(e,t,n){var r=e.pageSize,a=e.current,i=n.field,o=n.order,u=(0,$.Z)(o);X((0,O.nc)({activeMenu:ut,data:(0,l.Z)((0,l.Z)({},ut.data),{},{perPage:r,page:a,column:i,sort:u})}))},rowKey:function(e){return e.id}})]}),le&&(0,ee.jsx)(ae,{orderDetails:le,handleCancel:function(){return se(null)},paramsData:pt}),(0,ee.jsx)(fe,{product_id:Ne,handleCancel:function(){return Ae(null)},handleRefetch:function(){(0,R.dC)((function(){X((0,T.t2)(pt)),X((0,O.A_)(ut))}))}}),(0,ee.jsx)(P.Z,{click:Ze?function(){nt(!0),q.Z.setActive(Qe).then((function(){Je(!1),X((0,T.t2)(pt)),I.Am.success(J("successfully.updated")),xe(!1)})).finally((function(){return nt(!1)}))}:function(){nt(!0);var e=(0,l.Z)({},Object.assign.apply(Object,[{}].concat((0,c.Z)(Qe.map((function(e,t){return(0,u.Z)({},"ids[".concat(t,"]"),e)}))))));q.Z.delete(e).then((function(){Je(!1),I.Am.success(J("successfully.deleted")),X((0,T.t2)(pt)),be(null),xe(!1)})).finally((function(){return nt(!1)}))},text:J(Ze?"set.active.product":ye?"delete":"all.delete"),loading:tt,setText:Ge,setActive:xe}),(0,ee.jsxs)(H.Z,{title:"Reject message",closable:!1,visible:Oe,footer:null,centered:!0,children:[(0,ee.jsx)("p",{children:De}),(0,ee.jsx)("div",{className:"d-flex justify-content-end",children:(0,ee.jsx)(z.Z,{type:"primary",className:"mr-2",onClick:function(){return qe(!1)},children:J("close")})})]})]})},Ze=n(45464),xe=n(31741),ge=n(4901),je=n(70816),ye=n.n(je),be={type:"product"};function we(e){var t,n,r,o=e.parentId,u=(e.type,(0,a.$)().t),c=(0,v.useContext)(A._).setIsModalVisible,d=(0,v.useState)(!1),f=(0,s.Z)(d,2),p=f[0],m=f[1],Z=(0,v.useState)(!1),x=(0,s.Z)(Z,2),j=x[0],y=x[1],b=(0,v.useState)(""),w=(0,s.Z)(b,2),S=w[0],N=w[1],q=(0,v.useState)(null),T=(0,s.Z)(q,2),D=T[0],F=T[1],B=(0,v.useState)(null),L=(0,s.Z)(B,2),W=L[0],K=L[1],U=(0,R.I0)(),Y=(0,i.s0)(),Q=(0,R.v9)((function(e){return e.menu}),R.wU).activeMenu,G=(0,R.v9)((function(e){return e.requestModels}),R.wU),te=G.data,ne=G.meta,re=G.loading,oe=G.params,ue=Q.data,ce={search:null===ue||void 0===ue?void 0:ue.search,sort:null===ue||void 0===ue?void 0:ue.sort,column:null===ue||void 0===ue?void 0:ue.column,perPage:null===ue||void 0===ue?void 0:ue.perPage,page:null===ue||void 0===ue?void 0:ue.page,parent_id:o,type:"product"},le=(0,v.useState)([{title:u("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:function(e){return(0,ee.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,ee.jsx)("a",{href:"tel:".concat(null===e||void 0===e?void 0:e.phone),children:null===e||void 0===e?void 0:e.phone})]})}},{title:u("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return ye()(e).format("YYYY-MM-DD HH:mm")}},{title:u("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,t){var n;return(0,ee.jsxs)(_.Z,{children:[null===(n=t.model.translation)||void 0===n?void 0:n.title," ",(0,ee.jsx)(ge.WFu,{})," ",t.data["title[".concat(t.model.translation.locale,"]")]]})}},{title:u("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,t){var n,r;return(0,ee.jsxs)(_.Z,{children:[(0,ee.jsx)(C.Z,{src:(0,Ze.Z)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,ee.jsx)(ge.WFu,{}),(0,ee.jsx)(C.Z,{src:(0,Ze.Z)((null===(n=t.data.images)||void 0===n?void 0:n.at(0).url)||(null===(r=t.data.images)||void 0===r?void 0:r.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:u("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,ee.jsx)("div",{children:"pending"===e?(0,ee.jsx)(k.Z,{color:"blue",children:u(e)}):"canceled"===e?(0,ee.jsx)(k.Z,{color:"error",children:u(e)}):(0,ee.jsx)(k.Z,{color:"cyan",children:u(e)})})}},{title:u("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,t){return(0,ee.jsxs)(_.Z,{children:[(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(h.Z,{}),onClick:function(){return function(e){U((0,O.bL)({url:"product-request/".concat(e.id),id:"product_request_edit",name:u("product.request.edit")})),Y("/product-request/".concat(e.id))}(t)}}),"cancelled"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(g.Z,{}),onClick:function(){y(!0),N(t.status_note)}}),(0,ee.jsx)(z.Z,{icon:(0,ee.jsx)(xe.Z,{}),onClick:function(e){e.stopPropagation(),function(e){U((0,O.bL)({url:"product-request-details/".concat(e.id),id:"product_request_details",name:u("product.request.details")})),Y("/product-request-details/".concat(e.id))}(t)}}),(0,ee.jsx)(z.Z,{onClick:function(){return K(t)},children:u("change.status")})]})}}]),se=(0,s.Z)(le,2),de=se[0],fe=se[1];(0,v.useEffect)((function(){U((0,X.aw)(ce)),U((0,O.A_)(Q))}),[Q.refetch]),(0,E.Z)((function(){U((0,X.aw)(ce))}),[Q.data]);var ve={selectedRowKeys:D,onChange:function(e){F(e)}};return(0,ee.jsxs)(M.Z,{title:u("requests"),extra:(0,ee.jsx)(_.Z,{wrap:!0,children:(0,ee.jsx)(ie.Z,{columns:de,setColumns:fe})}),children:[(0,ee.jsx)(V.Z,{scroll:{x:!0},rowSelection:ve,columns:null===de||void 0===de?void 0:de.filter((function(e){return e.is_show})),dataSource:te,pagination:{pageSize:oe.perPage,page:(null===(t=Q.data)||void 0===t?void 0:t.page)||1,total:ne.total,defaultCurrent:null===(n=Q.data)||void 0===n?void 0:n.page,current:null===(r=Q.data)||void 0===r?void 0:r.page},rowKey:function(e){return e.key},onChange:function(e,t,n){var r=e.pageSize,a=e.current,i=n.field,o=n.order,u=(0,$.Z)(o);U((0,O.nc)({activeMenu:Q,data:(0,l.Z)((0,l.Z)({},Q.data),{},{perPage:r,page:a,column:i,sort:u})}))},loading:re}),W&&(0,ee.jsx)(ae,{orderDetails:W,handleCancel:function(){return K(null)},paramsData:ce,listType:"request"}),(0,ee.jsx)(P.Z,{click:function(){m(!0);var e={status:null===D||void 0===D?void 0:D.at(0).status};J.Z.changeStatus(null===D||void 0===D?void 0:D.at(0).id,e).then((function(){I.Am.success(u("successfully.changed")),U((0,X.aw)(be)),c(!1),F(null)})).finally((function(){return m(!1)}))},text:u("change.status"),setText:F,loading:p}),(0,ee.jsxs)(H.Z,{title:"Reject message",closable:!1,visible:j,footer:null,centered:!0,children:[(0,ee.jsx)("p",{children:S}),(0,ee.jsx)("div",{className:"d-flex justify-content-end",children:(0,ee.jsx)(z.Z,{type:"primary",className:"mr-2",onClick:function(){return y(!1)},children:u("close")})})]})]})}function Ce(){var e,t=(0,a.$)().t,n=(0,i.TH)();return(0,ee.jsxs)(r.Z,{defaultActiveKey:(null===(e=n.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,ee.jsx)(r.Z.TabPane,{tab:t("product.list"),children:(0,ee.jsx)(me,{})},"list"),(0,ee.jsx)(r.Z.TabPane,{tab:t("requests"),children:(0,ee.jsx)(we,{})},"request")]})}},15386:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},o=n(17469),u=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};u.displayName="ClearOutlined";var c=a.forwardRef(u)},55768:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},o=n(17469),u=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};u.displayName="PlusCircleOutlined";var c=a.forwardRef(u)},99587:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),a=n(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},o=n(17469),u=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};u.displayName="TableOutlined";var c=a.forwardRef(u)},72764:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},6492:function(e,t,n){var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t||{},r=n.defaultValue,a=n.value,c=n.onChange,l=n.postState,s=(0,u.default)((function(){return void 0!==a?a:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),d=(0,i.default)(s,2),f=d[0],v=d[1],h=void 0!==a?a:f;l&&(h=l(h));var p=o.useRef(c);p.current=c;var m=o.useCallback((function(e,t){v(e,t),h!==e&&p.current&&p.current(e,h)}),[h,p]),Z=o.useRef(a);return o.useEffect((function(){void 0===a&&a!==Z.current&&v(a),Z.current=a}),[a]),[h,m]};var i=a(n(63038)),o=r(n(47313)),u=a(n(41993))},41993:function(e,t,n){var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.useRef(!1),n=o.useState(e),r=(0,i.default)(n,2),a=r[0],u=r[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,function(e,n){if(n&&t.current)return;u(e)}]};var i=a(n(63038)),o=r(n(47313))},81170:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.composeRef=c,t.fillRef=u,t.supportRef=function(e){var t,n,r=(0,i.isMemo)(e)?e.type.type:e.type;if("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))return!1;if("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))return!1;return!0},t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){return c.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))};var a=r(n(50008)),i=n(96214),o=r(n(57578));function u(e,t){"function"===typeof e?e(t):"object"===(0,a.default)(e)&&e&&"current"in e&&(e.current=t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){u(t,e)}))}}}}]);