"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4634],{94634:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(47313),i=t(97890),l=t(23560),r=t(10976),n=t(77181),c=t(68197),d=t(59624),m=t(66672),u=t(86345),o=t(59491),v=t(2717),h=t(90954),g=t(11216),j=t(73253),x=t(24511),p=t(5764),Z=t(46417);const b=()=>{var e,a;const{t:t}=(0,x.$)(),{activeMenu:b}=(0,v.v9)((e=>e.menu),v.wU),f=(0,v.I0)(),[y]=r.Z.useForm(),k=(0,i.s0)(),[w,I]=(0,s.useState)(null!==(e=b.data)&&void 0!==e&&e.image?[null===(a=b.data)||void 0===a?void 0:a.image]:[]),[q,P]=(0,s.useState)(!1);(0,s.useEffect)((()=>()=>{const e=y.getFieldsValue(!0);f((0,h.nc)({activeMenu:b,data:e}))}),[]);return(0,Z.jsx)(n.Z,{title:t("add.brand"),children:(0,Z.jsxs)(r.Z,{name:"basic",layout:"vertical",onFinish:e=>{var a;const s={...e,active:e.active?1:0,"images[0]":null===(a=w[0])||void 0===a?void 0:a.name};P(!0);const i="catalog/brands";g.Z.create(s).then((()=>{l.Am.success(t("successfully.created")),f((0,h.ph)({...b,nextUrl:i})),k("/".concat(i)),f((0,j.S0)({}))})).finally((()=>P(!1)))},form:y,initialValues:{active:!0,...b.data},children:[(0,Z.jsxs)(c.Z,{gutter:12,children:[(0,Z.jsx)(d.Z,{span:12,children:(0,Z.jsx)(r.Z.Item,{label:t("title"),name:"title",rules:[{required:!0,message:t("required")},{validator:(e,a)=>a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(t("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.trim().length)<2?Promise.reject(new Error(t("must.be.at.least.2"))):Promise.resolve()}],children:(0,Z.jsx)(m.Z,{maxLength:50})})}),(0,Z.jsx)(d.Z,{span:6,children:(0,Z.jsx)(r.Z.Item,{label:t("image"),name:"images",rules:[{required:!(null!==w&&void 0!==w&&w.length),message:t("required")}],children:(0,Z.jsx)(p.Z,{type:"brands",imageList:w,setImageList:I,form:y,multiple:!1})})}),(0,Z.jsx)(d.Z,{span:6,children:(0,Z.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,Z.jsx)(r.Z.Item,{label:t("active"),name:"active",valuePropName:"checked",children:(0,Z.jsx)(u.Z,{})})})})]}),(0,Z.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:q,children:t("submit")})]})})}}}]);