(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4262],{55940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(47313);var l=n(59491),i=n(47515),o=n(23560),a=n(24511),d=n(79492),s=n(46417);function r(e){let{size:t="",onClick:n,type:r="default",...c}=e;const{t:u}=(0,a.$)(),{isDemo:v}=(0,d.Z)();return(0,s.jsx)(l.Z,{size:t,icon:(0,s.jsx)(i.Z,{}),onClick:e=>{v?o.Am.warning(u("cannot.work.demo")):n(e)},type:r,...c})}},53233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var l=n(47313),i=n(56140),o=n(67251),a=n(45705),d=n(86345),s=n(78267),r=n(37388),c=n(59491),u=n(99587),v=n(24511),h=n(46417);const{Text:p}=i.Z,m=e=>{let{columns:t=[],setColumns:n,style:i,size:m="",iconOnly:x}=e;const{t:f}=(0,v.$)(),[y,g]=(0,l.useState)(!1),j=(0,h.jsx)(o.Z,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(o.Z.Item,{children:(0,h.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(d.Z,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(s.Z,{overlay:j,trigger:["click"],onVisibleChange:e=>{g(e)},visible:y,children:(0,h.jsx)(r.Z,{title:f("change.columns"),children:(0,h.jsx)(c.Z,{style:{...i},size:m,icon:(0,h.jsx)(u.Z,{}),children:x?null:f("Columns")})})})}},41481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var l=n(47313),i=n(66672),o=n(16031),a=n(40765),d=n(46417);function s(e){let{handleChange:t,defaultValue:n,resetSearch:s,...r}=e;const[c,u]=(0,l.useState)(n),v=(0,l.useMemo)((()=>(0,o.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(n)}),[s]),(0,d.jsx)(i.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(a.Z,{}),...r})}},89281:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var l=n(47313),i=n(12279),o=n.n(i),a=n(74294),d=n(72652),s=n(46417);const r=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:i,refetchOptions:r=!1,...c}=e;const[u,v]=(0,l.useState)(!1),[h,p]=(0,l.useState)([]),m=(0,l.useMemo)((()=>o()((e=>{p([]),v(!0),t(e).then((e=>{p(e),v(!1)}))}),n)),[t,n]);return(0,s.jsx)(a.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),i&&i()},notFoundContent:u?(0,s.jsx)(d.Z,{size:"small"}):"no results",...c,options:h,onFocus:()=>{h.length&&!r||m("")}})}},13945:(e,t,n)=>{"use strict";function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:()=>l})},17649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(97421);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=e.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},84017:(e,t,n)=>{"use strict";function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const l=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===n?"".concat(l," ").concat(t):"".concat(t," ").concat(l)}n.d(t,{Z:()=>l})},33834:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var l=n(97890),i=n(74776),o=n.n(i);const a=()=>{const e=(0,l.s0)(),t=(0,l.TH)(),n=o().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:(t,l)=>e({search:o().stringify({...n,[t]:l})}),reset:t=>{const l={...n};l[t]&&delete l[t],e({search:o().stringify({...l})})},clear:()=>e({search:o().stringify({})}),merge:t=>e({search:o().stringify({...n,...t})})}}},36311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var l=n(34344);const i={orderExport:(e,t)=>l.Z.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:t,responseType:"blob"})}},24391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var l=n(47313),i=n(36311),o=n(83334),a=n.n(o),d=n(51282),s=n(77181),r=n(9274),c=n(59491),u=n(68197),v=n(59624),h=n(24511),p=n(58821),m=n(57864),x=n(97890),f=n(46417);const y=s.Z.Meta,g=e=>{let{id:t,handleCancel:n}=e;const[o,g]=(0,l.useState)(null),{t:j}=(0,h.$)(),Z=(0,x.s0)();return(0,f.jsx)(f.Fragment,{children:o?(0,f.jsx)(d.Z,{}):(0,f.jsx)(r.Z,{visible:!!t,title:j("selected.download"),closable:!1,handleCancel:n,footer:[(0,f.jsx)(c.Z,{type:"default",onClick:n,children:j("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:j("download.pdf"),onClick:()=>function(e){g(!0),i.Z.orderExport(e).then((t=>{a()(t,"invoice_".concat(e,".pdf"),"application/pdf"),n()})).finally((()=>g(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(y,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(p._JY,{size:80})})})}),(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:j("download.check"),onClick:()=>(e=>{Z("/orders/generate-invoice/".concat(e))})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(y,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(m.ih9,{size:85})})})})]})})})}},72630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var l=n(47313),i=n(73591),o=n(99096),a=n(66204),d=n(45705),s=n(59491),r=n(77181),c=n(37388),u=n(78508),v=n(97890),h=n(31741),p=n(47515),m=n(6986),x=n(15386),f=n(2717),y=n(90954),g=n(24511),j=n(80314),Z=n(22054),w=n(13945),b=n(41481),_=n(84017),C=n(89281),k=n(49986),S=n(53233),M=n(40197),Y=n(80355),H=n(24391),D=n(23560),z=n(55940),N=n(7370),U=n(74580),V=n(69658),O=n(70816),I=n.n(O),A=n(97421),P=n(5958),R=n(3925),T=n(53149),B=n(33834),E=n(27453),L=n(47139),F=n(79637),K=n(46417);const{TabPane:$}=i.Z,{RangePicker:Q}=o.Z;function G(){var e,t,n,o,O,G,W,X,q,J,ee,te,ne,le;const{type:ie}=(0,v.UO)(),oe=(0,f.I0)(),ae=(0,v.s0)(),{t:de}=(0,g.$)(),{defaultCurrency:se}=(0,f.v9)((e=>e.currency),f.wU),{statusList:re}=(0,f.v9)((e=>e.orderStatus),f.wU),[ce,ue]=(0,l.useState)(null),[ve,he]=(0,l.useState)(null),pe=[{name:"all",id:"0",active:!0,sort:0},...re],me=e=>{oe((0,y.bL)({url:"order/details/seller/".concat(e.id),id:"order_details",name:de("order.details")})),ae("/order/details/seller/".concat(e.id))},[xe,fe]=(0,l.useState)([{title:de("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:de("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,K.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:de("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,K.jsx)("div",{className:"cursor-pointer",children:"new"===e?(0,K.jsx)(a.Z,{color:"blue",children:de(e)}):"canceled"===e?(0,K.jsx)(a.Z,{color:"error",children:de(e)}):(0,K.jsx)(a.Z,{color:"cyan",children:de(e)})})},{title:de("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,K.jsx)("div",{children:"ready"===t.status&&"pickup"!==t.delivery_type?null:(0,K.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:de("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",is_show:!0,render:e=>(0,K.jsxs)("div",{className:"text-lowercase",children:[e||0," ",de("products")]})},{title:de("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:(e,t)=>{var n,l;const i=null===(n=t.transaction)||void 0===n?void 0:n.status;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("span",{children:(0,_.Z)(e,se.symbol)}),(0,K.jsx)("br",{}),(0,K.jsx)("span",{className:"progress"===i?"text-primary":"paid"===i?"text-success":"rejected"===i?"text-danger":"text-info",children:null===(l=t.transaction)||void 0===l?void 0:l.status})]})}},{title:de("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var t;return de(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:de("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:e=>I()(e).format("YYYY-MM-DD HH:mm")},{title:de("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date",render:e=>I()(e).format("YYYY-MM-DD HH:mm")},{title:de("options"),is_show:!0,key:"options",render:(e,t)=>(0,K.jsxs)(d.Z,{children:[(0,K.jsx)(s.Z,{icon:(0,K.jsx)(P.Y4r,{}),onClick:e=>{e.stopPropagation(),ue(t.id)}}),(0,K.jsx)(s.Z,{icon:(0,K.jsx)(h.Z,{}),onClick:e=>{e.stopPropagation(),me(t)}}),(0,K.jsx)(z.Z,{icon:(0,K.jsx)(p.Z,{}),onClick:e=>{e.stopPropagation(),Se([t.id]),ye(!0),Ye(!0)}}),(0,K.jsx)(s.Z,{icon:(0,K.jsx)(m.Z,{}),onClick:e=>{e.stopPropagation(),he(t.id)}})]})}]),{setIsModalVisible:ye}=(0,l.useContext)(U._),[ge,je]=(0,l.useState)(!1),{activeMenu:Ze}=(0,f.v9)((e=>e.menu),f.wU),we=(0,B.K)(),[be,_e]=(0,l.useState)(we.values.status||"all"),Ce=(null===(e=Ze.data)||void 0===e?void 0:e.role)||be,[ke,Se]=(0,l.useState)(null),[Me,Ye]=(0,l.useState)(null),[He,De]=(0,l.useState)(!1),[ze,Ne]=(0,l.useState)(I()().subtract(1,"months"),I()()),{orders:Ue,loading:Ve,params:Oe,meta:Ie}=(0,f.v9)((e=>e.orders),f.wU),Ae=Ze.data,Pe={search:null===Ae||void 0===Ae?void 0:Ae.search,sort:null===Ae||void 0===Ae?void 0:Ae.sort,column:null===Ae||void 0===Ae?void 0:Ae.column,perPage:null===Ae||void 0===Ae?void 0:Ae.perPage,page:null===Ae||void 0===Ae?void 0:Ae.page,user_id:null===Ae||void 0===Ae?void 0:Ae.user_id,region_id:null===Ae||void 0===Ae||null===(t=Ae.region)||void 0===t?void 0:t.value,country_id:null===Ae||void 0===Ae||null===(n=Ae.country)||void 0===n?void 0:n.value,city_id:null===Ae||void 0===Ae||null===(o=Ae.city)||void 0===o?void 0:o.value,status:"all"===Ce?void 0:Ce,type:"2",shop_id:null!==(null===(O=Ze.data)||void 0===O?void 0:O.shop_id)?null===(G=Ze.data)||void 0===G?void 0:G.shop_id:null,delivery_type:"scheduled"!==ie?ie:void 0,delivery_date_from:"scheduled"===ie?I()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===ze||void 0===ze||null===(W=ze[0])||void 0===W?void 0:W.format("YYYY-MM-DD"))||null,date_to:(null===ze||void 0===ze||null===(X=ze[1])||void 0===X?void 0:X.format("YYYY-MM-DD"))||null};(0,j.Z)((()=>{oe((0,Z.AU)(Pe))}),[Ae,ze,ie]);const Re=(e,t)=>{oe((0,y.nc)({activeMenu:Ze,data:{...Ae,[t]:e}}))};const Te=()=>{ue(null),he(null)};(0,l.useEffect)((()=>{null!==Ze&&void 0!==Ze&&Ze.refetch&&(0,f.dC)((()=>{oe((0,Z.AU)(Pe)),oe((0,y.A_)(Ze))}))}),[null===Ze||void 0===Ze?void 0:Ze.refetch]),(0,l.useEffect)((()=>{oe((0,M.dX)({}))}),[]);const Be={selectedRowKeys:ke,onChange:e=>{Se(e)}};return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(d.Z,{className:"justify-content-end w-100 mb-3",children:[(0,K.jsxs)(s.Z,{onClick:()=>{je(!0),N.Z.export(Pe).then((e=>{var t;return window.location.href=A.S0+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_name)})).finally((()=>je(!1)))},loading:ge,style:{width:"100%"},children:[(0,K.jsx)(R.bwQ,{className:"mr-2"}),de("export")]}),(0,K.jsx)(s.Z,{onClick:()=>{(0,f.dC)((()=>{oe((0,Z.H5)()),oe((0,y.nc)({activeMenu:Ze,data:null})),oe((0,Z.AU)({status:null,page:null===Ae||void 0===Ae?void 0:Ae.page,perPage:20}))}))},style:{width:"100%"},icon:(0,K.jsx)(x.Z,{}),children:de("clear")})]}),(0,K.jsx)(r.Z,{children:(0,K.jsxs)(d.Z,{wrap:!0,className:"order-filter",children:[(0,K.jsx)(b.Z,{defaultValue:null===Ae||void 0===Ae?void 0:Ae.search,resetSearch:!(null!==Ae&&void 0!==Ae&&Ae.search),placeholder:de("search"),handleChange:e=>Re(e,"search")}),(0,K.jsx)(C.h,{placeholder:de("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return T.Z.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},style:{width:"100%"},onSelect:e=>Re(e.value,"shop_id"),onDeselect:()=>Re(null,"shop_id"),allowClear:!0,value:null===Ae||void 0===Ae?void 0:Ae.shop_id}),(0,K.jsx)(C.h,{placeholder:de("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return k.Z.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.firstname," ").concat(null===e||void 0===e?void 0:e.lastname),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))},onSelect:e=>Re(e.value,"user_id"),onDeselect:()=>Re(null,"user_id"),style:{width:"100%"},value:null===Ae||void 0===Ae?void 0:Ae.user_id}),(0,K.jsx)(C.h,{placeholder:de("select.region"),fetchOptions:e=>{const t={search:e,perPage:10,page:1};return E.Z.get(t).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},onSelect:e=>{oe((0,y.nc)({activeMenu:Ze,data:{...Ae,region:e,country:null,city:null}}))},onDeselect:()=>{oe((0,y.nc)({activeMenu:Ze,data:{...Ae,region:null,country:null,city:null}}))},allowClear:!0,style:{width:"100%"},value:null===Ae||void 0===Ae?void 0:Ae.region,autoComplete:"none"}),(0,K.jsx)(C.h,{placeholder:de("select.country"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,region_id:null===Ze||void 0===Ze||null===(t=Ze.data)||void 0===t||null===(n=t.region)||void 0===n?void 0:n.value};return L.Z.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>{oe((0,y.nc)({activeMenu:Ze,data:{...Ae,country:e,city:null}}))},onDeselect:()=>{oe((0,y.nc)({activeMenu:Ze,data:{...Ae,country:null,city:null}}))},style:{width:"100%"},value:null===Ae||void 0===Ae?void 0:Ae.country,autoComplete:"none",disabled:!(null!==Ae&&void 0!==Ae&&null!==(q=Ae.region)&&void 0!==q&&q.value),allowClear:!0}),(0,K.jsx)(C.h,{placeholder:de("select.city"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,country_id:null===Ze||void 0===Ze||null===(t=Ze.data)||void 0===t||null===(n=t.country)||void 0===n?void 0:n.value};return F.Z.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>oe((0,y.nc)({activeMenu:Ze,data:{...Ae,city:e}})),onDeselect:()=>oe((0,y.nc)({activeMenu:Ze,data:{...Ae,city:null}})),style:{width:"100%"},value:null===Ae||void 0===Ae?void 0:Ae.city,autoComplete:"none",disabled:!(null!==Ae&&void 0!==Ae&&null!==(J=Ae.country)&&void 0!==J&&J.value)||!(null!==Ae&&void 0!==Ae&&null!==(ee=Ae.region)&&void 0!==ee&&ee.value),allowClear:!0}),(0,K.jsx)(Q,{value:ze,onChange:e=>{Re((t=>{var n,l;return{...t,date_from:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(l=e[1])||void 0===l?void 0:l.format("YYYY-MM-DD")}})),Ne(e)},disabledDate:e=>e&&e>I()().endOf("day"),style:{width:"100%"}})]})}),(0,K.jsxs)(r.Z,{children:[(0,K.jsxs)(d.Z,{className:"justify-content-between align-items-start w-100",children:[(0,K.jsx)(i.Z,{onChange:e=>{const t=e;oe((0,y.nc)({activeMenu:Ze,data:{role:t,page:1}})),_e(e),ae("?status=".concat(t))},type:"card",activeKey:Ce,children:pe.filter((e=>!0===e.active)).map((e=>(0,K.jsx)($,{tab:de(e.name)},e.name)))}),(0,K.jsxs)(d.Z,{children:[(0,K.jsx)(c.Z,{title:de("delete.selected"),children:(0,K.jsx)(z.Z,{type:"primary",onClick:()=>{null===ke||0===ke.length?D.Am.warning(de("select.the.product")):(ye(!0),Ye(!1))}})}),(0,K.jsx)(S.Z,{setColumns:fe,columns:xe,iconOnly:!0})]})]}),(0,K.jsx)(u.Z,{scroll:{x:!0},rowSelection:Be,columns:null===xe||void 0===xe?void 0:xe.filter((e=>e.is_show)),dataSource:Ue,loading:Ve,pagination:{pageSize:Oe.perPage,page:(null===(te=Ze.data)||void 0===te?void 0:te.page)||1,total:null===Ie||void 0===Ie?void 0:Ie.total,defaultCurrent:null===(ne=Ze.data)||void 0===ne?void 0:ne.page,current:null===(le=Ze.data)||void 0===le?void 0:le.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:l,current:i}=e,{field:o,order:a}=n,d=(0,w.Z)(a);oe((0,y.nc)({activeMenu:Ze,data:{...Ae,perPage:l,page:i,column:o,sort:d}}))},onRow:e=>({onClick:()=>{me(e)}})})]}),ce&&(0,K.jsx)(Y.Z,{id:ce,handleCancel:Te}),ve&&(0,K.jsx)(H.Z,{id:ve,handleCancel:Te}),(0,K.jsx)(V.Z,{click:()=>{De(!0);const e={...Object.assign({},...ke.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};N.Z.delete(e).then((()=>{D.Am.success(de("successfully.deleted")),ye(!1),oe((0,Z.AU)(Pe)),Ye(null)})).finally((()=>{Se(null),De(!1)}))},text:de(Me?"delete":"all.delete"),loading:He,setText:Se})]})}},80355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var l=n(84697),i=n(83999),o=n(9274),a=n(59491),d=n(77181),s=n(68197),r=n(59624),c=n(66204),u=n(47313),v=n(24511),h=n(7370),p=n(51282),m=n(58821),x=n(2717),f=n(97421),y=n(18478),g=n(17649),j=n(66461),Z=n(22539),w=n(3394),b=n(57864),_=n(70816),C=n.n(_),k=n(46417);const{Step:S}=i.Z,M=()=>(0,k.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -100%)"},children:(0,k.jsx)("img",{src:y,width:"50",alt:"Pin"})}),Y=e=>{var t,n,y;let{id:_,handleCancel:Y}=e;const{t:H}=(0,v.$)(),[D,z]=(0,u.useState)(null),[N,U]=(0,u.useState)(null),[V,O]=(0,u.useState)(null),{settings:I}=(0,x.v9)((e=>e.globalSettings),x.wU),A=(0,g.Z)(I),[P,R]=(0,u.useState)(0),[T,B]=(0,u.useState)({lat:null===A||void 0===A?void 0:A.lat,lng:null===A||void 0===A?void 0:A.lng}),[E,L]=(0,u.useState)([{id:0,name:"new",icon:(0,k.jsx)(j.Z,{})},{id:1,name:"accepted",icon:(0,k.jsx)(m.IQF,{})},{id:2,name:"ready",icon:(0,k.jsx)(Z.TkG,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(w.Akc,{})},{id:4,name:"delivered",icon:(0,k.jsx)(w.kme,{})}]);const{google_map_key:F}=(0,x.v9)((e=>e.globalSettings.settings),x.wU);return(0,u.useEffect)((()=>{z(!0),h.Z.getById(_).then((e=>{var t,n,l,i,o,a,d;let{data:s}=e;L("canceled"===s.status?[{id:1,name:"new",icon:(0,k.jsx)(j.Z,{})},{id:5,name:"canceled",icon:(0,k.jsx)(b.SV5,{})}]:E),R("canceled"===s.status?1:null===(t=E.find((e=>e.name===s.status)))||void 0===t?void 0:t.id);const r=null!==(n=null!==(l=null!==(i=null===s||void 0===s||null===(o=s.address)||void 0===o?void 0:o.location)&&void 0!==i?i:null===s||void 0===s||null===(a=s.my_address)||void 0===a?void 0:a.location)&&void 0!==l?l:null===s||void 0===s||null===(d=s.delivery_point)||void 0===d?void 0:d.location)&&void 0!==n?n:{latitude:null===A||void 0===A?void 0:A.lat,longitude:null===A||void 0===A?void 0:A.lng};B({lat:Number(null===r||void 0===r?void 0:r.latitude),lng:Number(null===r||void 0===r?void 0:r.longitude)}),O("canceled"===s.status?"error":"success"),U(s)})).finally((()=>{z(!1)}))}),[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(o.Z,{visible:!!_,title:H("show.locations"),onCancel:()=>Y(),style:{minWidth:"80vw"},footer:[(0,k.jsx)(a.Z,{type:"default",onClick:Y,children:H("cancel")},"cancelBtn")],children:D?(0,k.jsx)(p.Z,{}):(0,k.jsxs)(d.Z,{children:[(0,k.jsx)(i.Z,{current:P,status:V,className:"mb-5",children:null===E||void 0===E?void 0:E.map(((e,t)=>(0,k.jsx)(S,{title:H(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+t)))}),(0,k.jsxs)(s.Z,{gutter:12,children:[(0,k.jsxs)(r.Z,{span:12,children:[(0,k.jsxs)("h3",{children:[H("order.id")," #",null===N||void 0===N?void 0:N.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(m.D73,{})," ",C()(null===N||void 0===N?void 0:N.created_at).format("YYYY-MM-DD HH:mm")]}),(0,k.jsxs)("p",{children:[H("scheduled.at")," ",null===N||void 0===N?void 0:N.delivery_date]})]}),(0,k.jsxs)(r.Z,{span:12,children:[(0,k.jsxs)("p",{children:[H("status")," ","new"===(null===N||void 0===N?void 0:N.status)?(0,k.jsx)(c.Z,{color:"blue",children:H(null===N||void 0===N?void 0:N.status)}):"canceled"===(null===N||void 0===N?void 0:N.status)?(0,k.jsx)(c.Z,{color:"error",children:H(null===N||void 0===N?void 0:N.status)}):(0,k.jsx)(c.Z,{color:"cyan",children:H(null===N||void 0===N?void 0:N.status)})]}),(0,k.jsxs)("p",{children:[H("payment.method")," ",(0,k.jsx)("strong",{children:null===N||void 0===N||null===(t=N.transaction)||void 0===t||null===(n=t.payment_system)||void 0===n?void 0:n.tag})]}),(0,k.jsxs)("p",{children:[H("order.type")," ",(0,k.jsx)("strong",{children:null===N||void 0===N?void 0:N.delivery_type})]}),(0,k.jsxs)("p",{children:[H("payment.type")," ",(0,k.jsx)("strong",{children:null===N||void 0===N||null===(y=N.transaction)||void 0===y?void 0:y.status})]})]}),(0,k.jsxs)(r.Z,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:H("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsx)(l.ZP,{bootstrapURLKeys:{key:F?f.kr:F},defaultZoom:10,center:null!==T&&void 0!==T?T:A,options:{fullscreenControl:!1},children:(0,k.jsx)(M,{lat:null===T||void 0===T?void 0:T.lat,lng:null===T||void 0===T?void 0:T.lng})})})]})]})]})})})}},15386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var l=n(1413),i=n(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var a=n(17469),d=function(e,t){return i.createElement(a.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:o}))};d.displayName="ClearOutlined";const s=i.forwardRef(d)},99587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var l=n(1413),i=n(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=n(17469),d=function(e,t){return i.createElement(a.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:o}))};d.displayName="TableOutlined";const s=i.forwardRef(d)},83334:function(e,t){var n,l,i;l=[],void 0===(i="function"===typeof(n=function(){return function e(t,n,l){var i,o,a=window,d="application/octet-stream",s=l||d,r=t,c=!n&&!l&&r,u=document.createElement("a"),v=function(e){return String(e)},h=a.Blob||a.MozBlob||a.WebKitBlob||v,p=n||"download";if(h=h.call?h.bind(a):Blob,"true"===String(this)&&(s=(r=[r,s])[0],r=r[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,d)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(r)){if(!(r.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(g(r),p):j(r);s=(r=g(r)).type||d}else if(/([\x80-\xff])/.test(r)){for(var x=0,f=new Uint8Array(r.length),y=f.length;x<y;++x)f[x]=r.charCodeAt(x);r=new h([f],{type:s})}function g(e){for(var t=e.split(/[:;,]/),n=t[1],l=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=l.length,o=0,a=new Uint8Array(i);o<i;++o)a[o]=l.charCodeAt(o);return new h([a],{type:n})}function j(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){a.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(i=r instanceof h?r:new h([r],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(i,p);if(a.URL)j(a.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===v)try{return j("data:"+s+";base64,"+a.btoa(i))}catch(Z){return j("data:"+s+","+encodeURIComponent(i))}(o=new FileReader).onload=function(e){j(this.result)},o.readAsDataURL(i)}return!0}})?n.apply(t,l):n)||(e.exports=i)},18478:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/user.fbe7078c52acde79652d.jpg"},24654:()=>{}}]);