"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[227],{60227:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(4942),i=n(93433),o=n(1413),a=n(29439),l=n(47313),d=n(31741),s=n(55613),u=n(45705),c=n(59491),v=n(77181),f=n(78508),p=n(23560),h=n(69658),x=n(74580),g=n(2717),m=n(90954),Z=n(80314),w=n(13945),j=n(24511),k=n(28305),y=n(27290),_=n(99361),I=n(70816),C=n.n(I),S=n(97890),b=n(53233),M=n(46417);function z(){var e=(0,j.$)().t,t=(0,g.I0)(),n=(0,S.s0)(),I=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:function(r){return(0,M.jsxs)("div",{className:"text-hover",onClick:function(){return function(r){t((0,m.bL)({id:"order_details",url:"seller/order/details/".concat(r),name:e("order.details")})),n("/seller/order/details/".concat(r))}(null===r||void 0===r?void 0:r.id)},children:["#",null===r||void 0===r?void 0:r.id]})},sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:function(e){return(0,M.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:function(e){var t,n;return(0,M.jsx)("div",{className:"text-hover",children:null===(t=e.shop)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:function(e){return(0,M.jsx)(s.Z,{disabled:!0,defaultValue:e})}},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return C()(e).format("DD.MM.YYYY")}},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,t){return(0,M.jsx)(u.Z,{children:(0,M.jsx)(c.Z,{type:"primary",icon:(0,M.jsx)(d.Z,{}),onClick:function(){return K(t.id)}})})}}]),z=(0,a.Z)(I,2),P=z[0],Y=z[1],N=(0,l.useContext)(x._).setIsModalVisible,W=(0,l.useState)(null),A=(0,a.Z)(W,2),D=A[0],O=A[1],U=(0,l.useState)(null),V=(0,a.Z)(U,2),E=V[0],K=V[1],L=(0,l.useState)(!1),R=(0,a.Z)(L,2),T=R[0],$=R[1],q=(0,l.useState)(null),B=(0,a.Z)(q,2),F=B[0],G=(B[1],(0,g.v9)((function(e){return e.menu}),g.wU).activeMenu),H=(0,g.v9)((function(e){return e.orderReview}),g.wU),J=H.reviews,Q=H.meta,X=H.loading,ee=H.params;(0,l.useEffect)((function(){G.refetch&&(t((0,y.WI)()),t((0,m.A_)(G)))}),[G.refetch]),(0,Z.Z)((function(){var e=G.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,y.WI)(n))}),[G.data]);var te={id:D,onChange:function(e){O(e)}};return(0,M.jsxs)(v.Z,{title:e("order.reviews"),extra:(0,M.jsx)(u.Z,{wrap:!0,children:(0,M.jsx)(b.Z,{columns:P,setColumns:Y})}),children:[(0,M.jsx)(f.Z,{scroll:{x:!0},rowSelection:te,columns:null===P||void 0===P?void 0:P.filter((function(e){return e.is_show})),dataSource:J,pagination:{pageSize:ee.perPage,page:ee.page,total:Q.total,defaultCurrent:ee.page},rowKey:function(e){return e.id},onChange:function(e,n,r){var i=e.pageSize,o=e.current,a=r.field,l=r.order,d=(0,w.Z)(l);t((0,m.nc)({activeMenu:G,data:{perPage:i,page:o,column:a,sort:d}}))},loading:X}),(0,M.jsx)(h.Z,{click:function(){$(!0);var n=(0,o.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(D.map((function(e,t){return(0,r.Z)({},"ids[".concat(t,"]"),e)}))))));k.Z.delete(n).then((function(){p.Am.success(e("successfully.deleted")),t((0,y.WI)()),N(!1)})).finally((function(){return $(!1)}))},text:e(F?"delete":"all.delete"),setText:O,loading:T}),E&&(0,M.jsx)(_.Z,{id:E,handleCancel:function(){return K(null)}})]})}}}]);