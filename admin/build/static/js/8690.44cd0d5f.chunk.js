"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8690],{68690:function(n,i,l){l.r(i),l.d(i,{default:function(){return m}});var o=l(4942),t=l(29439),u=l(47313),e=l(10976),d=l(7347),a=l(75336),v=l(54872),r=l(2717),c=l(97890),s=l(51282),p=l(90954),f=l(46417);function m(){var n=(0,r.I0)(),i=e.Z.useForm(),l=(0,t.Z)(i,1)[0],m=(0,r.v9)((function(n){return n.menu}),r.wU).activeMenu,h=(0,r.v9)((function(n){return n.formLang}),r.wU).languages,Z=(0,c.UO)().id,g=(0,u.useState)(!1),k=(0,t.Z)(g,2),b=k[0],y=k[1];(0,u.useEffect)((function(){m.refetch&&function(i){y(!0),v.Z.getById(i,{type:"look"}).then((function(i){var t,u,e,d,a,v,r,c,s,f,h,Z=null===i||void 0===i?void 0:i.data,g=(h={},(0,o.Z)(h,"title[".concat(null===Z||void 0===Z||null===(t=Z.translation)||void 0===t?void 0:t.locale,"]"),null===Z||void 0===Z||null===(u=Z.translation)||void 0===u?void 0:u.title),(0,o.Z)(h,"description[".concat(null===Z||void 0===Z||null===(e=Z.translation)||void 0===e?void 0:e.locale,"]"),null===Z||void 0===Z||null===(d=Z.translation)||void 0===d?void 0:d.description),(0,o.Z)(h,"shop",{label:null===Z||void 0===Z||null===(a=Z.shop)||void 0===a||null===(v=a.translation)||void 0===v?void 0:v.title,value:null===Z||void 0===Z||null===(r=Z.shop)||void 0===r?void 0:r.id,key:null===Z||void 0===Z||null===(c=Z.shop)||void 0===c?void 0:c.id}),(0,o.Z)(h,"products",null===Z||void 0===Z||null===(s=Z.products)||void 0===s?void 0:s.map((function(n){var i;return{label:null===n||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title,value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))),(0,o.Z)(h,"image",null===Z||void 0===Z||null===(f=Z.galleries)||void 0===f?void 0:f.map((function(n){return{uid:n.id,name:n.path,url:n.path}}))),(0,o.Z)(h,"active",Boolean(null===Z||void 0===Z?void 0:Z.active)),h);l.setFieldsValue(g),n((0,p.nc)({activeMenu:m,data:g}))})).finally((function(){y(!1),n((0,p.A_)(m))}))}(Z)}),[m.refetch]);return(0,f.jsx)(u.Fragment,{children:b?(0,f.jsx)(s.Z,{}):(0,f.jsx)(d.Z,{form:l,handleSubmit:function(n,i){var l={type:"look",active:Number(n.active),shop_id:n.shop.value,title:(0,a.Z)(h,n,"title"),description:(0,a.Z)(h,n,"description"),products:n.products.map((function(n){return n.value})),images:i.map((function(n){return n.name}))};return v.Z.update(Z,l)}})})}}}]);