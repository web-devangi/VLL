"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2592],{55940:(e,l,i)=>{i.d(l,{Z:()=>r});i(47313);var n=i(59491),a=i(47515),d=i(23560),t=i(24511),o=i(79492),s=i(46417);function r(e){let{size:l="",onClick:i,type:r="default",...v}=e;const{t:u}=(0,t.$)(),{isDemo:c}=(0,o.Z)();return(0,s.jsx)(n.Z,{size:l,icon:(0,s.jsx)(a.Z,{}),onClick:e=>{c?d.Am.warning(u("cannot.work.demo")):i(e)},type:r,...v})}},4014:(e,l,i)=>{function n(e){var l,i;let n=null===e||void 0===e?void 0:e.slice(0,1),a=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,a-1);d=null===(l=d)||void 0===l?void 0:l.replace(/./g,"*");let t=null===e||void 0===e?void 0:e.slice(a-1,e.length);return null===n||void 0===n||null===(i=n.concat(d))||void 0===i?void 0:i.concat(t)}i.d(l,{Z:()=>n})},41481:(e,l,i)=>{i.d(l,{Z:()=>s});var n=i(47313),a=i(66672),d=i(16031),t=i(40765),o=i(46417);function s(e){let{handleChange:l,defaultValue:i,resetSearch:s,...r}=e;const[v,u]=(0,n.useState)(i),c=(0,n.useMemo)((()=>(0,d.debounce)((e=>{l(e)}),800)),[]);return(0,n.useEffect)((()=>{u(i)}),[s]),(0,o.jsx)(a.Z,{value:v,onChange:e=>{u(e.target.value),c(e.target.value)},prefix:(0,o.jsx)(t.Z,{}),...r})}},32592:(e,l,i)=>{i.r(l),i.d(l,{default:()=>H});var n=i(47313),a=i(26824),d=i(66204),t=i(45705),o=i(59491),s=i(77181),r=i(78508),v=i(24511),u=i(80314),c=i(2717),h=i(94291),m=i(90954),p=i(79492),x=i(4014),Z=i(97421),y=i(12019),j=i(47515),g=i(55940),f=i(41481),k=i(10976),w=i(9274),C=i(68197),b=i(59624),_=i(74294);const I=[{label:"new",value:1,key:1},{label:"viewed",value:2,key:2},{label:"excepted",value:3,key:3},{label:"rejected",value:4,key:4}];var S=i(58328),z=i(46417);const E=e=>{var l,i;let{data:a,handleCancel:d,paramsData:t}=e;const{t:s}=(0,v.$)(),[r]=k.Z.useForm(),u=(0,c.I0)(),{activeMenu:p}=(0,c.v9)((e=>e.menu),c.wU),[x,Z]=(0,n.useState)(!1);return(0,z.jsx)(w.Z,{visible:!!a,title:s(null===a||void 0===a?void 0:a.name),onCancel:d,footer:[(0,z.jsx)(o.Z,{type:"primary",onClick:()=>r.submit(),loading:x,children:s("save")}),(0,z.jsx)(o.Z,{type:"default",onClick:d,children:s("cancel")})],children:(0,z.jsx)(k.Z,{form:r,layout:"vertical",onFinish:e=>{var l;Z(!0);const i={...e};S.Z.statusChange(null===a||void 0===a||null===(l=a.invite)||void 0===l?void 0:l.id,i).then((()=>{d(),(0,c.dC)((()=>{u((0,h.EH)(t)),u((0,m.A_)(p))}))})).finally((()=>Z(!1)))},initialValues:{status:null===(i=I.filter((e=>{var l;return e.label===(null===a||void 0===a||null===(l=a.invite)||void 0===l?void 0:l.status)})))||void 0===i?void 0:i[0]},children:(0,z.jsx)(C.Z,{gutter:12,children:(0,z.jsx)(b.Z,{span:24,children:(0,z.jsx)(k.Z.Item,{label:s("status"),name:"status",rules:[{required:!0,message:s("required")}],children:(0,z.jsx)(_.Z,{children:I.map((e=>(0,z.jsx)(_.Z.Option,{value:null===e||void 0===e?void 0:e.value,children:s(null===e||void 0===e?void 0:e.label)},null===e||void 0===e?void 0:e.key)))})})})})})},null===a||void 0===a||null===(l=a.invite)||void 0===l?void 0:l.id)};var D=i(97890);const H=function(){var e,l,i,k;const{t:w}=(0,v.$)(),C=(0,c.I0)(),b=(0,D.s0)(),{isDemo:_}=(0,p.Z)(),{activeMenu:I}=(0,c.v9)((e=>e.menu),c.wU),{deliverymans:S,params:H,loading:M,meta:U}=(0,c.v9)((e=>e.deliveryman),c.wU),{myShop:A}=(0,c.v9)((e=>e.myShop),c.wU),[F,V]=(0,n.useState)(null),[$,q]=(0,n.useState)(null),O={search:null!==(e=null===I||void 0===I||null===(l=I.data)||void 0===l?void 0:l.search)&&void 0!==e?e:null,...H};null!==O&&void 0!==O&&null!==(i=O.search)&&void 0!==i&&i.length||null===O||void 0===O||delete O.search;const K=[{title:w("id"),is_show:!0,dataIndex:"id",key:"id"},{title:w("image"),dataIndex:"img",is_show:!0,render:e=>(0,z.jsx)(a.Z,{width:100,src:Z.bV+e,placeholder:!0,style:{borderRadius:4}})},{title:w("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,l)=>((null===l||void 0===l?void 0:l.firstname)||"")+" "+((null===l||void 0===l?void 0:l.lastname)||"")},{title:w("email"),dataIndex:"email",key:"email",is_show:!0,render:e=>(0,x.Z)(e)},{title:w("status"),dataIndex:"status",key:"status",is_show:!0,render:(e,l)=>{var i,n;const a=null===l||void 0===l||null===(i=l.invitations)||void 0===i||null===(n=i.filter((e=>(null===e||void 0===e?void 0:e.shop_id)===(null===A||void 0===A?void 0:A.id))))||void 0===n?void 0:n[0];return(0,z.jsxs)("div",{children:["new"===(null===a||void 0===a?void 0:a.status)?(0,z.jsx)(d.Z,{color:"blue",children:w(null===a||void 0===a?void 0:a.status)}):"rejected"===(null===a||void 0===a?void 0:a.status)?(0,z.jsx)(d.Z,{color:"error",children:w(null===a||void 0===a?void 0:a.status)}):(0,z.jsx)(d.Z,{color:"cyan",children:w(null===a||void 0===a?void 0:a.status)}),2===(null===A||void 0===A?void 0:A.delivery_type)&&(0,z.jsx)(y.Z,{onClick:()=>q({...l,invite:a})})]})}},{title:w("options"),dataIndex:"options",key:"options",is_show:!1,render:()=>(0,z.jsxs)(t.Z,{children:[(0,z.jsx)(o.Z,{type:"primary",icon:(0,z.jsx)(y.Z,{})}),(0,z.jsx)(g.Z,{icon:(0,z.jsx)(j.Z,{})})]})}];return(0,u.Z)((()=>{C((0,h.EH)(O))}),[null===(k=I.data)||void 0===k?void 0:k.search]),(0,n.useEffect)((()=>{I.refetch&&(0,c.dC)((()=>{C((0,h.EH)(O)),C((0,m.A_)(I))}))}),[I.refetch]),(0,z.jsxs)(n.Fragment,{children:[(0,z.jsxs)(s.Z,{children:[(0,z.jsx)(t.Z,{wrap:!0,size:[14,20],children:(0,z.jsx)(f.Z,{placeholder:w("search"),handleChange:e=>(e=>{const l=I.data;C((0,m.nc)({activeMenu:I,data:{...l,...e}}))})({search:e})})}),2===(null===A||void 0===A?void 0:A.delivery_type)&&(0,z.jsx)(o.Z,{style:{float:"right"},type:"primary",onClick:()=>{C((0,m.bL)({id:"seller-deliverymen-add",url:"seller/deliverymen/add",name:w("add.deliveryman")})),b("add",{state:{paramsData:O}})},children:w("add.deliveryman")})]}),(0,z.jsx)(s.Z,{children:(0,z.jsx)(r.Z,{loading:M,dataSource:S||[],columns:null===K||void 0===K?void 0:K.filter((e=>null===e||void 0===e?void 0:e.is_show)),scroll:{x:!0},rowKey:e=>e.id,pagination:{pageSize:null===U||void 0===U?void 0:U.per_page,page:null===U||void 0===U?void 0:U.current_page,total:null===U||void 0===U?void 0:U.total},onChange:e=>{let{pageSize:l,current:i}=e;const n={...O,perPage:l,page:i};C((0,h.EH)(n))}})}),$&&(0,z.jsx)(E,{data:$,handleCancel:()=>q(null),paramsData:O})]})}}}]);