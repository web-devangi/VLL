"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1064],{32380:function(e,n,t){t.d(n,{o:function(){return d}});var a=t(1413),i=t(29439),r=t(45987),l=t(47313),u=t(84762),s=t(72652),c=t(46417),o=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,m=(0,r.Z)(e,o),v=(0,l.useState)(!1),f=(0,i.Z)(v,2),p=f[0],h=f[1],Z=(0,l.useState)([]),x=(0,i.Z)(Z,2),g=x[0],j=x[1];return(0,c.jsx)(u.Z,(0,a.Z)({treeLine:!0,treeData:p?[]:g,treeDefaultExpandAll:!0,labelInValue:!0,onFocus:function(){g.length&&!d||(h(!0),n().then((function(e){j(e),h(!1)})))},notFoundContent:p?(0,c.jsx)(s.Z,{size:"small"}):"no results"},m))}},73431:function(e,n,t){var a=t(47313),i=t(39180),r=t(2717),l=t(28830),u=t(60535),s=t(46417);n.Z=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.formLang}),r.wU),t=n.languages,c=n.defaultLang;(0,a.useEffect)((function(){u.Z.getAllActive().then((function(n){var t=n.data;e((0,l.dc)(t)),e((0,l.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.ZP.Group,{value:c,onChange:function(n){var t=n.target.value;e((0,l.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,s.jsx)(i.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},81064:function(e,n,t){t.r(n);var a=t(15861),i=t(1413),r=t(29439),l=t(87757),u=t.n(l),s=t(47313),c=t(10976),o=t(77181),d=t(68197),m=t(59624),v=t(66672),f=t(74294),p=t(16124),h=t(86345),Z=t(59491),x=t(23560),g=t(97890),j=t(73431),y=t(52421),b=t(2717),w=t(90954),k=t(47647),I=t(5764),q=t(24511),S=t(32380),L=t(46417);n.default=function(){var e,n,t=(0,q.$)().t,l=(0,g.s0)(),_=(0,b.I0)(),F=(0,b.v9)((function(e){return e.menu}),b.wU),C=F.activeMenu,P=(0,g.TH)().state,A=(0,s.useState)(null!==(e=C.data)&&void 0!==e&&e.image?[null===(n=C.data)||void 0===n?void 0:n.image]:[]),N=(0,r.Z)(A,2),U=N[0],z=N[1],E=(0,s.useState)("main"),O=(0,r.Z)(E,2),V=O[0],D=O[1],M=c.Z.useForm(),T=(0,r.Z)(M,1)[0],B=(0,s.useState)(!1),G=(0,r.Z)(B,2),H=G[0],$=G[1],J=(0,s.useState)(null),K=(0,r.Z)(J,2),Q=K[0],R=K[1],W=(0,b.v9)((function(e){return e.formLang}),b.wU),X=W.defaultLang,Y=W.languages;(0,s.useEffect)((function(){return function(){var e=T.getFieldsValue(!0);_((0,w.nc)({activeMenu:C,data:e}))}}),[]);function ee(){return(ee=(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={perPage:100,type:"main"},e.abrupt("return",k.Z.selectPaginate(n).then((function(e){return e.data.map((function(e){var n,t;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id,type:"main",children:null===(t=e.children)||void 0===t?void 0:t.map((function(e){var n,t;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id,type:"sub_main",children:null===(t=e.children)||void 0===t?void 0:t.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id,disabled:!0,type:"child"}}))}}))}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,L.jsx)(o.Z,{title:null!==P&&void 0!==P&&P.parentId?t("add.sub.category"):t("add.category"),extra:(0,L.jsx)(j.Z,{}),children:(0,L.jsxs)(c.Z,{name:"basic",layout:"vertical",onFinish:function(e){var n,a,r;$(!0);var u=(0,i.Z)((0,i.Z)({},e),{},{type:null!==(n=e.parent_id)&&void 0!==n&&n.value?V:"main",active:Number(e.active),keywords:e.keywords.join(","),parent_id:null===(a=e.parent_id)||void 0===a?void 0:a.value,"images[0]":null===(r=U[0])||void 0===r?void 0:r.name}),s="seller/categories";k.Z.create(u).then((function(){x.Am.success(t("successfully.created")),_((0,w.ph)((0,i.Z)((0,i.Z)({},C),{},{nextUrl:s}))),_((0,w.xo)(C)),l("/".concat(s))})).catch((function(e){return R(e.response.data.params)})).finally((function(){return $(!1)}))},initialValues:(0,i.Z)({active:!0},C.data),form:T,children:[(0,L.jsxs)(d.Z,{gutter:12,children:[(0,L.jsx)(m.Z,{span:12,children:Y.map((function(e,n){return(0,L.jsx)(c.Z.Item,{label:t("name"),name:"title[".concat(e.locale,"]"),help:Q&&Q["title.".concat(X)]?Q["title.".concat(X)][0]:null,validateStatus:Q?"error":"success",rules:[{required:e.locale===X,message:t("required")}],hidden:e.locale!==X,children:(0,L.jsx)(v.Z,{placeholder:t("name")})},e.title+n)}))}),(0,L.jsx)(m.Z,{span:12,children:Y.map((function(e,n){return(0,L.jsx)(c.Z.Item,{label:t("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===X,message:t("required")}],hidden:e.locale!==X,children:(0,L.jsx)(y.Z,{rows:4})},e.locale+n)}))}),(0,L.jsx)(m.Z,{span:12,children:(0,L.jsx)(c.Z.Item,{label:t("keywords"),name:"keywords",rules:[{required:!0,message:t("required")}],children:(0,L.jsx)(f.Z,{mode:"tags",style:{width:"100%"}})})}),(0,L.jsx)(m.Z,{span:12,children:(0,L.jsx)(c.Z.Item,{label:t("parent.category"),name:"parent_id",rules:[{required:!1,message:t("required")}],children:(0,L.jsx)(S.o,{fetchOptions:function(){return ee.apply(this,arguments)},onSelect:function(e,n){var t=(n||{}).type;D("main"===t?"sub_main":"sub_main"===t?"child":"main")},allowClear:!0})})}),(0,L.jsx)(m.Z,{span:12,children:(0,L.jsx)(c.Z.Item,{name:"input",label:t("input"),rules:[{required:!0,message:t("required")}],children:(0,L.jsx)(p.Z,{min:0,parser:function(e){return parseInt(e,10)},max:32767,className:"w-100"})})}),(0,L.jsx)(m.Z,{span:4,children:(0,L.jsx)(c.Z.Item,{label:t("image"),children:(0,L.jsx)(I.Z,{type:"categories",imageList:U,setImageList:z,form:T,multiple:!1})})}),(0,L.jsx)(m.Z,{span:2,children:(0,L.jsx)(c.Z.Item,{label:t("active"),name:"active",valuePropName:"checked",children:(0,L.jsx)(h.Z,{})})})]}),(0,L.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:H,children:t("submit")})]})})}}}]);