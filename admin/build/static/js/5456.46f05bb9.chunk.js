"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5456],{55940:(e,l,t)=>{t.d(l,{Z:()=>u});t(47313);var a=t(59491),n=t(47515),i=t(23560),o=t(24511),s=t(79492),r=t(46417);function u(e){let{size:l="",onClick:t,type:u="default",...d}=e;const{t:c}=(0,o.$)(),{isDemo:v}=(0,s.Z)();return(0,r.jsx)(a.Z,{size:l,icon:(0,r.jsx)(n.Z,{}),onClick:e=>{v?i.Am.warning(c("cannot.work.demo")):t(e)},type:u,...d})}},53233:(e,l,t)=>{t.d(l,{Z:()=>x});var a=t(47313),n=t(56140),i=t(67251),o=t(45705),s=t(86345),r=t(78267),u=t(37388),d=t(59491),c=t(99587),v=t(24511),h=t(46417);const{Text:p}=n.Z,x=e=>{let{columns:l=[],setColumns:t,style:n,size:x="",iconOnly:g}=e;const{t:m}=(0,v.$)(),[Z,f]=(0,a.useState)(!1),j=(0,h.jsx)(i.Z,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,h.jsx)(i.Z.Item,{children:(0,h.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(s.Z,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(r.Z,{overlay:j,trigger:["click"],onVisibleChange:e=>{f(e)},visible:Z,children:(0,h.jsx)(u.Z,{title:m("change.columns"),children:(0,h.jsx)(d.Z,{style:{...n},size:x,icon:(0,h.jsx)(c.Z,{}),children:g?null:m("Columns")})})})}},49655:(e,l,t)=>{t.d(l,{_:()=>u});var a=t(47313),n=t(12279),i=t.n(n),o=t(74294),s=t(72652),r=t(46417);const u=e=>{let{fetchOptions:l,debounceTimeout:t=400,hasMore:n,...u}=e;const[d,c]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),[g,m]=(0,a.useState)(null),[Z,f]=(0,a.useState)(1),j=(0,a.useMemo)((()=>i()((e=>{h([]),m(e),c(!0),l({search:e}).then((e=>{h(e),f(2),c(!1)})).finally((()=>x(!1)))}),t)),[l,t,Z]);return(0,r.jsxs)(o.Z,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const t=e.target;p||t.scrollTop+t.offsetHeight!==t.scrollHeight||n&&(x(!0),t.scrollTo(0,t.scrollHeight),l({search:g,page:Z}).then((e=>{f((e=>e+1)),h([...v,...e])})).finally((()=>x(!1))))},labelInValue:!0,filterOption:!1,onSearch:j,notFoundContent:d?(0,r.jsx)(s.Z,{size:"small"}):"no results",onFocus:()=>{v.length||j("")},...u,children:[v.map(((e,l)=>(0,r.jsx)(o.Z.Option,{value:e.value,children:e.label},l))),p&&(0,r.jsx)(o.Z.Option,{children:(0,r.jsx)(s.Z,{size:"small"})})]})}},89281:(e,l,t)=>{t.d(l,{h:()=>u});var a=t(47313),n=t(12279),i=t.n(n),o=t(74294),s=t(72652),r=t(46417);const u=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:n,refetchOptions:u=!1,...d}=e;const[c,v]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),x=(0,a.useMemo)((()=>i()((e=>{p([]),v(!0),l(e).then((e=>{p(e),v(!1)}))}),t)),[l,t]);return(0,r.jsx)(o.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),n&&n()},notFoundContent:c?(0,r.jsx)(s.Z,{size:"small"}):"no results",...d,options:h,onFocus:()=>{h.length&&!u||x("")}})}},13945:(e,l,t)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{Z:()=>a})},21726:(e,l,t)=>{t.d(l,{Z:()=>Z});var a=t(10976),n=t(66672),i=t(9274),o=t(59491),s=t(47313),r=t(8922),u=t(24511),d=t(2717),c=t(23560),v=t(20503),h=t(8550),p=t(34319),x=t(5170),g=t(89281),m=t(46417);function Z(e){var l,t,Z,f;let{modal:j,handleCancel:y,isVisible:C,paramsData:w}=e;const[b]=a.Z.useForm(),{t:_}=(0,u.$)(),S=(0,d.I0)(),[V,k]=(0,s.useState)(!1),[z,H]=(0,s.useState)("text"),[I,O]=(0,s.useState)(null),[M,F]=(0,s.useState)("");(0,s.useEffect)((()=>{if(null!==j&&void 0!==j&&j.id){switch(H(j.group.type),j.group.type){case"color":F(j.value);break;case"image":O((0,h.Z)(j.value))}b.setFieldsValue(j)}}),[j]);function A(e,l){switch(e){case"color":return l.hex;case"text":return l;case"image":return l.name;default:return""}}return(0,m.jsx)(i.Z,{title:null!==j&&void 0!==j&&j.id?_("edit.extra"):_("add.extra"),visible:C,onCancel:y,footer:[(0,m.jsx)(o.Z,{type:"primary",onClick:()=>b.submit(),loading:V,children:_("save")}),(0,m.jsx)(o.Z,{type:"default",onClick:y,children:_("cancel")})],children:(0,m.jsxs)(a.Z,{name:"extra-form",layout:"vertical",form:b,onFinish:e=>{var l,t;const a={extra_group_id:null!==(l=e.extra_group_id.value)&&void 0!==l?l:e.extra_group_id,value:null!==(t=A(z,e.value))&&void 0!==t?t:e.value};null!==j&&void 0!==j&&j.id?((e,l)=>{k(!0),x.Z.updateValue(e,l).then((()=>{c.Am.success(_("successfully.updated")),y(),S((0,p.pZ)(w))})).finally((()=>{k(!1),b.resetFields()}))})(null===j||void 0===j?void 0:j.id,a):(e=>{k(!0),x.Z.createValue(e).then((()=>{c.Am.success(_("successfully.created")),y(),S((0,p.pZ)(w))})).finally((()=>{k(!1),b.resetFields()}))})(a)},initialValues:{extra_group_id:null!==j&&void 0!==j&&j.group?{label:null===j||void 0===j||null===(l=j.group)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title,value:null===j||void 0===j||null===(Z=j.group)||void 0===Z?void 0:Z.id,key:null===j||void 0===j||null===(f=j.group)||void 0===f?void 0:f.id}:[]},children:[(0,m.jsx)(a.Z.Item,{name:"extra_group_id",label:_("extra.group"),rules:[{required:!0,message:"required"}],children:(0,m.jsx)(g.h,{fetchOptions:e=>{const l={perPage:10,page:1,search:e};return x.Z.getAllGroups(l).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:"".concat(null===e||void 0===e?void 0:e.type,",").concat(null===e||void 0===e?void 0:e.id)}}))))},placeholder:_("select.extra.group"),allowClear:!0,onChange:e=>{var l;H(null===e||void 0===e||null===(l=e.key)||void 0===l?void 0:l.split(",")[0]),b.setFieldsValue({value:""})}})}),(0,m.jsx)(a.Z.Item,{name:"value",label:_("value"),rules:[{required:!0,message:"required"}],children:(e=>{switch(e){case"color":return(0,m.jsx)(r.xS,{onChangeComplete:e=>F(e.hex),color:M,disableAlpha:!0});case"text":return(0,m.jsx)(n.Z,{placeholder:_("enter.extra.value")});case"image":return(0,m.jsx)(v.Z,{type:"extras",image:I,setImage:O,form:b,name:"value"});default:return""}})(z)})]})})}},65456:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});var a=t(47313),n=t(45705),i=t(26824),o=t(59491),s=t(77181),r=t(78508),u=t(12019),d=t(47515),c=t(55768),v=t(23560),h=t(24511),p=t(2717),x=t(34319),g=t(5170),m=t(21726),Z=t(55940),f=t(97421),j=t(90954),y=t(53233),C=t(13945),w=t(80314),b=t(49655),_=t(74580),S=t(69658),V=t(46417);function k(){var e,l,t,k,z,H,I;const{t:O}=(0,h.$)(),M=(0,p.I0)(),{activeMenu:F}=(0,p.v9)((e=>e.menu),p.wU),{extraValues:A,loading:T,meta:N}=(0,p.v9)((e=>e.extraValue),p.wU),{setIsModalVisible:P}=(0,a.useContext)(_._),q={perPage:(null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.perPage)||10,page:(null===F||void 0===F||null===(l=F.data)||void 0===l?void 0:l.page)||1,group_id:(null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.group_id)||null},[E,R]=(0,a.useState)(null),[$,D]=(0,a.useState)(null),[B,G]=(0,a.useState)(!1),[K,U]=(0,a.useState)(null),[W,J]=(0,a.useState)([{title:O("id"),dataIndex:"id",key:"id",is_show:!0},{title:O("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:(e,l)=>{var t,a;return null===l||void 0===l||null===(t=l.group)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title}},{title:O("value"),dataIndex:"value",key:"value",is_show:!0,render:(e,l)=>{var t,a,o;return(0,V.jsxs)(n.Z,{className:"extras",children:["color"===(null===l||void 0===l||null===(t=l.group)||void 0===t?void 0:t.type)?(0,V.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:null===l||void 0===l?void 0:l.value}}):null,"image"===(null===l||void 0===l||null===(a=l.group)||void 0===a?void 0:a.type)?(0,V.jsx)(i.Z,{width:100,src:f.bV+(null===l||void 0===l?void 0:l.value),className:"borderRadius"}):null,"image"===(null===l||void 0===l||null===(o=l.group)||void 0===o?void 0:o.type)?null:(0,V.jsx)("span",{children:null===l||void 0===l?void 0:l.value})]})}},{title:O("options"),is_show:!0,render:e=>(0,V.jsxs)(n.Z,{children:[(0,V.jsx)(o.Z,{type:"primary",icon:(0,V.jsx)(u.Z,{}),onClick:()=>D(e)}),(0,V.jsx)(Z.Z,{type:"primary",danger:!0,icon:(0,V.jsx)(d.Z,{}),onClick:()=>{R([e.id]),P(!0),U(!0)}})]})}]);(0,w.Z)((()=>{M((0,x.pZ)(q))}),[F.data]),(0,a.useEffect)((()=>{F.refetch&&(M((0,x.pZ)(q)),M((0,j.A_)(F)))}),[F.refetch]);const L={selectedRowKeys:E,onChange:e=>{R(e)}};return(0,V.jsxs)(s.Z,{title:O("extra.value"),extra:(0,V.jsxs)(n.Z,{wrap:!0,children:[(0,V.jsx)(b._,{placeholder:O("select.group"),fetchOptions:async function(e){let{search:l,page:t}=e;const a={search:0===(null===l||void 0===l?void 0:l.length)?void 0:l,page:t};return g.Z.getAllGroups(a).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:e.id,key:e.id}}))))},loading:T,style:{minWidth:180},onChange:e=>(e=>{const l=F.data;M((0,j.nc)({activeMenu:F,data:{...l,...e}}))})({group_id:null===e||void 0===e?void 0:e.value}),value:null===(k=F.data)||void 0===k?void 0:k.group_id}),(0,V.jsx)(Z.Z,{icon:(0,V.jsx)(d.Z,{}),onClick:()=>{null===E||0===E.length?v.Am.warning(O("select.the.product")):(P(!0),U(!1))},children:O("delete.selected")}),(0,V.jsx)(o.Z,{type:"primary",icon:(0,V.jsx)(c.Z,{}),onClick:()=>D({}),children:O("add.extra")}),(0,V.jsx)(y.Z,{columns:W,setColumns:J})]}),children:[(0,V.jsx)(r.Z,{scroll:{x:!0},loading:T,columns:null===W||void 0===W?void 0:W.filter((e=>e.is_show)),rowSelection:L,dataSource:A,rowKey:e=>e.id,pagination:{pageSize:10,page:(null===(z=F.data)||void 0===z?void 0:z.page)||1,total:N.total,defaultCurrent:null===(H=F.data)||void 0===H?void 0:H.page,current:null===(I=F.data)||void 0===I?void 0:I.page},onChange:function(e,l,t){const{pageSize:a,current:n}=e,{field:i,order:o}=t,s=(0,C.Z)(o);M((0,j.nc)({activeMenu:F,data:{...F.data,perPage:a,page:n,column:i,sort:s}}))}}),$&&(0,V.jsx)(m.Z,{isVisible:$,modal:$,handleCancel:()=>D(null),paramsData:q}),(0,V.jsx)(S.Z,{click:()=>{G(!0);const e={...Object.assign({},...E.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};g.Z.deleteValue(e).then((()=>{v.Am.success(O("successfully.deleted")),R(null),M((0,x.pZ)(q))})).finally((()=>{P(!1),G(!1),R(null)}))},text:O(K?"delete":"all.delete"),loading:B,setText:R})]})}},55768:(e,l,t)=>{t.d(l,{Z:()=>r});var a=t(1413),n=t(47313);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=t(17469),s=function(e,l){return n.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:l,icon:i}))};s.displayName="PlusCircleOutlined";const r=n.forwardRef(s)},99587:(e,l,t)=>{t.d(l,{Z:()=>r});var a=t(1413),n=t(47313);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=t(17469),s=function(e,l){return n.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:l,icon:i}))};s.displayName="TableOutlined";const r=n.forwardRef(s)}}]);