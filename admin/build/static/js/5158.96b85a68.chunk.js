"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5158],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(1413),i=t(45987),l=(t(47313),t(59491)),o=t(47515),u=t(23560),a=t(24511),c=t(79492),s=t(46417),d=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,p=void 0===f?"default":f,h=(0,i.Z)(e,d),m=(0,a.$)().t,Z=(0,c.Z)().isDemo;return(0,s.jsx)(l.Z,(0,r.Z)({size:t,icon:(0,s.jsx)(o.Z,{}),onClick:function(e){Z?u.Am.warning(m("cannot.work.demo")):v(e)},type:p},h))}},53233:function(e,n,t){var r=t(1413),i=t(29439),l=t(47313),o=t(56140),u=t(67251),a=t(45705),c=t(86345),s=t(78267),d=t(37388),v=t(59491),f=t(99587),p=t(24511),h=t(46417),m=o.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,o=e.setColumns,Z=e.style,x=e.size,y=void 0===x?"":x,g=e.iconOnly,j=(0,p.$)().t,C=(0,l.useState)(!1),b=(0,i.Z)(C,2),w=b[0],k=b[1],_=(0,h.jsx)(u.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,h.jsx)(u.Z.Item,{children:(0,h.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));o(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,h.jsx)(s.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:w,children:(0,h.jsx)(d.Z,{title:j("change.columns"),children:(0,h.jsx)(v.Z,{style:(0,r.Z)({},Z),size:y,icon:(0,h.jsx)(f.Z,{}),children:g?null:j("Columns")})})})}},89281:function(e,n,t){t.d(n,{h:function(){return f}});var r=t(1413),i=t(29439),l=t(45987),o=t(47313),u=t(12279),a=t.n(u),c=t(74294),s=t(72652),d=t(46417),v=["fetchOptions","debounceTimeout","onClear","refetchOptions"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,u=void 0===t?400:t,f=e.onClear,p=e.refetchOptions,h=void 0!==p&&p,m=(0,l.Z)(e,v),Z=(0,o.useState)(!1),x=(0,i.Z)(Z,2),y=x[0],g=x[1],j=(0,o.useState)([]),C=(0,i.Z)(j,2),b=C[0],w=C[1],k=(0,o.useMemo)((function(){return a()((function(e){w([]),g(!0),n(e).then((function(e){w(e),g(!1)}))}),u)}),[n,u]);return(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:k,onClear:function(){k(""),f&&f()},notFoundContent:y?(0,d.jsx)(s.Z,{size:"small"}):"no results"},m),{},{options:b,onFocus:function(){b.length&&!h||k("")}}))}},25158:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(4942),i=t(93433),l=t(1413),o=t(29439),u=t(47313),a=t(45705),c=t(26824),s=t(59491),d=t(77181),v=t(78508),f=t(12019),p=t(47515),h=t(55768),m=t(23560),Z=t(24511),x=t(2717),y=t(94311),g=t(30215),j=t(15861),C=t(87757),b=t.n(C),w=t(10976),k=t(66672),_=t(9274),V=t(8922),z=t(20503),S=t(8550),I=t(89281),H=t(46417);function O(e){var n=e.modal,t=e.handleCancel,r=e.onSuccess,i=e.groupId,a=w.Z.useForm(),c=(0,o.Z)(a,1)[0],d=(0,Z.$)().t,v=(0,x.I0)(),f=(0,u.useState)(!1),p=(0,o.Z)(f,2),h=p[0],C=p[1],O=(0,u.useState)("text"),N=(0,o.Z)(O,2),A=N[0],F=N[1],M=(0,u.useState)(null),$=(0,o.Z)(M,2),E=$[0],T=$[1],R=(0,u.useState)(""),q=(0,o.Z)(R,2),B=q[0],P=q[1];(0,u.useEffect)((function(){if(null!==n&&void 0!==n&&n.id){var e,t,r;F(n.group.type);var o=(0,l.Z)((0,l.Z)({},n),{},{property_group_id:{label:null===n||void 0===n||null===(e=n.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n||null===(r=n.group)||void 0===r?void 0:r.id},value:n.value});switch(n.group.type){case"color":P(n.value);break;case"image":T((0,S.Z)(n.value))}c.setFieldsValue(o)}i&&c.setFieldsValue({property_group_id:{value:i}})}),[n,i]);function U(e,n){switch(e){case"color":return n.hex;case"text":return n;case"image":return n.name;default:return""}}function D(){return D=(0,j.Z)(b().mark((function e(n){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={perPage:10,active:1,search:n},e.abrupt("return",g.Z.getAllGroups(t).then((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n;return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,key:null===e||void 0===e?void 0:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}return(0,H.jsx)(_.Z,{title:null!==n&&void 0!==n&&n.id?d("edit.property"):d("add.property"),visible:!!n,onCancel:t,footer:[(0,H.jsx)(s.Z,{type:"primary",onClick:function(){return c.submit()},loading:h,children:d("save")}),(0,H.jsx)(s.Z,{type:"default",onClick:t,children:d("cancel")})],children:(0,H.jsxs)(w.Z,{name:"property-form",layout:"vertical",form:c,onFinish:function(e){var i,l={property_group_id:null===e||void 0===e||null===(i=e.property_group_id)||void 0===i?void 0:i.value,value:U(A,e.value)};null!==n&&void 0!==n&&n.id?function(e,n){C(!0),g.Z.updateValue(e,n).then((function(){m.Am.success(d("successfully.updated")),t(),v((0,y.xf)())})).finally((function(){return C(!1)}))}(n.id,l):function(e){C(!0),g.Z.createValue(e).then((function(){m.Am.success(d("successfully.created")),t(),v((0,y.xf)()),r&&r()})).finally((function(){return C(!1)}))}(l)},children:[(0,H.jsx)(w.Z.Item,{name:"property_group_id",label:d("property.group"),hidden:!!i,rules:[{required:!0,message:""}],children:(0,H.jsx)(I.h,{fetchOptions:function(e){return D.apply(this,arguments)}})}),(0,H.jsx)(w.Z.Item,{name:"value",label:d("value"),rules:[{required:!0,message:""}],children:function(e){switch(e){case"color":return(0,H.jsx)(V.xS,{onChangeComplete:function(e){return P(e.hex)},color:B,disableAlpha:!0});case"text":return(0,H.jsx)(k.Z,{placeholder:d("enter.property.value")});case"image":return(0,H.jsx)(z.Z,{type:"property",image:E,setImage:T,form:c,name:"value"});default:return""}}(A)})]})})}function N(e){var n=e.id,t=e.loading,r=e.handleClose,i=e.text,l=e.click,o=(0,Z.$)().t;return(0,H.jsxs)(_.Z,{closable:!1,visible:!!n,footer:null,centered:!0,children:[(0,H.jsx)("p",{children:i}),(0,H.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,H.jsx)(s.Z,{type:"primary",className:"mr-2",onClick:l,loading:t,children:o("yes")}),(0,H.jsx)(s.Z,{onClick:r,children:o("no")})]})]})}var A=t(55940),F=t(97421),M=t(90954),$=t(53233);function E(){var e=(0,Z.$)().t,n=(0,x.I0)(),t=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,j=(0,x.v9)((function(e){return e.propertyValue}),x.wU),C=j.propertyValues,b=j.loading,w=(0,u.useState)(null),k=(0,o.Z)(w,2),_=k[0],V=k[1],z=(0,u.useState)(null),S=(0,o.Z)(z,2),I=S[0],E=S[1],T=(0,u.useState)(!1),R=(0,o.Z)(T,2),q=R[0],B=R[1],P=(0,u.useState)([{title:e("id"),dataIndex:"id",key:"id",is_show:!0},{title:e("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:function(e,n){var t,r;return null===(t=n.group)||void 0===t||null===(r=t.translation)||void 0===r?void 0:r.title}},{title:e("value"),dataIndex:"value",key:"value",is_show:!0,render:function(e,n){return(0,H.jsxs)(a.Z,{className:"extras",children:["color"===n.group.type?(0,H.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:n.value}}):null,"image"===n.group.type?(0,H.jsx)(c.Z,{width:100,src:F.bV+n.value,className:"borderRadius"}):null,"image"===n.group.type?null:(0,H.jsx)("span",{children:n.value})]})}},{title:e("options"),is_show:!0,render:function(e){var n,t;return(0,H.jsxs)(a.Z,{children:[(0,H.jsx)(s.Z,{type:"primary",icon:(0,H.jsx)(f.Z,{}),onClick:function(){return E(e)},disabled:!(null!==e&&void 0!==e&&null!==(n=e.group)&&void 0!==n&&n.shop_id)}),(0,H.jsx)(A.Z,{type:"primary",danger:!0,icon:(0,H.jsx)(p.Z,{}),onClick:function(){return V([e.id])},disabled:!(null!==e&&void 0!==e&&null!==(t=e.group)&&void 0!==t&&t.shop_id)})]})}}]),U=(0,o.Z)(P,2),D=U[0],G=U[1];return(0,u.useEffect)((function(){t.refetch&&(n((0,y.xf)()),n((0,M.A_)(t)))}),[t.refetch]),(0,H.jsxs)(d.Z,{title:e("property.value"),extra:(0,H.jsxs)(a.Z,{wrap:!0,children:[(0,H.jsx)(s.Z,{type:"primary",icon:(0,H.jsx)(h.Z,{}),onClick:function(){return E({})},children:e("add.property")}),(0,H.jsx)($.Z,{columns:D,setColumns:G})]}),children:[(0,H.jsx)(v.Z,{scroll:{x:!0},loading:b,columns:null===D||void 0===D?void 0:D.filter((function(e){return e.is_show})),dataSource:C,rowKey:function(e){return e.id},pagination:!1}),I&&(0,H.jsx)(O,{modal:I,handleCancel:function(){return E(null)}}),_&&(0,H.jsx)(N,{id:_,click:function(){B(!0);var t=(0,l.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(_.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));g.Z.deleteValue(t).then((function(){m.Am.success(e("successfully.deleted")),V(null),n((0,y.xf)())})).finally((function(){return B(!1)}))},text:e("delete.property"),loading:q,handleClose:function(){return V(null)}})]})}},55768:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(1413),i=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},o=t(17469),u=function(e,n){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:l}))};u.displayName="PlusCircleOutlined";var a=i.forwardRef(u)},99587:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(1413),i=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},o=t(17469),u=function(e,n){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:l}))};u.displayName="TableOutlined";var a=i.forwardRef(u)}}]);