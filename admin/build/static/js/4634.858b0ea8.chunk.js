"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4634],{94634:function(e,t,a){a.r(t);var i=a(1413),n=a(29439),r=a(47313),s=a(97890),l=a(23560),u=a(10976),c=a(77181),d=a(68197),m=a(59624),o=a(66672),v=a(86345),Z=a(59491),h=a(2717),f=a(90954),g=a(11216),j=a(73253),x=a(24511),p=a(5764),b=a(46417);t.default=function(){var e,t,a=(0,x.$)().t,y=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,k=(0,h.I0)(),w=u.Z.useForm(),I=(0,n.Z)(w,1)[0],q=(0,s.s0)(),P=(0,r.useState)(null!==(e=y.data)&&void 0!==e&&e.image?[null===(t=y.data)||void 0===t?void 0:t.image]:[]),E=(0,n.Z)(P,2),F=E[0],L=E[1],S=(0,r.useState)(!1),z=(0,n.Z)(S,2),C=z[0],M=z[1];(0,r.useEffect)((function(){return function(){var e=I.getFieldsValue(!0);k((0,f.nc)({activeMenu:y,data:e}))}}),[]);return(0,b.jsx)(c.Z,{title:a("add.brand"),children:(0,b.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){var t,n=(0,i.Z)((0,i.Z)({},e),{},{active:e.active?1:0,"images[0]":null===(t=F[0])||void 0===t?void 0:t.name});M(!0);var r="catalog/brands";g.Z.create(n).then((function(){l.Am.success(a("successfully.created")),k((0,f.ph)((0,i.Z)((0,i.Z)({},y),{},{nextUrl:r}))),q("/".concat(r)),k((0,j.S0)({}))})).finally((function(){return M(!1)}))},form:I,initialValues:(0,i.Z)({active:!0},y.data),children:[(0,b.jsxs)(d.Z,{gutter:12,children:[(0,b.jsx)(m.Z,{span:12,children:(0,b.jsx)(u.Z.Item,{label:a("title"),name:"title",rules:[{required:!0,message:a("required")},{validator:function(e,t){return t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(a("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(a("must.be.at.least.2"))):Promise.resolve()}}],children:(0,b.jsx)(o.Z,{maxLength:50})})}),(0,b.jsx)(m.Z,{span:6,children:(0,b.jsx)(u.Z.Item,{label:a("image"),name:"images",rules:[{required:!(null!==F&&void 0!==F&&F.length),message:a("required")}],children:(0,b.jsx)(p.Z,{type:"brands",imageList:F,setImageList:L,form:I,multiple:!1})})}),(0,b.jsx)(m.Z,{span:6,children:(0,b.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,b.jsx)(u.Z.Item,{label:a("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(v.Z,{})})})})]}),(0,b.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:C,children:a("submit")})]})})}}}]);