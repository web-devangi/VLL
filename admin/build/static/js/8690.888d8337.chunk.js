"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8690],{68690:(l,i,o)=>{o.r(i),o.d(i,{default:()=>p});var t=o(47313),e=o(10976),n=o(7347),d=o(75336),a=o(54872),u=o(2717),v=o(97890),s=o(51282),r=o(90954),c=o(46417);function p(){const l=(0,u.I0)(),[i]=e.Z.useForm(),{activeMenu:o}=(0,u.v9)((l=>l.menu),u.wU),{languages:p}=(0,u.v9)((l=>l.formLang),u.wU),{id:m}=(0,v.UO)(),[h,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{o.refetch&&(t=>{f(!0),a.Z.getById(t,{type:"look"}).then((t=>{var e,n,d,a,u,v,s,c,p,m;const h=null===t||void 0===t?void 0:t.data,f={["title[".concat(null===h||void 0===h||null===(e=h.translation)||void 0===e?void 0:e.locale,"]")]:null===h||void 0===h||null===(n=h.translation)||void 0===n?void 0:n.title,["description[".concat(null===h||void 0===h||null===(d=h.translation)||void 0===d?void 0:d.locale,"]")]:null===h||void 0===h||null===(a=h.translation)||void 0===a?void 0:a.description,shop:{label:null===h||void 0===h||null===(u=h.shop)||void 0===u||null===(v=u.translation)||void 0===v?void 0:v.title,value:null===h||void 0===h||null===(s=h.shop)||void 0===s?void 0:s.id,key:null===h||void 0===h||null===(c=h.shop)||void 0===c?void 0:c.id},products:null===h||void 0===h||null===(p=h.products)||void 0===p?void 0:p.map((l=>{var i;return{label:null===l||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title,value:null===l||void 0===l?void 0:l.id,key:null===l||void 0===l?void 0:l.id}})),image:null===h||void 0===h||null===(m=h.galleries)||void 0===m?void 0:m.map((l=>({uid:l.id,name:l.path,url:l.path}))),active:Boolean(null===h||void 0===h?void 0:h.active)};i.setFieldsValue(f),l((0,r.nc)({activeMenu:o,data:f}))})).finally((()=>{f(!1),l((0,r.A_)(o))}))})(m)}),[o.refetch]);return(0,c.jsx)(t.Fragment,{children:h?(0,c.jsx)(s.Z,{}):(0,c.jsx)(n.Z,{form:i,handleSubmit:(l,i)=>{const o={type:"look",active:Number(l.active),shop_id:l.shop.value,title:(0,d.Z)(p,l,"title"),description:(0,d.Z)(p,l,"description"),products:l.products.map((l=>l.value)),images:i.map((l=>l.name))};return a.Z.update(m,o)}})})}}}]);