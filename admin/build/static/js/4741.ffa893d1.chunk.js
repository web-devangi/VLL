"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4741],{4014:(s,e,l)=>{function i(s){var e,l;let i=null===s||void 0===s?void 0:s.slice(0,1),d=null===s||void 0===s?void 0:s.lastIndexOf("@"),n=null===s||void 0===s?void 0:s.slice(1,d-1);n=null===(e=n)||void 0===e?void 0:e.replace(/./g,"*");let a=null===s||void 0===s?void 0:s.slice(d-1,s.length);return null===i||void 0===i||null===(l=i.concat(n))||void 0===l?void 0:l.concat(a)}l.d(e,{Z:()=>i})},84017:(s,e,l)=>{function i(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const i=Number(s).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===l?"".concat(i," ").concat(e):"".concat(e," ").concat(i)}l.d(e,{Z:()=>i})},24741:(s,e,l)=>{l.r(e),l.d(e,{default:()=>T});var i=l(47313),d=l(45705),n=l(66204),a=l(26824),o=l(77181),r=l(68197),t=l(59624),c=l(56140),v=l(14133),u=l(83999),x=l(72652),m=l(78508),j=l(45334),h=l(41068),p=l(89720),Z=l(97890),y=l(19742),N=l(2717),f=l(90954),b=l(24511),g=l(84017),_=l(32916),w=l(5958),k=l(58821),z=l(22539),Y=l(70816),B=l.n(Y),I=l(45464),q=l(4014),D=l(79492),M=l(46417);function T(){var s,e,l,Y,T,C,A,F,S,U,G,H,$,J,O,Q,E,K,L,P,R,V,W,X,ss,es,ls,is;const{activeMenu:ds}=(0,N.v9)((s=>s.menu),N.wU),{isDemo:ns}=(0,D.Z)(),{defaultCurrency:as}=(0,N.v9)((s=>s.currency),N.wU),os=ds.data,{t:rs}=(0,b.$)(),{id:ts}=(0,Z.UO)(),cs=(0,N.I0)(),[vs,us]=(0,i.useState)(!1),{statusList:xs}=(0,N.v9)((s=>s.orderStatus),N.wU),ms=[{title:rs("id"),dataIndex:"id",key:"id",render:(s,e)=>{var l;return null===(l=e.stock)||void 0===l?void 0:l.id}},{title:rs("product.name"),dataIndex:"product",key:"product",render:(s,e)=>{var l,i,a,o,r;return(0,M.jsxs)(d.Z,{direction:"vertical",className:"relative",children:[null===(l=e.stock)||void 0===l||null===(i=l.product)||void 0===i||null===(a=i.translation)||void 0===a?void 0:a.title,null===(o=e.stock)||void 0===o||null===(r=o.extras)||void 0===r?void 0:r.map((s=>{var e,l,i;return(0,M.jsxs)(n.Z,{children:[null===(e=s.group)||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,": ",null===(i=s.value)||void 0===i?void 0:i.value]},null===s||void 0===s?void 0:s.id)}))]})}},{title:rs("image"),dataIndex:"img",key:"img",render:(s,e)=>{var l,i;return(0,M.jsx)(a.Z,{src:(0,I.Z)(null===(l=e.stock)||void 0===l||null===(i=l.product)||void 0===i?void 0:i.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:rs("quantity"),dataIndex:"quantity",key:"quantity",render:s=>(0,M.jsx)("span",{children:s})},{title:rs("discount"),dataIndex:"discount",key:"discount",render:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,g.Z)(s,null===as||void 0===as?void 0:as.symbol)}},{title:rs("tax"),dataIndex:"tax",key:"tax",render:s=>(0,g.Z)(s,null===as||void 0===as?void 0:as.symbol)},{title:rs("total.price"),dataIndex:"total_price",key:"total_price",render:(s,e)=>(0,g.Z)(s,null===as||void 0===as?void 0:as.symbol)}];return(0,i.useEffect)((()=>{ds.refetch&&(us(!0),y.Z.getById(ts).then((s=>{let{data:e}=s;cs((0,f.nc)({activeMenu:ds,data:e}))})).finally((()=>{us(!1),cs((0,f.A_)(ds))})))}),[ds.refetch]),(0,M.jsxs)("div",{className:"order_details",children:[(0,M.jsx)(o.Z,{className:"order-details-info",title:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(_.Qyq,{className:"mr-2 icon"}),"".concat(rs("order")," ").concat(null!==os&&void 0!==os&&os.id?"#".concat(null===os||void 0===os?void 0:os.id," "):"")," ",rs("from.order")," ",null===os||void 0===os||null===(s=os.user)||void 0===s?void 0:s.firstname," ",(null===os||void 0===os||null===(e=os.user)||void 0===e?void 0:e.lastname)||""]})}),(0,M.jsxs)(r.Z,{gutter:24,children:[(0,M.jsx)(t.Z,{span:24,children:(0,M.jsx)(o.Z,{children:(0,M.jsxs)(d.Z,{className:"justify-content-between w-100",children:[(0,M.jsxs)(d.Z,{className:"align-items-start",children:[(0,M.jsx)(p.Z,{className:"order-card-icon"}),(0,M.jsxs)("div",{className:"d-flex flex-column",children:[(0,M.jsx)(c.Z.Text,{children:rs("delivery.date")}),vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsxs)(c.Z.Text,{className:"order-card-title",children:[null===os||void 0===os?void 0:os.delivery_date," ",null===os||void 0===os?void 0:os.delivery_time]})]})]}),(0,M.jsxs)(d.Z,{className:"align-items-start",children:[(0,M.jsx)(w.iFN,{className:"order-card-icon"}),(0,M.jsxs)("div",{className:"d-flex flex-column",children:[(0,M.jsx)(c.Z.Text,{children:rs("total.price")}),vs?(0,M.jsx)(v.Z.Button,{size:16,loading:vs}):(0,M.jsx)(c.Z.Text,{className:"order-card-title",children:(0,g.Z)(null===os||void 0===os?void 0:os.total_price,null===as||void 0===as?void 0:as.symbol)})]})]}),(0,M.jsxs)(d.Z,{className:"align-items-start",children:[(0,M.jsx)(w.Dij,{className:"order-card-icon"}),(0,M.jsxs)("div",{className:"d-flex flex-column",children:[(0,M.jsx)(c.Z.Text,{children:rs("messages")}),vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsx)(c.Z.Text,{className:"order-card-title",children:null!==os&&void 0!==os&&os.review?1:0})]})]}),(0,M.jsxs)(d.Z,{className:"align-items-start",children:[(0,M.jsx)(_.Qyq,{className:"order-card-icon"}),(0,M.jsxs)("div",{className:"d-flex flex-column",children:[(0,M.jsx)(c.Z.Text,{children:rs("products")}),vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsx)(c.Z.Text,{className:"order-card-title",children:null===os||void 0===os||null===(l=os.details)||void 0===l?void 0:l.reduce(((s,e)=>s+e.quantity),0)})]})]})]})})}),"canceled"!==(null===os||void 0===os?void 0:os.status)&&(0,M.jsx)(t.Z,{span:24,children:(0,M.jsx)(o.Z,{children:(0,M.jsx)(u.Z,{current:null===xs||void 0===xs?void 0:xs.findIndex((s=>s.name===(null===os||void 0===os?void 0:os.status))),children:null===xs||void 0===xs?void 0:xs.slice(0,-1).map((s=>(0,M.jsx)(u.Z.Step,{title:rs(s.name)},s.id)))})})}),(0,M.jsxs)(t.Z,{span:16,children:[(0,M.jsx)(x.Z,{spinning:vs,children:(0,M.jsx)(o.Z,{style:{minHeight:"200px"},children:(0,M.jsxs)(r.Z,{hidden:vs,className:"mb-3 order_detail",children:[(0,M.jsxs)(t.Z,{span:12,children:[(0,M.jsxs)("div",{children:[rs("created.date.&.time"),":",(0,M.jsxs)("span",{className:"ml-2",children:[(0,M.jsx)(k.yoA,{className:"mr-1"})," ",B()(null===os||void 0===os?void 0:os.created_at).format("YYYY-MM-DD hh:mm")," "]})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("delivery.date.&.time"),":",(0,M.jsxs)("span",{className:"ml-2",children:[(0,M.jsx)(k.yoA,{className:"mr-1"})," ",null===os||void 0===os?void 0:os.delivery_date," ",null===os||void 0===os?void 0:os.delivery_time]})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("payment.status"),":",(0,M.jsx)("span",{className:"ml-2",children:rs(null===os||void 0===os||null===(Y=os.transaction)||void 0===Y?void 0:Y.status)})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("house"),":",(0,M.jsx)("span",{className:"ml-2",children:rs(null===os||void 0===os||null===(T=os.address)||void 0===T?void 0:T.house)})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("floor"),":",(0,M.jsx)("span",{className:"ml-2",children:rs(null===os||void 0===os||null===(C=os.address)||void 0===C?void 0:C.floor)})]})]}),(0,M.jsxs)(t.Z,{span:12,children:[(0,M.jsxs)("div",{children:[rs("status"),":",(0,M.jsx)("span",{className:"ml-2",children:"new"===(null===os||void 0===os?void 0:os.status)?(0,M.jsx)(n.Z,{color:"blue",children:rs(null===os||void 0===os?void 0:os.status)}):"canceled"===(null===os||void 0===os?void 0:os.status)?(0,M.jsx)(n.Z,{color:"error",children:rs(null===os||void 0===os?void 0:os.status)}):(0,M.jsx)(n.Z,{color:"cyan",children:rs(null===os||void 0===os?void 0:os.status)})})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("delivery.type"),":",(0,M.jsx)("span",{className:"ml-2",children:null===os||void 0===os?void 0:os.delivery_type})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("payment.type"),":",(0,M.jsx)("span",{className:"ml-2",children:rs(null===os||void 0===os||null===(A=os.transaction)||void 0===A||null===(F=A.payment_system)||void 0===F?void 0:F.tag)})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("address"),":",(0,M.jsx)("span",{className:"ml-2",children:null===os||void 0===os||null===(S=os.address)||void 0===S?void 0:S.address})]}),(0,M.jsx)("br",{}),(0,M.jsxs)("div",{children:[rs("office"),":",(0,M.jsx)("span",{className:"ml-2",children:null===os||void 0===os||null===(U=os.address)||void 0===U?void 0:U.office})]}),(0,M.jsx)("br",{})]})]})})}),(0,M.jsxs)(o.Z,{className:"w-100 order-table",children:[(0,M.jsx)(m.Z,{scroll:{x:!0},columns:ms,dataSource:(null===(G=ds.data)||void 0===G?void 0:G.details)||[],loading:vs,rowKey:s=>s.id,pagination:!1}),(0,M.jsxs)(d.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,M.jsxs)("div",{children:[(0,M.jsxs)("span",{children:[rs("delivery.fee"),":"]}),(0,M.jsx)("br",{}),(0,M.jsxs)("span",{children:[rs("order.tax"),":"]}),(0,M.jsx)("br",{}),(0,M.jsxs)("span",{children:[rs("product"),":"]}),(0,M.jsx)("br",{}),(0,M.jsxs)("span",{children:[rs("coupon"),":"]}),(0,M.jsx)("br",{}),(0,M.jsxs)("span",{children:[rs("discount"),":"]}),(0,M.jsx)("br",{}),(0,M.jsxs)("h3",{children:[rs("total.price"),":"]})]}),(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,g.Z)(null!==(H=null===os||void 0===os?void 0:os.delivery_fee)&&void 0!==H?H:0,null===as||void 0===as?void 0:as.symbol)}),(0,M.jsx)("br",{}),(0,M.jsx)("span",{children:(0,g.Z)(null===os||void 0===os?void 0:os.total_tax,null===as||void 0===as?void 0:as.symbol)}),(0,M.jsx)("br",{}),(0,M.jsx)("span",{children:(0,g.Z)(null===os||void 0===os?void 0:os.origin_price,null===as||void 0===as?void 0:as.symbol)}),(0,M.jsx)("br",{}),(0,M.jsx)("span",{children:(0,g.Z)(null===os||void 0===os||null===($=os.coupon)||void 0===$?void 0:$.price,null===as||void 0===as?void 0:as.symbol)}),(0,M.jsx)("br",{}),(0,M.jsx)("span",{children:(0,g.Z)(null===os||void 0===os?void 0:os.total_discount,as.symbol)}),(0,M.jsx)("br",{}),(0,M.jsx)("h3",{children:(0,g.Z)(null===os||void 0===os?void 0:os.total_price,as.symbol)})]})]})]})]}),(0,M.jsxs)(t.Z,{span:8,className:"order_info",children:["ready"===(null===os||void 0===os?void 0:os.status)&&"pickup"!==(null===os||void 0===os?void 0:os.delivery_type)&&(0,M.jsx)(o.Z,{title:rs("deliveryman"),children:(null===os||void 0===os?void 0:os.deliveryman)&&(0,M.jsxs)(d.Z,{children:[(0,M.jsx)(j.C,{shape:"square",size:64,src:null===os||void 0===os||null===(J=os.deliveryman)||void 0===J?void 0:J.img}),(0,M.jsxs)("div",{children:[(0,M.jsxs)("h5",{children:[null===os||void 0===os||null===(O=os.deliveryman)||void 0===O?void 0:O.firstname," ",(null===os||void 0===os||null===(Q=os.deliveryman)||void 0===Q?void 0:Q.lastname)||""]}),(0,M.jsxs)("span",{className:"delivery-info",children:[(0,M.jsx)(k.lfG,{}),null===os||void 0===os||null===(E=os.deliveryman)||void 0===E?void 0:E.phone]}),(0,M.jsxs)("div",{className:"delivery-info",children:[(0,M.jsx)("b",{children:(0,M.jsx)(z.ixJ,{size:16})}),(0,M.jsx)("span",{children:ns?(0,q.Z)(null===os||void 0===os||null===(K=os.deliveryman)||void 0===K?void 0:K.email):null===os||void 0===os||null===(L=os.deliveryman)||void 0===L?void 0:L.email})]})]})]})}),!(null===os||void 0===os||!os.username)&&(0,M.jsxs)(o.Z,{title:rs("order.receiver"),children:[(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("name")}),(0,M.jsxs)("span",{className:"description",children:[(0,M.jsx)(k.HHm,{}),null===os||void 0===os?void 0:os.username]})]}),(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("phone")}),(0,M.jsxs)("span",{className:"description",children:[(0,M.jsx)(k.lfG,{}),null===os||void 0===os?void 0:os.phone]})]})]}),(0,M.jsx)(o.Z,{children:(0,M.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[vs?(0,M.jsx)(v.Z.Avatar,{size:64,shape:"square"}):(0,M.jsx)(j.C,{shape:"square",size:64,src:null===os||void 0===os||null===(P=os.user)||void 0===P?void 0:P.img}),(0,M.jsx)("h5",{className:"customer-name",children:vs?(0,M.jsx)(v.Z.Button,{size:20,style:{width:70}}):(null===os||void 0===os||null===(R=os.user)||void 0===R?void 0:R.firstname)+" "+((null===os||void 0===os||null===(V=os.user)||void 0===V?void 0:V.lastname)||"")}),(0,M.jsxs)("div",{className:"customer-info-detail",children:[(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("phone")}),(0,M.jsxs)("span",{className:"description",children:[(0,M.jsx)(k.lfG,{}),vs?(0,M.jsx)(v.Z.Button,{size:16}):(null===os||void 0===os||null===(W=os.user)||void 0===W?void 0:W.phone)||"none"]})]}),(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("email")}),(0,M.jsxs)("span",{className:"description",children:[(0,M.jsx)(z.ixJ,{}),vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsx)(M.Fragment,{children:ns?(0,q.Z)(null===os||void 0===os||null===(X=os.user)||void 0===X?void 0:X.email):null===os||void 0===os||null===(ss=os.user)||void 0===ss?void 0:ss.email})]})]}),(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("registration.date")}),(0,M.jsxs)("span",{className:"description",children:[(0,M.jsx)(k.yoA,{}),vs?(0,M.jsx)(v.Z.Button,{size:16}):B()(null===os||void 0===os||null===(es=os.user)||void 0===es?void 0:es.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("orders.count")}),(0,M.jsx)("span",{className:"description",children:vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsx)(h.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===os||void 0===os||null===(ls=os.user)||void 0===ls?void 0:ls.orders_count)||0})})]}),(0,M.jsxs)("div",{className:"customer-info",children:[(0,M.jsx)("span",{className:"title",children:rs("spent.since.registration")}),(0,M.jsx)("span",{className:"description",children:vs?(0,M.jsx)(v.Z.Button,{size:16}):(0,M.jsx)(h.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,g.Z)(null===os||void 0===os||null===(is=os.user)||void 0===is?void 0:is.orders_sum_price,as.symbol)})})]})]})]})}),(null===os||void 0===os?void 0:os.review)&&!vs&&(0,M.jsx)(o.Z,{title:rs("messages"),children:(0,M.jsxs)("div",{className:"order-message",children:[(0,M.jsx)("span",{className:"message",children:null===os||void 0===os?void 0:os.review.comment}),(0,M.jsx)(d.Z,{className:"w-100 justify-content-end",children:(0,M.jsx)("span",{className:"date",children:B()(null===os||void 0===os?void 0:os.review.created_at).format("YYYY-MM-DD hh:mm")})})]})})]})]})]})}}}]);