"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1756],{91756:(e,s,r)=>{r.r(s),r.d(s,{default:()=>b});var a=r(47313),t=r(97890),l=r(23560),i=r(10976),m=r(77181),n=r(68197),d=r(59624),c=r(66672),o=r(16124),u=r(86345),h=r(59491),p=r(2717),x=r(90954),j=r(24511),Z=r(38758),v=r(84926),f=r(46417);const b=()=>{const{t:e}=(0,j.$)(),{activeMenu:s}=(0,p.v9)((e=>e.menu),p.wU),r=(0,p.I0)(),[b]=i.Z.useForm(),g=(0,t.s0)(),[_,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);r((0,x.nc)({activeMenu:s,data:e}))}),[]);return(0,f.jsx)(m.Z,{title:e("add.email.provider"),className:"h-100",children:(0,f.jsxs)(i.Z,{name:"email-provider-add",layout:"vertical",onFinish:a=>{const t={smtp_auth:a.smtp_auth,smtp_debug:a.smtp_debug,port:a.port,password:a.password,from_to:a.from_to,host:a.host,active:Number(a.active),from_site:a.from_site};w(!0);const i="settings/emailProviders";Z.Z.create(t).then((()=>{l.Am.success(e("successfully.created")),r((0,x.ph)({...s,nextUrl:i})),g("/".concat(i)),r((0,v.z)())})).finally((()=>w(!1)))},form:b,initialValues:{smtp_debug:!0,smtp_auth:!0,active:!0,...s.data},className:"d-flex flex-column h-100",children:[(0,f.jsxs)(n.Z,{gutter:12,children:[(0,f.jsx)(d.Z,{span:12,children:(0,f.jsx)(i.Z.Item,{rules:[{required:!0,message:e("required")},{type:"email",message:e("invalid.email")}],label:e("email"),name:"from_to",children:(0,f.jsx)(c.Z,{placeholder:"Email"})})}),(0,f.jsx)(d.Z,{span:12,children:(0,f.jsx)(i.Z.Item,{rules:[{required:!0,message:e("required")},{type:"string",min:6,message:e("min.6.letters")}],label:e("password"),name:"password",normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,f.jsx)(c.Z.Password,{})})}),(0,f.jsx)(d.Z,{span:12,children:(0,f.jsx)(i.Z.Item,{rules:[{validator:(s,r)=>r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(e("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(e("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(e("required")))}],label:e("host"),name:"host",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(d.Z,{span:12,children:(0,f.jsx)(i.Z.Item,{rules:[{required:!0,message:e("required")}],label:e("port"),name:"port",children:(0,f.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(d.Z,{span:12,children:(0,f.jsx)(i.Z.Item,{rules:[{required:!0,message:e("required")}],label:e("from.site"),name:"from_site",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(d.Z,{span:8,children:(0,f.jsx)(i.Z.Item,{label:e("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(u.Z,{})})}),(0,f.jsx)(d.Z,{span:8,children:(0,f.jsx)(i.Z.Item,{valuePropName:"checked",label:e("smtp_debug"),name:"smtp_debug",children:(0,f.jsx)(u.Z,{})})}),(0,f.jsx)(d.Z,{span:8,children:(0,f.jsx)(i.Z.Item,{valuePropName:"checked",label:e("smtp_auth"),name:"smtp_auth",children:(0,f.jsx)(u.Z,{})})})]}),(0,f.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,f.jsx)("div",{className:"pb-5",children:(0,f.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:_,children:e("submit")})})})]})})}}}]);