"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4448],{13622:function(n,e,t){t.d(e,{R:function(){return f}});var i=t(1413),r=t(29439),o=t(45987),l=t(47313),u=t(12279),a=t.n(u),c=t(74294),d=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","refetch"],f=function(n){var e=n.fetchOptions,t=n.debounceTimeout,u=void 0===t?400:t,f=n.refetch,p=void 0!==f&&f,h=(0,o.Z)(n,v),m=(0,l.useState)(!1),Z=(0,r.Z)(m,2),y=Z[0],g=Z[1],x=(0,l.useState)([]),b=(0,r.Z)(x,2),j=b[0],w=b[1],k=(0,l.useMemo)((function(){return a()((function(n){w([]),g(!0),e(n).then((function(n){w(n),g(!1)}))}),u)}),[e,u]);return(0,s.jsx)(c.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return k("")},filterOption:!1,onSearch:k,notFoundContent:y?(0,s.jsx)(d.Z,{size:"small"}):"no results"},h),{},{options:j,onFocus:function(){j.length&&!p||k("")}}))}},75336:function(n,e,t){t.d(e,{Z:function(){return o}});var i=t(93433),r=t(4942);function o(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",o=n.map((function(n){return(0,r.Z)({},n.locale,""===e["".concat(t,"[").concat(n.locale,"]")]?void 0:e["".concat(t,"[").concat(n.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(o)))}},64448:function(n,e,t){t.r(e);var i=t(1413),r=t(29439),o=t(47313),l=t(97890),u=t(23560),a=t(10976),c=t(2717),d=t(90954),s=t(24511),v=t(75336),f=t(13719),p=t(94777),h=t(69766),m=t(46417);e.default=function(){var n=(0,s.$)().t,e=(0,c.v9)((function(n){return n.menu}),c.wU).activeMenu,t=(0,c.v9)((function(n){return n.myShop}),c.wU).myShop,Z=(0,c.I0)(),y=a.Z.useForm(),g=(0,r.Z)(y,1)[0],x=(0,l.s0)(),b=(0,c.v9)((function(n){return n.formLang}),c.wU).languages;(0,o.useEffect)((function(){return function(){var n=g.getFieldsValue(!0);Z((0,d.nc)({activeMenu:e,data:n}))}}),[]);return(0,m.jsx)(h.Z,{form:g,handleSubmit:function(r){var o=r.area,l=r.city,a=r.country,s=r.region,h=r.price,m=r.fitting_rooms,y=r.active,g={price:h,fitting_rooms:m,active:Number(y),area_id:null===o||void 0===o?void 0:o.value,city_id:null===l||void 0===l?void 0:l.value,country_id:null===a||void 0===a?void 0:a.value,region_id:null===s||void 0===s?void 0:s.value,address:(0,v.Z)(b,r,"address"),shop_id:null===t||void 0===t?void 0:t.id},j="seller/delivery-price";return f.Z.create(g).then((function(){u.Am.success(n("successfully.created")),(0,c.dC)((function(){Z((0,d.ph)((0,i.Z)((0,i.Z)({},e),{},{nextUrl:j}))),Z((0,p.rf)({}))})),x("/".concat(j))}))}})}},69766:function(n,e,t){t.d(e,{Z:function(){return I}});var i=t(15861),r=t(1413),o=t(45987),l=t(93433),u=t(4942),a=t(29439),c=t(87757),d=t.n(c),s=t(47313),v=t(2717),f=t(97890),p=t(24511),h=t(10976),m=t(68197),Z=t(59624),y=t(77181),g=t(16124),x=t(59491),b=t(13622),j=t(27453),w=t(47139),k=t(79637),F=t(27443),O=t(90954),_=t(13719),S=t(51282),q=t(46417),C=["city","country","region","area"];function I(n){var e=n.form,t=n.handleSubmit,c=(0,p.$)().t,I=(0,v.I0)(),R=(0,f.UO)().id,U=(0,v.v9)((function(n){return n.menu}),v.wU).activeMenu,N=(0,v.v9)((function(n){return n.formLang}),v.wU),M=N.languages,V=N.defaultLang,z=(0,v.v9)((function(n){return n.currency}),v.wU).defaultCurrency,B=(0,s.useState)(!1),P=(0,a.Z)(B,2),E=P[0],L=P[1],T=(0,s.useState)(!1),A=(0,a.Z)(T,2),$=A[0],D=A[1],G=(0,s.useState)({}),H=(0,a.Z)(G,2),J=H[0],K=H[1],Q=J.country,W=J.region,X=J.city;(0,s.useEffect)((function(){return function(){var n=e.getFieldsValue(!0);I((0,O.nc)({activeMenu:U,data:n}))}}),[]),(0,s.useEffect)((function(){U.refetch&&R&&Y(R)}),[U.refetch]);var Y=function(){L(!0),_.Z.getById(R).then((function(n){var t,i,a,c,d,s,v,f,p,h,m=n.data,Z=m.city,y=m.country,g=m.region,x=m.area,b=(0,o.Z)(m,C),j="address[".concat(V,"]"),w={area:{label:null===x||void 0===x||null===(t=x.translation)||void 0===t?void 0:t.title,value:null===x||void 0===x?void 0:x.id},city:{label:null===Z||void 0===Z||null===(i=Z.translation)||void 0===i?void 0:i.title,value:null===Z||void 0===Z?void 0:Z.id},country:{label:null===y||void 0===y||null===(a=y.translation)||void 0===a?void 0:a.title,value:null===y||void 0===y?void 0:y.id},region:{label:null===g||void 0===g||null===(c=g.translation)||void 0===c?void 0:c.title,value:null===g||void 0===g?void 0:g.id}},k=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},function(n){if(null===n||void 0===n||!n.translations)return{};var e=n.translations,t=M.map((function(n){var t,i,r;return r={},(0,u.Z)(r,"title[".concat(n.locale,"]"),null===(t=e.find((function(e){return e.locale===n.locale})))||void 0===t?void 0:t.title),(0,u.Z)(r,"address[".concat(n.locale,"]"),null===(i=e.find((function(e){return e.locale===n.locale})))||void 0===i?void 0:i.address),r}));return Object.assign.apply(Object,[{}].concat((0,l.Z)(t)))}(m)),w),b),{},(h={},(0,u.Z)(h,j,null===(d=m.address)||void 0===d?void 0:d[V]),(0,u.Z)(h,"shop_id",{label:null===m||void 0===m||null===(s=m.shop)||void 0===s||null===(v=s.translation)||void 0===v?void 0:v.title,value:null===m||void 0===m||null===(f=m.shop)||void 0===f?void 0:f.id,key:null===m||void 0===m||null===(p=m.shop)||void 0===p?void 0:p.id}),h));e.setFieldsValue(k),K(w)})).catch((function(n){console.error(n)})).finally((function(){L(!1),I((0,O.A_)(U))}))};function nn(){return(nn=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10},n.abrupt("return",j.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function en(){return(en=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,region_id:null===W||void 0===W?void 0:W.value},n.abrupt("return",w.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function tn(){return(tn=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,country_id:null===Q||void 0===Q?void 0:Q.value},n.abrupt("return",k.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function rn(){return(rn=(0,i.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={search:e,status:1,perPage:10,city_id:null===X||void 0===X?void 0:X.value},n.abrupt("return",F.Z.get(t).then((function(n){return n.data.map((function(n){var e;return{label:(null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title)||"no name",value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return E?(0,q.jsx)(S.Z,{}):(0,q.jsxs)(h.Z,{form:e,name:c(R?"edit.delivery.price":"add.delivery.price"),layout:"vertical",initialValues:(0,r.Z)({clickable:!0},U.data),onFinish:function(n){D(!0),t(n).finally((function(){return D(!1)}))},children:[(0,q.jsxs)(m.Z,{gutter:[24,24],children:[(0,q.jsx)(Z.Z,{span:12,children:(0,q.jsxs)(y.Z,{title:c("deliveryzone"),className:"h-100",children:[(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:c("region"),name:"region",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return nn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{region:n})})),e.resetFields(["city","area","country"])}})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:c("country"),name:"country",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return en.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{country:n})})),e.resetFields(["city","area"])},disabled:!Boolean(null===W||void 0===W?void 0:W.value)})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:c("city"),name:"city",rules:[{required:!1,message:c("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return tn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===Q||void 0===Q?void 0:Q.value),onChange:function(n){K((function(e){return(0,r.Z)((0,r.Z)({},e),{},{city:n})})),e.resetFields(["area"])}})})}),(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:c("area"),name:"area",rules:[{required:!1,message:c("required")}],children:(0,q.jsx)(b.R,{fetchOptions:function(n){return rn.apply(this,arguments)},dropdownRender:function(n){return(0,q.jsx)(q.Fragment,{children:n})},refetch:!0,disabled:!Boolean(null===X||void 0===X?void 0:X.value)})})})]})}),(0,q.jsx)(Z.Z,{span:12,children:(0,q.jsx)(y.Z,{title:c("pricing"),className:"h-100",children:(0,q.jsx)(Z.Z,{span:24,children:(0,q.jsx)(h.Z.Item,{label:"".concat(c("price")," (").concat(null===z||void 0===z?void 0:z.symbol,")"),name:"price",rules:[{required:!0,message:c("required")}],children:(0,q.jsx)(g.Z,{className:"w-100"})})})})})]}),(0,q.jsx)("br",{}),(0,q.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,q.jsx)("div",{className:"pb-5",children:(0,q.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:$,children:c("submit")})})})]})}}}]);