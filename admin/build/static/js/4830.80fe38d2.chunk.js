"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4830],{14830:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(4942),i=t(93433),o=t(1413),a=t(29439),u=t(47313),s=t(31741),d=t(47515),l=t(55613),c=t(45705),f=t(59491),v=t(77181),h=t(78508),p=t(23560),x=t(69658),g=t(74580),m=t(2717),Z=t(90954),j=t(80314),w=t(13945),k=t(24511),C=t(94765),_=t(27290),y=t(27266),b=t(70816),S=t.n(b),I=t(97890),N=t(55940),z=t(53233),M=t(46417);function P(){var e=(0,k.$)().t,n=(0,m.I0)(),t=(0,I.s0)(),b=(0,u.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:function(r){return(0,M.jsxs)("div",{className:"text-hover",onClick:function(){return function(r){n((0,Z.bL)({id:"order_details",url:"order/details/".concat(r),name:e("order.details")})),t("/order/details/".concat(r))}(r.id)},children:["#",r.id]})},sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:function(r){return(0,M.jsxs)("div",{className:"text-hover",onClick:function(){return i=r,n((0,Z.bL)({url:"/users/user/".concat(i.uuid),id:"user_info",name:e("user.info")})),void t("/users/user/".concat(i.uuid),{state:{user_id:i.id}});var i},children:[null===r||void 0===r?void 0:r.firstname," ",(null===r||void 0===r?void 0:r.lastname)||""]})}},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:function(r){var i;return(0,M.jsx)("div",{className:"text-hover",onClick:function(){return i=r,n((0,Z.bL)({id:"edit-shop",url:"shop/".concat(i.uuid),name:e("edit.shop")})),void t("/shop/".concat(i.uuid));var i},children:null===r||void 0===r||null===(i=r.translation)||void 0===i?void 0:i.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:function(e){return(0,M.jsx)(l.Z,{disabled:!0,defaultValue:e})}},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return S()(e).format("DD.MM.YYYY")}},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,M.jsxs)(c.Z,{children:[(0,M.jsx)(f.Z,{type:"primary",icon:(0,M.jsx)(s.Z,{}),onClick:function(){return R(n.id)}}),(0,M.jsx)(N.Z,{icon:(0,M.jsx)(d.Z,{}),onClick:function(){U([n.id]),L(!0),J(!0)}})]})}}]),P=(0,a.Z)(b,2),Y=P[0],A=P[1],L=(0,u.useContext)(g._).setIsModalVisible,W=(0,u.useState)(null),D=(0,a.Z)(W,2),O=D[0],U=D[1],V=(0,u.useState)(null),E=(0,a.Z)(V,2),K=E[0],R=E[1],T=(0,u.useState)(!1),$=(0,a.Z)(T,2),q=$[0],B=$[1],F=(0,u.useState)(null),G=(0,a.Z)(F,2),H=G[0],J=G[1],Q=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,X=(0,m.v9)((function(e){return e.orderReview}),m.wU),ee=X.reviews,ne=X.meta,te=X.loading,re=X.params;(0,u.useEffect)((function(){Q.refetch&&(n((0,_.WN)()),n((0,Z.A_)(Q)))}),[Q.refetch]),(0,j.Z)((function(){var e=Q.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,_.WN)(t))}),[Q.data]);var ie={id:O,onChange:function(e){U(e)}};return(0,M.jsxs)(v.Z,{title:e("order.reviews"),extra:(0,M.jsxs)(c.Z,{wrap:!0,children:[(0,M.jsx)(N.Z,{size:"",onClick:function(){null===O||0===O.length?p.Am.warning(e("select.the.product")):(L(!0),J(!1))},children:e("delete.selected")}),(0,M.jsx)(z.Z,{columns:Y,setColumns:A})]}),children:[(0,M.jsx)(h.Z,{scroll:{x:!0},rowSelection:ie,columns:null===Y||void 0===Y?void 0:Y.filter((function(e){return e.is_show})),dataSource:ee,pagination:{pageSize:re.perPage,page:re.page,total:ne.total,defaultCurrent:re.page},rowKey:function(e){return e.id},onChange:function(e,t,r){var i=e.pageSize,o=e.current,a=r.field,u=r.order,s=(0,w.Z)(u);n((0,Z.nc)({activeMenu:Q,data:{perPage:i,page:o,column:a,sort:s}}))},loading:te}),(0,M.jsx)(x.Z,{click:function(){B(!0);var t=(0,o.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(O.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));C.Z.delete(t).then((function(){p.Am.success(e("successfully.deleted")),n((0,_.WN)()),L(!1)})).finally((function(){return B(!1)}))},text:e(H?"delete":"all.delete"),setText:U,loading:q}),K&&(0,M.jsx)(y.Z,{id:K,handleCancel:function(){return R(null)}})]})}}}]);