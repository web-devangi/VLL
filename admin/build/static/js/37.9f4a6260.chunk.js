(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[37],{97388:function(e,r,n){"use strict";n.d(r,{Z:function(){return Z}});var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(16609),u=n(97421),c=n.p+"static/media/pin.0e41858db80c699cd8a2.png",d=n(31881),m=n.n(d);function p(e){return f.apply(this,arguments)}function f(){return f=(0,t.Z)(s().mark((function e(r){var n,t,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:u.kr,t={latlng:"".concat(null===r||void 0===r?void 0:r.lat,",").concat(null===r||void 0===r?void 0:r.lng),key:n},e.abrupt("return",m().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((function(e){var r;return null===(r=e.data.results[0])||void 0===r?void 0:r.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var h=n(5958),v=n(23560),g=n(24511),x=n(46417);var Z=(0,l.GoogleApiWrapper)({apiKey:u.kr})((function(e){var r=(0,a.useState)(),n=(0,o.Z)(r,2),i=n[0],d=n[1],m=(0,g.$)().t,f=function(){var r=(0,t.Z)(s().mark((function r(n,t,o){var i,a,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=o.latLng,a={lat:i.lat(),lng:i.lng()},e.setLocation(a),r.next=5,p(a,u.kr);case 5:l=r.sent,e.setAddress(l);case 7:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}(),Z=function(){var r=(0,t.Z)(s().mark((function r(n){var t,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng},e.setLocation(t),r.next=4,p(t,u.kr);case 4:o=r.sent,e.setAddress(o);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var r={lat:e.coords.latitude,lng:e.coords.longitude};d(r)}),(function(e){v.Am.warning(m("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){j()}),[]);for(var y=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],b=new e.google.maps.LatLngBounds,w=0;w<y.length;w++)b.extend(y[w]);return(0,x.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,x.jsx)("button",{className:"map-button",type:"button",onClick:function(){j(),i&&Z(i)},children:(0,x.jsx)(h.nDs,{})}),(0,x.jsx)(l.Map,{cursor:"pointer",onClick:f,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,x.jsx)(l.Marker,{position:e.location,icon:{url:c,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13622:function(e,r,n){"use strict";n.d(r,{R:function(){return p}});var t=n(1413),o=n(29439),i=n(45987),s=n(47313),a=n(12279),l=n.n(a),u=n(74294),c=n(72652),d=n(46417),m=["fetchOptions","debounceTimeout","refetch"],p=function(e){var r=e.fetchOptions,n=e.debounceTimeout,a=void 0===n?400:n,p=e.refetch,f=void 0!==p&&p,h=(0,i.Z)(e,m),v=(0,s.useState)(!1),g=(0,o.Z)(v,2),x=g[0],Z=g[1],j=(0,s.useState)([]),y=(0,o.Z)(j,2),b=y[0],w=y[1],P=(0,s.useMemo)((function(){return l()((function(e){w([]),Z(!0),r(e).then((function(e){w(e),Z(!1)}))}),a)}),[r,a]);return(0,d.jsx)(u.Z,(0,t.Z)((0,t.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return P("")},filterOption:!1,onSearch:P,notFoundContent:x?(0,d.jsx)(c.Z,{size:"small"}):"no results"},h),{},{options:b,onFocus:function(){b.length&&!f||P("")}}))}},89281:function(e,r,n){"use strict";n.d(r,{h:function(){return p}});var t=n(1413),o=n(29439),i=n(45987),s=n(47313),a=n(12279),l=n.n(a),u=n(74294),c=n(72652),d=n(46417),m=["fetchOptions","debounceTimeout","onClear","refetchOptions"],p=function(e){var r=e.fetchOptions,n=e.debounceTimeout,a=void 0===n?400:n,p=e.onClear,f=e.refetchOptions,h=void 0!==f&&f,v=(0,i.Z)(e,m),g=(0,s.useState)(!1),x=(0,o.Z)(g,2),Z=x[0],j=x[1],y=(0,s.useState)([]),b=(0,o.Z)(y,2),w=b[0],P=b[1],q=(0,s.useMemo)((function(){return l()((function(e){P([]),j(!0),r(e).then((function(e){P(e),j(!1)}))}),a)}),[r,a]);return(0,d.jsx)(u.Z,(0,t.Z)((0,t.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:q,onClear:function(){q(""),p&&p()},notFoundContent:Z?(0,d.jsx)(c.Z,{size:"small"}):"no results"},v),{},{options:w,onFocus:function(){w.length&&!h||q("")}}))}},17649:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});n(97421);function t(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var r=e.location.split(", ");return{lat:Number(null===r||void 0===r?void 0:r[0]),lng:Number(null===r||void 0===r?void 0:r[1])}}},84017:function(e,r,n){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===n?"".concat(t," ").concat(r):"".concat(r," ").concat(t)}n.d(r,{Z:function(){return t}})},33834:function(e,r,n){"use strict";n.d(r,{K:function(){return l}});var t=n(4942),o=n(1413),i=n(97890),s=n(74776),a=n.n(s),l=function(){var e=(0,i.s0)(),r=(0,i.TH)(),n=a().parse(r.search,{ignoreQueryPrefix:!0});return{values:n,set:function(r,i){return e({search:a().stringify((0,o.Z)((0,o.Z)({},n),{},(0,t.Z)({},r,i)))})},reset:function(r){var t=(0,o.Z)({},n);t[r]&&delete t[r],e({search:a().stringify((0,o.Z)({},t))})},clear:function(){return e({search:a().stringify({})})},merge:function(r){return e({search:a().stringify((0,o.Z)((0,o.Z)({},n),r))})}}}},69096:function(e,r,n){"use strict";n.d(r,{Z:function(){return E}});var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(68197),u=n(59624),c=n(10976),d=n(99096),m=n(25050),p=n(66672),f=n(45705),h=n(59491),v=n(24511),g=n(5764),x=n(89281),Z=n(71927),j=n(90486),y=n(84017),b=n(2717),w=n(70816),P=n.n(w),q=n(26457),k=n(46417);function E(e){var r,n=e.form,i=e.loading,w=e.prev,E=e.locationFrom,I=e.locationTo,_=e.image,C=e.setImage,L=(0,v.$)().t,N=(0,b.v9)((function(e){return e.menu}),b.wU).activeMenu,O=(0,a.useState)(null===N||void 0===N||null===(r=N.data)||void 0===r?void 0:r.type),S=(0,o.Z)(O,2),F=S[0],T=S[1],A=(0,a.useState)(0),z=(0,o.Z)(A,2),M=z[0],R=z[1];function $(){return($=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r},e.abrupt("return",Z.Z.getAll(n).then((function(e){return e.data.map((function(e){return{label:e.type,value:e.id,key:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r},e.abrupt("return",q.Z.getAll(n).then((function(e){var r,n;return null===(r=e.data)||void 0===r||null===(n=r.filter((function(e){return"cash"===e.tag||"wallet"===e.tag})))||void 0===n?void 0:n.map((function(e){return{label:L(e.tag),value:e.id,key:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,a.useEffect)((function(){if(F&&E&&I){var e={"address_from[latitude]":E.lat,"address_from[longitude]":E.lng,"address_to[latitude]":I.lat,"address_to[longitude]":I.lng,type_id:null===F||void 0===F?void 0:F.value};j.Z.calculate(e).then((function(e){var r=e.data;R(r.price)})).catch((function(e){return console.error(e)}))}}),[F,E,I]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.Z,{gutter:24,children:[(0,k.jsx)(u.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:L("type"),name:"type",rules:[{required:!0,message:L("required")}],children:(0,k.jsx)(x.h,{fetchOptions:function(e){return $.apply(this,arguments)},onChange:function(e){T(e)}})})}),(0,k.jsx)(u.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:L("image"),name:"images",rules:[{validator:function(){return 0===(null===_||void 0===_?void 0:_.length)?Promise.reject(new Error(L("required"))):Promise.resolve()}}],children:(0,k.jsx)(g.Z,{type:"languages",imageList:_,setImageList:C,form:n,multiple:!1})})}),(0,k.jsx)(u.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:L("payment.type"),name:"payment_type",rules:[{required:!0,message:L("missing.payment.type")}],children:(0,k.jsx)(x.h,{fetchOptions:function(e){return V.apply(this,arguments)}})})}),(0,k.jsx)(u.Z,{span:12}),(0,k.jsx)(u.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:L("delivery.date"),name:"delivery_date",rules:[{required:!0,message:L("required")}],children:(0,k.jsx)(d.Z,{className:"w-100",placeholder:"",disabledDate:function(e){return P()().add(-1,"days")>=e}})})}),(0,k.jsx)(u.Z,{span:12,children:(0,k.jsx)(c.Z.Item,{label:L("delivery.time"),name:"delivery_time",rules:[{required:!0,message:L("required")}],children:(0,k.jsx)(m.Z,{className:"w-100",format:"HH:mm",placeholder:""})})}),(0,k.jsx)(u.Z,{span:24,children:(0,k.jsx)(c.Z.Item,{label:L("note"),name:"note",rules:[{required:!0,message:L("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(L("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(L("must.be.at.least.2"))):Promise.resolve()}}],children:(0,k.jsx)(p.Z.TextArea,{row:1,maxLength:100})})})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(h.Z,{type:"default",htmlType:"button",onClick:w,children:L("prev")}),(0,k.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:i,disabled:!M,children:L("submit")})]}),(0,k.jsxs)(f.Z,{children:[(0,k.jsxs)("span",{children:[L("total.price"),":"]}),(0,k.jsx)("span",{children:(0,y.Z)(M)})]})]})]})}},35233:function(e,r,n){"use strict";n(47313);var t=n(68197),o=n(59624),i=n(10976),s=n(66672),a=n(16124),l=n(45705),u=n(59491),c=n(24511),d=n(97388),m=n(46417);r.Z=function(e){var r=e.form,n=e.next,p=e.prev,f=e.location,h=e.setLocation,v=(0,c.$)().t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Z,{gutter:24,children:[(0,m.jsxs)(o.Z,{span:12,children:[(0,m.jsx)(i.Z.Item,{label:v("username"),name:"username_to",rules:[{required:!0,message:v("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(v("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(v("must.be.at.least.2"))):Promise.resolve()}}],children:(0,m.jsx)(s.Z,{maxLength:20})}),(0,m.jsx)(i.Z.Item,{label:v("phone"),name:"phone_to",rules:[{required:!0,message:v("required")},{type:"number",max:1e20,message:v("max.length.20")}],children:(0,m.jsx)(a.Z,{className:"w-100",parser:function(e){return parseInt(e,10)},min:0})}),(0,m.jsxs)(t.Z,{gutter:12,children:[(0,m.jsx)(o.Z,{span:8,children:(0,m.jsx)(i.Z.Item,{label:v("house"),name:"house_to",rules:[{required:!0,message:v("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(v("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(v("must.be.at.least.1"))):Promise.resolve()}}],children:(0,m.jsx)(s.Z,{maxLength:10})})}),(0,m.jsx)(o.Z,{span:8,children:(0,m.jsx)(i.Z.Item,{label:v("stage"),name:"stage_to",rules:[{required:!0,message:v("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(v("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(v("must.be.at.least.1"))):Promise.resolve()}}],children:(0,m.jsx)(s.Z,{maxLength:10})})}),(0,m.jsx)(o.Z,{span:8,children:(0,m.jsx)(i.Z.Item,{label:v("room"),name:"room_to",rules:[{required:!0,message:v("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(v("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(v("must.be.at.least.1"))):Promise.resolve()}}],children:(0,m.jsx)(s.Z,{maxLength:10})})})]})]}),(0,m.jsxs)(o.Z,{span:12,children:[(0,m.jsx)(i.Z.Item,{label:v("address"),name:"address_to",rules:[{required:!0,message:v("required")}],children:(0,m.jsx)(s.Z,{})}),(0,m.jsx)(d.Z,{location:f,setLocation:h,setAddress:function(e){return r.setFieldsValue({address_to:e})}})]})]}),(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(u.Z,{type:"default",htmlType:"button",onClick:p,children:v("prev")}),(0,m.jsx)(u.Z,{type:"primary",htmlType:"button",onClick:n,children:v("next")})]})]})}},53456:function(e,r,n){"use strict";var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(68197),u=n(59624),c=n(10976),d=n(66672),m=n(16124),p=n(45705),f=n(59491),h=n(24511),v=n(13622),g=n(97388),x=n(49986),Z=n(46417);r.Z=function(e){var r=e.form,n=e.next,i=e.location,j=e.setLocation,y=(0,h.$)().t,b=(0,a.useState)(null),w=(0,o.Z)(b,2),P=w[0],q=w[1],k=(0,a.useState)([]),E=(0,o.Z)(k,2),I=E[0],_=E[1];function C(){return(C=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r,roles:"user","empty-shop":1},q(!1),e.abrupt("return",x.Z.search(n).then((function(e){return _(e.data),e.data.map((function(e){return{label:[null===e||void 0===e?void 0:e.firstname,null===e||void 0===e?void 0:e.lastname].join(" "),value:e.id,key:e.id}}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(l.Z,{gutter:24,children:[(0,Z.jsxs)(u.Z,{span:12,children:[(0,Z.jsx)(c.Z.Item,{label:y("user"),name:"user_from",rules:[{required:!0,message:y("required")}],children:(0,Z.jsx)(v.R,{fetchOptions:function(e){return C.apply(this,arguments)},refetch:P,onChange:function(e){var n=I.find((function(r){return r.id===e.value}));r.setFieldsValue({username_from:[n.firstname,n.lastname].join(" "),phone_from:n.phone})}})}),(0,Z.jsx)(c.Z.Item,{label:y("username"),name:"username_from",rules:[{required:!0,message:y("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(y("must.be.at.least.2"))):Promise.resolve()}}],children:(0,Z.jsx)(d.Z,{maxLength:20})}),(0,Z.jsx)(c.Z.Item,{label:y("phone"),name:"phone_from",rules:[{required:!0,message:y("required")},{type:"number",max:1e20,message:y("max.length.20")}],children:(0,Z.jsx)(m.Z,{className:"w-100",parser:function(e){return parseInt(e,10)},min:0})}),(0,Z.jsxs)(l.Z,{gutter:12,children:[(0,Z.jsx)(u.Z,{span:8,children:(0,Z.jsx)(c.Z.Item,{label:y("house"),name:"house_from",rules:[{required:!0,message:y("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(y("must.be.at.least.1"))):Promise.resolve()}}],children:(0,Z.jsx)(d.Z,{maxLength:10})})}),(0,Z.jsx)(u.Z,{span:8,children:(0,Z.jsx)(c.Z.Item,{label:y("stage"),name:"stage_from",rules:[{required:!0,message:y("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(y("must.be.at.least.1"))):Promise.resolve()}}],children:(0,Z.jsx)(d.Z,{maxLength:10})})}),(0,Z.jsx)(u.Z,{span:8,children:(0,Z.jsx)(c.Z.Item,{label:y("room"),name:"room_from",rules:[{required:!0,message:y("required")},{validator:function(e,r){return r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<1?Promise.reject(new Error(y("must.be.at.least.1"))):Promise.resolve()}}],children:(0,Z.jsx)(d.Z,{maxLength:10})})})]})]}),(0,Z.jsxs)(u.Z,{span:12,children:[(0,Z.jsx)(c.Z.Item,{label:y("address"),name:"address_from",rules:[{required:!0,message:y("required")}],children:(0,Z.jsx)(d.Z,{})}),(0,Z.jsx)(g.Z,{location:i,setLocation:j,setAddress:function(e){return r.setFieldsValue({address_from:e})}})]})]}),(0,Z.jsx)(p.Z,{children:(0,Z.jsx)(f.Z,{type:"primary",htmlType:"button",onClick:n,children:y("next")})})]})}},29395:function(e,r,n){"use strict";n.d(r,{S:function(){return t}});var t=[{title:"sender.details",content:"First-content"},{title:"receiver.details",content:"Second-content"},{title:"parcel.details",content:"Third-content"}]},25050:function(e,r,n){"use strict";var t=n(87462),o=n(47313),i=n(99096),s=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n},a=i.Z.TimePicker,l=i.Z.RangePicker,u=o.forwardRef((function(e,r){return o.createElement(l,(0,t.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:r}))})),c=o.forwardRef((function(e,r){var n=e.addon,i=e.renderExtraFooter,l=e.popupClassName,u=s(e,["addon","renderExtraFooter","popupClassName"]),c=o.useMemo((function(){return i||(n||void 0)}),[n,i]);return o.createElement(a,(0,t.Z)({},u,{dropdownClassName:l,mode:void 0,ref:r,renderExtraFooter:c}))}));c.displayName="TimePicker",c.RangePicker=u,r.Z=c},24654:function(){}}]);