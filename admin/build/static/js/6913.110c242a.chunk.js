"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6913],{4014:function(i,n,e){function t(i){var n,e,t=null===i||void 0===i?void 0:i.slice(0,1),a=null===i||void 0===i?void 0:i.lastIndexOf("@"),d=null===i||void 0===i?void 0:i.slice(1,a-1);d=null===(n=d)||void 0===n?void 0:n.replace(/./g,"*");var l=null===i||void 0===i?void 0:i.slice(a-1,i.length);return null===t||void 0===t||null===(e=t.concat(d))||void 0===e?void 0:e.concat(l)}e.d(n,{Z:function(){return t}})},16913:function(i,n,e){e.r(n);var t=e(1413),a=e(29439),d=e(47313),l=e(73591),o=e(10976),u=e(77181),s=e(97890),v=e(70816),r=e.n(v),c=e(49986),f=e(51282),m=e(65559),h=e(2717),Z=e(90954),p=e(24511),g=e(45713),x=e(92815),j=e(8550),b=e(94748),w=e(78067),y=e(79492),_=e(4014),k=e(46417),I=l.Z.TabPane;n.default=function(){var i,n=(0,p.$)().t,e=o.Z.useForm(),v=(0,a.Z)(e,1)[0],M=(0,h.v9)((function(i){return i.menu}),h.wU).activeMenu,S=(0,h.I0)(),Y=(0,s.UO)().uuid,z=(0,d.useState)(!1),C=(0,a.Z)(z,2),D=C[0],F=C[1],O=(0,d.useState)("edit"),P=(0,a.Z)(O,2),U=P[0],A=P[1],B=(0,d.useState)([]),E=(0,a.Z)(B,2),K=E[0],T=E[1],V=(0,d.useState)(null),$=(0,a.Z)(V,2),q=$[0],G=$[1],H=null===M||void 0===M||null===(i=M.data)||void 0===i?void 0:i.role,J=(0,y.Z)().isDemo;(0,d.useEffect)((function(){null!==M&&void 0!==M&&M.refetch&&function(i){F(!0),c.Z.getById(i).then((function(i){var n,e,a,d,l=i.data,o=(0,t.Z)((0,t.Z)({},l),{},{image:l.img?(0,j.Z)(l.img):[]});S((0,Z.nc)({activeMenu:M,data:o})),v.setFieldsValue({firstname:l.firstname,lastname:l.lastname,email:J?(0,_.Z)(l.email):l.email,phone:l.phone,birthday:r()(null===l||void 0===l?void 0:l.birthday).format("YYYY-MM-DD"),gender:l.gender,password_confirmation:l.password_confirmation,password:l.password,shop_id:0!==(null===l||void 0===l||null===(n=l.invitations)||void 0===n?void 0:n.length)?null===l||void 0===l||null===(e=l.invitations)||void 0===e?void 0:e.map((function(i){var n,e,t,a;return{label:null===(n=i.shop)||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title,value:null===(t=i.shop)||void 0===t?void 0:t.id,key:null===(a=i.shop)||void 0===a?void 0:a.id}})):void 0}),T(l.img?[(0,j.Z)(l.img)]:[]),G(null===(a=i.data)||void 0===a||null===(d=a.delivery_man_setting)||void 0===d?void 0:d.id)})).finally((function(){F(!1),S((0,Z.A_)(M))}))}(Y)}),[null===M||void 0===M?void 0:M.refetch]);return(0,k.jsx)(u.Z,{title:n("user.settings"),children:D?(0,k.jsx)(f.Z,{}):(0,k.jsxs)(l.Z,{activeKey:U,onChange:function(i){return A(i)},tabPosition:"left",size:"small",children:[(0,k.jsx)(I,{tab:n("edit.user"),children:(0,k.jsx)(m.Z,{data:null===M||void 0===M?void 0:M.data,form:v,image:K,setImage:T,action_type:"edit"})},"edit"),"cook"===H&&(0,k.jsx)(I,{tab:n("orders"),children:(0,k.jsx)(g.Z,{data:null===M||void 0===M?void 0:M.data})},"order"),"deliveryman"===H&&(0,k.jsx)(I,{tab:n("deliveryman"),children:(0,k.jsx)(w.Z,{id:q,data:M.data})},"delivery"),(0,k.jsx)(I,{tab:n("wallet"),children:(0,k.jsx)(x.Z,{data:null===M||void 0===M?void 0:M.data})},"wallet"),(0,k.jsx)(I,{tab:n("password"),children:(0,k.jsx)(b.Z,{data:null===M||void 0===M?void 0:M.data})},"password")]})})}}}]);