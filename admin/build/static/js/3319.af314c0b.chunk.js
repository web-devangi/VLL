"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3319],{55940:(e,t,l)=>{l.d(t,{Z:()=>r});l(47313);var a=l(59491),i=l(47515),n=l(23560),d=l(24511),s=l(79492),o=l(46417);function r(e){let{size:t="",onClick:l,type:r="default",...c}=e;const{t:u}=(0,d.$)(),{isDemo:v}=(0,s.Z)();return(0,o.jsx)(a.Z,{size:t,icon:(0,o.jsx)(i.Z,{}),onClick:e=>{v?n.Am.warning(u("cannot.work.demo")):l(e)},type:r,...c})}},73319:(e,t,l)=>{l.r(t),l.d(t,{default:()=>b});var a=l(47313),i=l(31741),n=l(55613),d=l(45705),s=l(59491),o=l(77181),r=l(78508),c=l(23560),u=l(69658),v=l(74580),m=l(2717),x=l(90954),h=l(80314),p=l(13945),g=l(24511),f=l(28305),w=l(99361),y=l(70816),Z=l.n(y),j=l(97890),k=l(55940),C=l(53233),_=l(20093),S=l(46417);function b(){const{t:e}=(0,g.$)(),t=(0,m.I0)(),l=(0,j.s0)(),[y,b]=(0,a.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:a=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>(a=>{t((0,x.bL)({id:"order_details",url:"order/details/".concat(a),name:e("order.details")})),l("/order/details/".concat(a))})(null===a||void 0===a?void 0:a.id),children:["#",null===a||void 0===a?void 0:a.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,S.jsx)(n.Z,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>Z()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsx)(d.Z,{children:(0,S.jsx)(s.Z,{type:"primary",icon:(0,S.jsx)(i.Z,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:I}=(0,a.useContext)(v._),[z,M]=(0,a.useState)(null),[A,P]=(0,a.useState)(null),[Y,D]=(0,a.useState)(!1),[N,U]=(0,a.useState)(null),{activeMenu:V}=(0,m.v9)((e=>e.menu),m.wU),{reviews:$,meta:E,loading:H,params:K}=(0,m.v9)((e=>e.deliveryboyReview),m.wU),L=V.data,O={sort:null===L||void 0===L?void 0:L.sort,column:null===L||void 0===L?void 0:L.column,perPage:null===L||void 0===L?void 0:L.perPage,page:null===L||void 0===L?void 0:L.page,assign:"deliveryman"};(0,a.useEffect)((()=>{V.refetch&&(t((0,_.C1)(O)),t((0,x.A_)(V)))}),[V.refetch]),(0,h.Z)((()=>{t((0,_.C1)(O))}),[V.data]);const R={id:z,onChange:e=>{M(e)}};return(0,S.jsxs)(o.Z,{title:e("deliveryboy.reviews"),extra:(0,S.jsxs)(d.Z,{wrap:!0,children:[(0,S.jsx)(k.Z,{size:"",onClick:()=>{null===z||0===z.length?c.Am.warning(e("select.the.product")):(I(!0),U(!1))},children:e("delete.selected")}),(0,S.jsx)(C.Z,{columns:y,setColumns:b})]}),children:[(0,S.jsx)(r.Z,{scroll:{x:!0},rowSelection:R,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:$,pagination:{pageSize:K.perPage,page:K.page,total:E.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:i,current:n}=e,{field:d,order:s}=a,o=(0,p.Z)(s);t((0,x.nc)({activeMenu:V,data:{perPage:i,page:n,column:d,sort:o}}))},loading:H}),(0,S.jsx)(u.Z,{click:()=>{D(!0);const l={...Object.assign({},...z.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.Z.delete(l).then((()=>{c.Am.success(e("successfully.deleted")),t((0,_.C1)()),I(!1)})).finally((()=>D(!1)))},text:e(N?"delete":"all.delete"),setText:M,loading:Y}),A&&(0,S.jsx)(w.Z,{id:A,handleCancel:()=>P(null)})]})}}}]);