"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7141],{52008:function(e,n,a){a(47313);n.Z=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},57141:function(e,n,a){a.r(n);var t=a(15861),l=a(1413),s=a(29439),i=a(87757),r=a.n(i),u=a(47313),c=a(97890),d=a(23560),m=a(10976),o=a(77181),f=a(68197),p=a(59624),h=a(74294),Z=a(72652),x=a(66672),y=a(86345),j=a(59491),v=a(2717),b=a(90954),g=a(24511),k=a(78520),q=a(42111),w=(a(52008),a(26672),a(92709),a(46417));n.default=function(){var e=(0,g.$)().t,n=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,a=(0,v.I0)(),i=m.Z.useForm(),I=(0,s.Z)(i,1)[0],N=(0,c.s0)(),_=(0,c.UO)().id,F=(0,u.useState)(!1),C=(0,s.Z)(F,2),z=C[0],S=C[1],U=(0,u.useState)(!1),P=(0,s.Z)(U,2),V=P[0],A=P[1],B=(0,u.useState)([]),E=(0,s.Z)(B,2),M=(E[0],E[1]),O=(0,u.useState)(null),T=(0,s.Z)(O,2),$=T[0],D=T[1];(0,u.useEffect)((function(){return function(){var e=I.getFieldsValue(!0);a((0,b.nc)({activeMenu:n,data:e}))}}),[]);function G(){return(G=(0,t.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.abrupt("return",k.Z.allPayment().then((function(e){var n=e.data.map((function(e){return{label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id}}));M(n)})).finally((function(){return A(!1)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,u.useEffect)((function(){n.refetch&&(function(e){A(!0),k.Z.getById(e).then((function(e){var n=e.data;D({label:n.payment.tag,value:n.payment.id}),I.setFieldsValue((0,l.Z)((0,l.Z)({},n),{},{payment_id:n.payment.tag}))})).finally((function(){return a((0,b.A_)(n))}))}(_),function(){G.apply(this,arguments)}())}),[n.refetch]);return(0,w.jsx)(o.Z,{title:e("edit.payment"),className:"h-100",children:V?(0,w.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,w.jsx)(Z.Z,{size:"large",className:"py-5"})}):(0,w.jsxs)(m.Z,{name:"edit.payment",layout:"vertical",onFinish:function(t){S(!0);var s=(0,l.Z)((0,l.Z)({},t),{},{payment_id:$.value});k.Z.update(_,s).then((function(){var t="seller/payments";d.Am.success(e("successfully.updated")),a((0,b.ph)((0,l.Z)((0,l.Z)({},n),{},{nextUrl:t}))),N("/".concat(t)),a((0,q.BN)())})).finally((function(){return S(!1)}))},form:I,initialValues:(0,l.Z)({status:!0},n.data),className:"d-flex flex-column h-100",children:[(0,w.jsxs)(f.Z,{gutter:12,children:[(0,w.jsx)(p.Z,{span:"cash"===(null===$||void 0===$?void 0:$.label)||"wallet"===(null===$||void 0===$?void 0:$.label)?12:24,children:(0,w.jsx)(m.Z.Item,{label:e("payment"),name:"payment_id",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(h.Z,{notFoundContent:V?(0,w.jsx)(Z.Z,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"cash"===(null===$||void 0===$?void 0:$.label)||"wallet"===(null===$||void 0===$?void 0:$.label)?"":(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{span:12,children:(0,w.jsx)(m.Z.Item,{label:e("client.id"),name:"client_id",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(x.Z,{})})}),(0,w.jsx)(p.Z,{span:12,children:(0,w.jsx)(m.Z.Item,{label:e("secret.id"),name:"secret_id",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(x.Z,{})})}),"Paystack"===(null===$||void 0===$?void 0:$.label)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{span:12,children:(0,w.jsx)(m.Z.Item,{label:e("payment.id"),name:"payment_key",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(x.Z,{})})}),(0,w.jsx)(p.Z,{span:12,children:(0,w.jsx)(m.Z.Item,{label:e("merchant.email"),name:"merchant_email",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(x.Z,{type:"email"})})})]}):""]}),(0,w.jsx)(p.Z,{span:12,children:(0,w.jsx)(m.Z.Item,{label:e("status"),name:"status",valuePropName:"checked",children:(0,w.jsx)(y.Z,{})})})]}),(0,w.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,w.jsx)("div",{className:"pb-5",children:(0,w.jsx)(j.Z,{type:"primary",htmlType:"submit",loading:z,disabled:z,children:e("submit")})})})]})})}}}]);