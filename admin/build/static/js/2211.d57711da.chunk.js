"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2211],{82211:function(l,n,e){e.r(n),e.d(n,{default:function(){return N}});var t=e(1413),i=e(29439),a=e(47313),o=e(2717),s=e(90954),d=e(97890),r=e(24511),c=e(23560),u=e(77181),v=e(83371),m=e(68197),h=e(59624),x=e(93709),p=e(45705),Z=e(59491),j=e(72652),b=e(97421),f=e(71810),y=e(14349),g=e(10976),I=e(9274),q=e(66672),k=e(46417);function w(l){var n=l.data,e=l.handleCancel,o=l.handleOk,s=l.visible,d=(0,r.$)().t,c=g.Z.useForm(),u=(0,i.Z)(c,1)[0],v=(0,a.useState)(!1),x=(0,i.Z)(v,2),p=x[0],j=x[1];return(0,k.jsx)(I.Z,{title:d(n.title),visible:s,onCancel:e,footer:[(0,k.jsx)(Z.Z,{type:"primary",onClick:function(){return u.submit()},loading:p,children:d("save")}),(0,k.jsx)(Z.Z,{type:"default",onClick:e,children:d("cancel")})],children:(0,k.jsx)(g.Z,{layout:"vertical",onFinish:function(l){j(!0);var n=(0,t.Z)((0,t.Z)({},l),{},{status:"canceled"});o(n)},form:u,children:(0,k.jsx)(g.Z.Item,{children:(0,k.jsx)(m.Z,{className:"mt-4",children:(0,k.jsx)(h.Z,{span:24,children:(0,k.jsx)(g.Z.Item,{name:"status_note",label:d("note"),rules:[{validator:function(l,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(d("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(d("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(d("required")))}}],children:(0,k.jsx)(q.Z.TextArea,{maxLength:250,showCount:!0})})})})})})})}var C={type:"product"},N=function(){var l,n,e,g,I,q,N,S,_,E,P,z,A,F,L=(0,o.I0)(),O=(0,d.s0)(),U=(0,r.$)().t,$=(0,d.UO)().id,B=(0,o.v9)((function(l){return l.menu})).activeMenu,M=(0,o.v9)((function(l){return l.formLang}),o.wU).defaultLang,T=(0,a.useState)(!1),V=(0,i.Z)(T,2),D=V[0],G=V[1],H=(0,a.useState)(!1),J=(0,i.Z)(H,2),K=J[0],Q=J[1],R=(0,a.useState)({}),W=(0,i.Z)(R,2),X=W[0],Y=W[1],ll=(0,a.useState)({}),nl=(0,i.Z)(ll,2),el=nl[0],tl=nl[1],il=(0,a.useState)(""),al=(0,i.Z)(il,2),ol=al[0],sl=al[1],dl=(0,a.useState)(!1),rl=(0,i.Z)(dl,2),cl=rl[0],ul=rl[1];function vl(l){Q(!0);var n="catalog/products";y.Z.changeStatus($,l).then((function(){O("/".concat(n),{state:{tab:"request"}}),L((0,s.ph)((0,t.Z)((0,t.Z)({},B),{},{nextUrl:n}))),c.Am.success(U("successfully.changed")),L((0,f.aw)(C))})).finally((function(){ul(!1),Q(!1)}))}(0,a.useEffect)((function(){var l;l=$,G(!0),y.Z.getById(l).then((function(l){var n;Y(l.data.data),tl(l.data.model),sl(null===(n=l.data)||void 0===n?void 0:n.status_note)})).finally((function(){G(!1),L((0,s.A_)(B))}))}),[$]);var ml=X,hl=el;return D?(0,k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,k.jsx)(j.Z,{size:"large",className:"py-5"})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsxs)(v.Z,{bordered:!0,title:U("changed.info"),children:[(0,k.jsx)(v.Z.Item,{label:"".concat(U("title")," (").concat(M,")"),span:3,children:ml["title[".concat(M,"]")]}),(0,k.jsx)(v.Z.Item,{label:"".concat(U("description")," (").concat(M,")"),span:3,children:ml["description[".concat(M,"]")]}),(0,k.jsx)(v.Z.Item,{label:U("shop"),span:1.5,children:null===ml||void 0===ml||null===(l=ml.shop)||void 0===l?void 0:l.translation.title}),(0,k.jsx)(v.Z.Item,{label:U("category"),span:1.5,children:null===ml||void 0===ml||null===(n=ml.category)||void 0===n?void 0:n.label}),(0,k.jsx)(v.Z.Item,{label:U("brand"),span:1.5,children:null===ml||void 0===ml||null===(e=ml.brand)||void 0===e?void 0:e.label}),(0,k.jsx)(v.Z.Item,{label:U("unit"),span:1.5,children:null===ml||void 0===ml||null===(g=ml.unit)||void 0===g?void 0:g.label}),(0,k.jsx)(v.Z.Item,{label:U("images"),span:3,children:(0,k.jsx)(m.Z,{gutter:12,children:null===ml||void 0===ml||null===(I=ml.images)||void 0===I?void 0:I.map((function(l,n){return(0,k.jsx)(h.Z,{children:(0,k.jsx)("img",{width:80,alt:"product",src:l.url})},"image"+n)}))})}),(0,k.jsx)(v.Z.Item,{label:U("tax"),children:null===ml||void 0===ml?void 0:ml.tax}),(0,k.jsx)(v.Z.Item,{label:U("min.quantity"),children:null===ml||void 0===ml?void 0:ml.min_qty}),(0,k.jsx)(v.Z.Item,{label:U("max.quantity"),children:null===ml||void 0===ml?void 0:ml.max_qty})]}),null===ml||void 0===ml||null===(q=ml.stocks)||void 0===q?void 0:q.map((function(l,n){var e;return l?(0,k.jsxs)(v.Z,{bordered:!0,className:"mt-4",children:[(0,k.jsx)(v.Z.Item,{label:U("price"),span:2,children:l.price}),(0,k.jsx)(v.Z.Item,{label:U("quantity"),span:2,children:l.quantity}),null===l||void 0===l||null===(e=l.ids)||void 0===e?void 0:e.map((function(l,n){return(0,k.jsx)(v.Z.Item,{label:null===ml||void 0===ml?void 0:ml.extras[n].label,children:null===l||void 0===l?void 0:l.label},"extra"+n)}))]},"desc"+n):""})),(0,k.jsxs)(v.Z,{bordered:!0,className:"mt-4",title:U("original.info"),children:[(0,k.jsx)(v.Z.Item,{label:"".concat(U("title")," (").concat(M,")"),span:3,column:3,children:null===hl||void 0===hl||null===(N=hl.translation)||void 0===N?void 0:N.title}),(0,k.jsx)(v.Z.Item,{label:"".concat(U("description")," (").concat(M,")"),span:3,column:3,children:null===hl||void 0===hl||null===(S=hl.translation)||void 0===S?void 0:S.description}),(0,k.jsx)(v.Z.Item,{label:U("shop"),span:1.5,column:1.5,children:null===hl||void 0===hl||null===(_=hl.shop)||void 0===_?void 0:_.translation.title}),(0,k.jsx)(v.Z.Item,{label:U("category"),span:1.5,column:1.5,children:null===hl||void 0===hl||null===(E=hl.category)||void 0===E?void 0:E.translation.title}),(0,k.jsx)(v.Z.Item,{label:U("brand"),span:1.5,column:1.5,children:null===hl||void 0===hl||null===(P=hl.brand)||void 0===P?void 0:P.title}),(0,k.jsx)(v.Z.Item,{label:U("unit"),span:1.5,column:1.5,children:null===hl||void 0===hl||null===(z=hl.unit)||void 0===z?void 0:z.translation.title}),(0,k.jsx)(v.Z.Item,{label:U("images"),span:3,column:3,children:(0,k.jsx)(m.Z,{gutter:12,children:null===hl||void 0===hl||null===(A=hl.galleries)||void 0===A?void 0:A.map((function(l,n){return(0,k.jsx)(h.Z,{children:(0,k.jsx)("img",{width:80,alt:"product",src:b.bV+l.path})},"image"+n)}))})}),(0,k.jsx)(v.Z.Item,{span:3,column:3,label:U("tax"),children:null===hl||void 0===hl?void 0:hl.tax}),(0,k.jsx)(v.Z.Item,{span:3,column:3,label:U("min.quantity"),children:null===hl||void 0===hl?void 0:hl.min_qty}),(0,k.jsx)(v.Z.Item,{span:3,column:3,label:U("max.quantity"),children:null===hl||void 0===hl?void 0:hl.max_qty})]}),null===hl||void 0===hl||null===(F=hl.stocks)||void 0===F?void 0:F.map((function(l,n){var e;return l?(0,k.jsxs)(v.Z,{bordered:!0,className:"mt-4",children:[(0,k.jsx)(v.Z.Item,{label:U("price"),span:2,column:2,children:null===l||void 0===l?void 0:l.price}),(0,k.jsx)(v.Z.Item,{label:U("quantity"),span:2,column:2,children:null===l||void 0===l?void 0:l.quantity}),null===l||void 0===l||null===(e=l.extras)||void 0===e?void 0:e.map((function(l,n){var e,t;return(0,k.jsx)(v.Z.Item,{label:null===l||void 0===l||null===(e=l.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,span:2,column:2,children:null===l||void 0===l?void 0:l.value},"extra"+n)}))]},"desc"+n):""})),ol&&(0,k.jsx)(x.Z,{className:"mt-4",message:U("status.note"),description:ol,type:"error"}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(Z.Z,{type:"primary",onClick:function(){vl({status:"approved"})},children:U("accept")}),(0,k.jsx)(Z.Z,{type:"primary",danger:!0,onClick:function(){ul(!0)},children:U("decline")})]})})]}),(0,k.jsx)(w,{data:{title:"decline"},visible:cl,handleCancel:function(){return ul(!1)},handleOk:vl,laoding:K})]})}}}]);