"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6913],{4014:(i,e,l)=>{function d(i){var e,l;let d=null===i||void 0===i?void 0:i.slice(0,1),a=null===i||void 0===i?void 0:i.lastIndexOf("@"),t=null===i||void 0===i?void 0:i.slice(1,a-1);t=null===(e=t)||void 0===e?void 0:e.replace(/./g,"*");let n=null===i||void 0===i?void 0:i.slice(a-1,i.length);return null===d||void 0===d||null===(l=d.concat(t))||void 0===l?void 0:l.concat(n)}l.d(e,{Z:()=>d})},16913:(i,e,l)=>{l.r(e),l.d(e,{default:()=>k});var d=l(47313),a=l(73591),t=l(10976),n=l(77181),o=l(97890),s=l(70816),v=l.n(s),r=l(49986),u=l(51282),c=l(65559),m=l(2717),h=l(90954),p=l(24511),f=l(45713),g=l(92815),Z=l(8550),x=l(94748),j=l(78067),b=l(79492),w=l(4014),y=l(46417);const{TabPane:_}=a.Z,k=()=>{var i;const{t:e}=(0,p.$)(),[l]=t.Z.useForm(),{activeMenu:s}=(0,m.v9)((i=>i.menu),m.wU),k=(0,m.I0)(),{uuid:I}=(0,o.UO)(),[M,S]=(0,d.useState)(!1),[Y,z]=(0,d.useState)("edit"),[C,D]=(0,d.useState)([]),[F,O]=(0,d.useState)(null),P=null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.role,{isDemo:U}=(0,b.Z)();(0,d.useEffect)((()=>{null!==s&&void 0!==s&&s.refetch&&(i=>{S(!0),r.Z.getById(i).then((i=>{var e,d,a,t;const n=i.data,o={...n,image:n.img?(0,Z.Z)(n.img):[]};k((0,h.nc)({activeMenu:s,data:o})),l.setFieldsValue({firstname:n.firstname,lastname:n.lastname,email:U?(0,w.Z)(n.email):n.email,phone:n.phone,birthday:v()(null===n||void 0===n?void 0:n.birthday).format("YYYY-MM-DD"),gender:n.gender,password_confirmation:n.password_confirmation,password:n.password,shop_id:0!==(null===n||void 0===n||null===(e=n.invitations)||void 0===e?void 0:e.length)?null===n||void 0===n||null===(d=n.invitations)||void 0===d?void 0:d.map((i=>{var e,l,d,a;return{label:null===(e=i.shop)||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===(d=i.shop)||void 0===d?void 0:d.id,key:null===(a=i.shop)||void 0===a?void 0:a.id}})):void 0}),D(n.img?[(0,Z.Z)(n.img)]:[]),O(null===(a=i.data)||void 0===a||null===(t=a.delivery_man_setting)||void 0===t?void 0:t.id)})).finally((()=>{S(!1),k((0,h.A_)(s))}))})(I)}),[null===s||void 0===s?void 0:s.refetch]);return(0,y.jsx)(n.Z,{title:e("user.settings"),children:M?(0,y.jsx)(u.Z,{}):(0,y.jsxs)(a.Z,{activeKey:Y,onChange:i=>z(i),tabPosition:"left",size:"small",children:[(0,y.jsx)(_,{tab:e("edit.user"),children:(0,y.jsx)(c.Z,{data:null===s||void 0===s?void 0:s.data,form:l,image:C,setImage:D,action_type:"edit"})},"edit"),"cook"===P&&(0,y.jsx)(_,{tab:e("orders"),children:(0,y.jsx)(f.Z,{data:null===s||void 0===s?void 0:s.data})},"order"),"deliveryman"===P&&(0,y.jsx)(_,{tab:e("deliveryman"),children:(0,y.jsx)(j.Z,{id:F,data:s.data})},"delivery"),(0,y.jsx)(_,{tab:e("wallet"),children:(0,y.jsx)(g.Z,{data:null===s||void 0===s?void 0:s.data})},"wallet"),(0,y.jsx)(_,{tab:e("password"),children:(0,y.jsx)(x.Z,{data:null===s||void 0===s?void 0:s.data})},"password")]})})}}}]);