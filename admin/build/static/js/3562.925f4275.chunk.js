"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3562],{83562:function(n,t,i){i.r(t),i.d(t,{default:function(){return m}});var l=i(4942),o=i(29439),e=i(47313),u=i(10976),a=i(92664),d=i(75336),r=i(2717),v=i(97890),c=i(50447),s=i(51282),f=i(90954),p=i(46417);function m(){var n=(0,r.I0)(),t=u.Z.useForm(),i=(0,o.Z)(t,1)[0],m=(0,r.v9)((function(n){return n.menu}),r.wU).activeMenu,Z=(0,r.v9)((function(n){return n.formLang}),r.wU).languages,h=(0,v.UO)().id,g=(0,e.useState)(!1),k=(0,o.Z)(g,2),b=k[0],y=k[1];(0,e.useEffect)((function(){m.refetch&&function(t){y(!0),c.Z.getById(t,{type:"look"}).then((function(t){var o,e,u,a,d,r,v,c=null===t||void 0===t?void 0:t.data,s=(v={},(0,l.Z)(v,"title[".concat(null===c||void 0===c||null===(o=c.translation)||void 0===o?void 0:o.locale,"]"),null===c||void 0===c||null===(e=c.translation)||void 0===e?void 0:e.title),(0,l.Z)(v,"description[".concat(null===c||void 0===c||null===(u=c.translation)||void 0===u?void 0:u.locale,"]"),null===c||void 0===c||null===(a=c.translation)||void 0===a?void 0:a.description),(0,l.Z)(v,"products",null===c||void 0===c||null===(d=c.products)||void 0===d?void 0:d.map((function(n){var t;return{label:null===n||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n?void 0:n.id,key:null===n||void 0===n?void 0:n.id}}))),(0,l.Z)(v,"image",null===c||void 0===c||null===(r=c.galleries)||void 0===r?void 0:r.map((function(n){return{uid:n.id,name:n.path,url:n.path}}))),(0,l.Z)(v,"active",Boolean(null===c||void 0===c?void 0:c.active)),v);i.setFieldsValue(s),n((0,f.nc)({activeMenu:m,data:s}))})).finally((function(){y(!1),n((0,f.A_)(m))}))}(h)}),[m.refetch]);return(0,p.jsx)(e.Fragment,{children:b?(0,p.jsx)(s.Z,{}):(0,p.jsx)(a.Z,{form:i,handleSubmit:function(n,t){var i={type:"look",active:Number(n.active),title:(0,d.Z)(Z,n,"title"),description:(0,d.Z)(Z,n,"description"),products:n.products.map((function(n){return n.value})),images:t.map((function(n){return n.name}))};return c.Z.update(h,i)}})})}}}]);