"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1136],{55940:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),i=t(45987),o=(t(47313),t(59491)),u=t(47515),l=t(23560),a=t(24511),c=t(79492),s=t(46417),d=["size","onClick","type"];function p(e){var n=e.size,t=void 0===n?"":n,p=e.onClick,v=e.type,f=void 0===v?"default":v,h=(0,i.Z)(e,d),Z=(0,a.$)().t,m=(0,c.Z)().isDemo;return(0,s.jsx)(o.Z,(0,r.Z)({size:t,icon:(0,s.jsx)(u.Z,{}),onClick:function(e){m?l.Am.warning(Z("cannot.work.demo")):p(e)},type:f},h))}},53233:function(e,n,t){var r=t(1413),i=t(29439),o=t(47313),u=t(56140),l=t(67251),a=t(45705),c=t(86345),s=t(78267),d=t(37388),p=t(59491),v=t(99587),f=t(24511),h=t(46417),Z=u.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,u=e.setColumns,m=e.style,x=e.size,g=void 0===x?"":x,y=e.iconOnly,j=(0,f.$)().t,w=(0,o.useState)(!1),C=(0,i.Z)(w,2),b=C[0],k=C[1],S=(0,h.jsx)(l.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,h.jsx)(l.Z.Item,{children:(0,h.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(Z,{children:e.title}),(0,h.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));u(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,h.jsx)(s.Z,{overlay:S,trigger:["click"],onVisibleChange:function(e){k(e)},visible:b,children:(0,h.jsx)(d.Z,{title:j("change.columns"),children:(0,h.jsx)(p.Z,{style:(0,r.Z)({},m),size:g,icon:(0,h.jsx)(v.Z,{}),children:y?null:j("Columns")})})})}},49655:function(e,n,t){t.d(n,{_:function(){return m}});var r=t(1413),i=t(93433),o=t(15861),u=t(29439),l=t(45987),a=t(87757),c=t.n(a),s=t(47313),d=t(12279),p=t.n(d),v=t(74294),f=t(72652),h=t(46417),Z=["fetchOptions","debounceTimeout","hasMore"],m=function(e){var n=e.fetchOptions,t=e.debounceTimeout,a=void 0===t?400:t,d=e.hasMore,m=(0,l.Z)(e,Z),x=(0,s.useState)(!1),g=(0,u.Z)(x,2),y=g[0],j=g[1],w=(0,s.useState)([]),C=(0,u.Z)(w,2),b=C[0],k=C[1],S=(0,s.useState)(!1),_=(0,u.Z)(S,2),z=_[0],V=_[1],O=(0,s.useState)(null),H=(0,u.Z)(O,2),I=H[0],M=H[1],$=(0,s.useState)(1),A=(0,u.Z)($,2),F=A[0],N=A[1],T=(0,s.useMemo)((function(){return p()((function(e){k([]),M(e),j(!0),n({search:e}).then((function(e){k(e),N(2),j(!1)})).finally((function(){return V(!1)}))}),a)}),[n,a,F]),E=function(){var e=(0,o.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target,z||r.scrollTop+r.offsetHeight!==r.scrollHeight||d&&(V(!0),r.scrollTo(0,r.scrollHeight),n({search:I,page:F}).then((function(e){N((function(e){return e+1})),k([].concat((0,i.Z)(b),(0,i.Z)(e)))})).finally((function(){return V(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsxs)(v.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,onPopupScroll:E,labelInValue:!0,filterOption:!1,onSearch:T,notFoundContent:y?(0,h.jsx)(f.Z,{size:"small"}):"no results",onFocus:function(){b.length||T("")}},m),{},{children:[b.map((function(e,n){return(0,h.jsx)(v.Z.Option,{value:e.value,children:e.label},n)})),z&&(0,h.jsx)(v.Z.Option,{children:(0,h.jsx)(f.Z,{size:"small"})})]}))}},89281:function(e,n,t){t.d(n,{h:function(){return v}});var r=t(1413),i=t(29439),o=t(45987),u=t(47313),l=t(12279),a=t.n(l),c=t(74294),s=t(72652),d=t(46417),p=["fetchOptions","debounceTimeout","onClear","refetchOptions"],v=function(e){var n=e.fetchOptions,t=e.debounceTimeout,l=void 0===t?400:t,v=e.onClear,f=e.refetchOptions,h=void 0!==f&&f,Z=(0,o.Z)(e,p),m=(0,u.useState)(!1),x=(0,i.Z)(m,2),g=x[0],y=x[1],j=(0,u.useState)([]),w=(0,i.Z)(j,2),C=w[0],b=w[1],k=(0,u.useMemo)((function(){return a()((function(e){b([]),y(!0),n(e).then((function(e){b(e),y(!1)}))}),l)}),[n,l]);return(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:k,onClear:function(){k(""),v&&v()},notFoundContent:g?(0,d.jsx)(s.Z,{size:"small"}):"no results"},Z),{},{options:C,onFocus:function(){C.length&&!h||k("")}}))}},81136:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(15861),i=t(4942),o=t(93433),u=t(1413),l=t(29439),a=t(87757),c=t.n(a),s=t(47313),d=t(45705),p=t(26824),v=t(59491),f=t(77181),h=t(78508),Z=t(12019),m=t(47515),x=t(55768),g=t(23560),y=t(24511),j=t(2717),w=t(94311),C=t(13966),b=t(10976),k=t(66672),S=t(9274),_=t(8922),z=t(20503),V=t(8550),O=t(89281),H=t(46417);function I(e){var n=e.modal,t=e.handleCancel,i=e.onSuccess,o=e.groupId,a=b.Z.useForm(),d=(0,l.Z)(a,1)[0],p=(0,y.$)().t,f=(0,j.I0)(),h=(0,s.useState)(!1),Z=(0,l.Z)(h,2),m=Z[0],x=Z[1],I=(0,s.useState)("text"),M=(0,l.Z)(I,2),$=M[0],A=M[1],F=(0,s.useState)(null),N=(0,l.Z)(F,2),T=N[0],E=N[1],G=(0,s.useState)(""),P=(0,l.Z)(G,2),R=P[0],U=P[1];(0,s.useEffect)((function(){if(null!==n&&void 0!==n&&n.id){var e,t,r;A(n.group.type);var i=(0,u.Z)((0,u.Z)({},n),{},{property_group_id:{label:null===n||void 0===n||null===(e=n.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n||null===(r=n.group)||void 0===r?void 0:r.id},value:n.value});switch(n.group.type){case"color":U(n.value);break;case"image":E((0,V.Z)(n.value))}d.setFieldsValue(i)}o&&d.setFieldsValue({property_group_id:{value:o}})}),[n,o]);function q(e,n){switch(e){case"color":return n.hex;case"text":return n;case"image":return n.name;default:return""}}function B(){return B=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={perPage:10,active:1,search:n},e.abrupt("return",C.Z.getAllGroups(t).then((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n;return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,key:null===e||void 0===e?void 0:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}return(0,H.jsx)(S.Z,{title:null!==n&&void 0!==n&&n.id?p("edit.property"):p("add.property"),visible:!!n,onCancel:t,footer:[(0,H.jsx)(v.Z,{type:"primary",onClick:function(){return d.submit()},loading:m,children:p("save")}),(0,H.jsx)(v.Z,{type:"default",onClick:t,children:p("cancel")})],children:(0,H.jsxs)(b.Z,{name:"property-form",layout:"vertical",form:d,onFinish:function(e){var r,o={property_group_id:null===e||void 0===e||null===(r=e.property_group_id)||void 0===r?void 0:r.value,value:q($,e.value)};null!==n&&void 0!==n&&n.id?function(e,n){x(!0),C.Z.updateValue(e,n).then((function(){g.Am.success(p("successfully.updated")),t(),f((0,w.$v)())})).finally((function(){return x(!1)}))}(n.id,o):function(e){x(!0),C.Z.createValue(e).then((function(){g.Am.success(p("successfully.created")),t(),f((0,w.$v)()),i&&i()})).finally((function(){return x(!1)}))}(o)},children:[(0,H.jsx)(b.Z.Item,{name:"property_group_id",label:p("property.group"),hidden:!!o,rules:[{required:!0,message:""}],children:(0,H.jsx)(O.h,{fetchOptions:function(e){return B.apply(this,arguments)}})}),(0,H.jsx)(b.Z.Item,{name:"value",label:p("value"),rules:[{required:!0,message:""}],children:function(e){switch(e){case"color":return(0,H.jsx)(_.xS,{onChangeComplete:function(e){return U(e.hex)},color:R,disableAlpha:!0});case"text":return(0,H.jsx)(k.Z,{placeholder:p("enter.extra.value")});case"image":return(0,H.jsx)(z.Z,{type:"property",image:T,setImage:E,form:d,name:"value"});default:return""}}($)})]})})}function M(e){var n=e.id,t=e.loading,r=e.handleClose,i=e.text,o=e.click,u=(0,y.$)().t;return(0,H.jsxs)(S.Z,{closable:!1,visible:!!n,footer:null,centered:!0,children:[(0,H.jsx)("p",{children:i}),(0,H.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,H.jsx)(v.Z,{type:"primary",className:"mr-2",onClick:o,loading:t,children:u("yes")}),(0,H.jsx)(v.Z,{onClick:r,children:u("no")})]})]})}var $=t(55940),A=t(97421),F=t(90954),N=t(53233),T=t(49655),E=t(80314);function G(){var e,n=(0,y.$)().t,t=(0,j.I0)(),a=(0,j.v9)((function(e){return e.menu}),j.wU).activeMenu,b=((0,j.v9)((function(e){return e.propertyGroup}),j.wU).propertyGroups,(0,j.v9)((function(e){return e.propertyValue}),j.wU)),k=b.propertyValues,S=b.loading,_=(0,s.useState)(null),z=(0,l.Z)(_,2),V=z[0],O=z[1],G=(0,s.useState)(null),P=(0,l.Z)(G,2),R=P[0],U=P[1],q=(0,s.useState)(!1),B=(0,l.Z)(q,2),D=B[0],K=B[1],W=(0,s.useState)([{title:n("id"),dataIndex:"id",key:"id",is_show:!0},{title:n("title"),dataIndex:"group",key:"group",is_show:!0,render:function(e){var n;return null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title}},{title:n("value"),dataIndex:"value",key:"value",is_show:!0,render:function(e,n){return(0,H.jsxs)(d.Z,{className:"extras",children:["color"===n.group.type?(0,H.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:n.value}}):null,"image"===n.group.type?(0,H.jsx)(p.Z,{width:100,src:A.bV+n.value,className:"borderRadius"}):null,"image"===n.group.type?null:(0,H.jsx)("span",{children:n.value})]})}},{title:n("options"),is_show:!0,render:function(e){return(0,H.jsxs)(d.Z,{children:[(0,H.jsx)(v.Z,{type:"primary",icon:(0,H.jsx)(Z.Z,{}),onClick:function(){return U(e)}}),(0,H.jsx)($.Z,{type:"primary",danger:!0,icon:(0,H.jsx)(m.Z,{}),onClick:function(){return O([e.id])}})]})}}]),J=(0,l.Z)(W,2),L=J[0],Q=J[1];function X(){return X=(0,r.Z)(c().mark((function e(n){var t,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.search,r=n.page,i={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,page:r},e.abrupt("return",C.Z.getAllGroups(i).then((function(e){return e.data.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))})));case 3:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}(0,E.Z)((function(){var e;t((0,w.$v)({group_id:null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.group_id}))}),[a.data]),(0,s.useEffect)((function(){a.refetch&&(t((0,w.$v)()),t((0,F.A_)(a)))}),[a.refetch]);return(0,H.jsxs)(f.Z,{title:n("property.value"),extra:(0,H.jsxs)(d.Z,{wrap:!0,children:[(0,H.jsx)(T._,{placeholder:n("select.group"),fetchOptions:function(e){return X.apply(this,arguments)},loading:S,style:{minWidth:180},onChange:function(e){return function(e){var n=a.data;t((0,F.nc)({activeMenu:a,data:(0,u.Z)((0,u.Z)({},n),e)}))}({group_id:null===e||void 0===e?void 0:e.value})},value:null===(e=a.data)||void 0===e?void 0:e.group_id}),(0,H.jsx)(v.Z,{type:"primary",icon:(0,H.jsx)(x.Z,{}),onClick:function(){return U({})},children:n("add.property")}),(0,H.jsx)(N.Z,{columns:L,setColumns:Q})]}),children:[(0,H.jsx)(h.Z,{scroll:{x:!0},loading:S,columns:null===L||void 0===L?void 0:L.filter((function(e){return e.is_show})),dataSource:k,rowKey:function(e){return e.id},pagination:!1}),R&&(0,H.jsx)(I,{modal:R,handleCancel:function(){return U(null)}}),V&&(0,H.jsx)(M,{id:V,click:function(){K(!0);var e=(0,u.Z)({},Object.assign.apply(Object,[{}].concat((0,o.Z)(V.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));C.Z.deleteValue(e).then((function(){g.Am.success(n("successfully.deleted")),O(null),t((0,w.$v)())})).finally((function(){return K(!1)}))},text:n("delete.property"),loading:D,handleClose:function(){return O(null)}})]})}},55768:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(1413),i=t(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},u=t(17469),l=function(e,n){return i.createElement(u.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:o}))};l.displayName="PlusCircleOutlined";var a=i.forwardRef(l)},99587:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(1413),i=t(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},u=t(17469),l=function(e,n){return i.createElement(u.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:o}))};l.displayName="TableOutlined";var a=i.forwardRef(l)}}]);