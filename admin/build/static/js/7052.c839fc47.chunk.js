(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7052],{33834:(e,t,a)=>{"use strict";a.d(t,{K:()=>i});var l=a(97890),s=a(74776),n=a.n(s);const i=()=>{const e=(0,l.s0)(),t=(0,l.TH)(),a=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:a,set:(t,l)=>e({search:n().stringify({...a,[t]:l})}),reset:t=>{const l={...a};l[t]&&delete l[t],e({search:n().stringify({...l})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...a,...t})})}}},19321:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(47313),s=a(2717),n=a(73431),i=a(24511),r=a(68668),o=a(83999),d=a(77181),u=a(40622),c=a(84427),m=a(33834),v=a(90954),p=a(49067),h=a(97890),f=a(20131),x=a(51282),g=a(1358),j=a(76833),Z=a(46417);const{Step:w}=o.Z,y=()=>{var e,t;const{t:a}=(0,i.$)(),{activeMenu:y}=(0,s.v9)((e=>e.menu),s.wU),_=(0,m.K)(),S=Number((null===(e=_.values)||void 0===e?void 0:e.step)||0),[b,k]=(0,l.useState)(y.refetch),q=(0,s.I0)(),{uuid:F}=(0,h.UO)(),{languages:I}=(0,s.v9)((e=>e.formLang),s.wU),N=()=>{const e=S+1;_.set("step",e)},C=()=>{const e=S-1;_.set("step",e)},P=e=>({items:e,uid:e,url:e,name:e});function T(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,a=I.map((e=>{var a,l,s;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,["address[".concat(e.locale,"]")]:null===(s=t.find((t=>t.locale===e.locale)))||void 0===s?void 0:s.address}}));return Object.assign({},...a)}return(0,l.useEffect)((()=>{y.refetch&&F&&(e=>{k(!0),p.Z.getById(e).then((e=>{var t,a,l,s,n,i,r,o,d,u,c,m,p,h,f,x,g,j;const Z={...e.data,...T(e.data),logo_img:P(e.data.logo_img),background_img:P(e.data.background_img),user:{label:(null===(t=e.data)||void 0===t||null===(a=t.seller)||void 0===a?void 0:a.firstname)+" "+(null===(l=e.data)||void 0===l||null===(s=l.seller)||void 0===s?void 0:s.lastname),value:null===(n=e.data)||void 0===n||null===(i=n.seller)||void 0===i?void 0:i.id},delivery_time_from:(null===(r=e.data)||void 0===r?void 0:r.delivery_time.from)||0,delivery_time_to:(null===(o=e.data)||void 0===o?void 0:o.delivery_time.to)||0,delivery_time_type:null===(d=e.data)||void 0===d?void 0:d.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(u=e.data)||void 0===u||null===(c=u.categories)||void 0===c?void 0:c.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(m=e.data)||void 0===m||null===(p=m.tags)||void 0===p?void 0:p.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),price:(null===(h=e.data)||void 0===h?void 0:h.price)||0,price_per_km:(null===(f=e.data)||void 0===f?void 0:f.price_per_km)||0,min_amount:(null===(x=e.data)||void 0===x?void 0:x.min_amount)||0,tax:(null===(g=e.data)||void 0===g?void 0:g.tax)||0,percentage:(null===(j=e.data)||void 0===j?void 0:j.percentage)||0};q((0,v.nc)({activeMenu:y,data:Z}))})).finally((()=>{k(!1),q((0,v.A_)(y))}))})(F)}),[y.refetch,S,F]),(0,Z.jsxs)(d.Z,{title:a("shop.edit"),extra:(0,Z.jsx)(n.Z,{}),children:[(0,Z.jsx)(o.Z,{current:S,onChange:e=>{q((0,v.nc)({activeMenu:y,data:{...y.data,step:e}})),_.set("step",e)},children:r.S.map((e=>(0,Z.jsx)(w,{title:a(e.title)},e.title)))}),b?(0,Z.jsx)(x.Z,{}):(0,Z.jsxs)("div",{className:"steps-content",children:["First-content"===r.S[S].content&&(0,Z.jsx)(u.Z,{next:N,loading:b,action_type:"edit",user:null===(t=y.data)||void 0===t?void 0:t.seller}),"Second-content"===r.S[S].content&&(0,Z.jsx)(g.Z,{next:N,prev:C}),"Third-content"===r.S[S].content&&(0,Z.jsx)(j.Z,{next:N,prev:C}),"Fourth-content"===r.S[S].content&&(0,Z.jsx)(f.Z,{next:N,prev:C}),"Fifth-content"===r.S[S].content&&(0,Z.jsx)(c.Z,{next:N,prev:C})]})]})}},68668:(e,t,a)=>{"use strict";a.d(t,{S:()=>l});const l=[{title:"shop",content:"First-content"},{title:"shop.locations",content:"Second-content"},{title:"shop.social",content:"Third-content"},{title:"delivery",content:"Fourth-content"},{title:"user",content:"Fifth-content"}]},84427:(e,t,a)=>{"use strict";a.d(t,{Z:()=>w});var l=a(47313),s=a(10976),n=a(97890),i=a(2717),r=a(49986),o=a(23560),d=a(90954),u=a(24511),c=a(51282),m=a(68197),v=a(59624),p=a(66672),h=a(16124),f=a(45705),x=a(59491),g=a(46417);const j=e=>{let{prev:t,loadingBtn:a,error:l}=e;const{t:n}=(0,u.$)();return(0,g.jsxs)(m.Z,{gutter:12,children:[(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("firstname"),name:"firstname",help:null!==l&&void 0!==l&&l.firstname?l.firstname[0]:null,validateStatus:null!==l&&void 0!==l&&l.firstname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,g.jsx)(p.Z,{className:"w-100"})})}),(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("lastname"),name:"lastname",help:null!==l&&void 0!==l&&l.lastname?l.lastname[0]:null,validateStatus:null!==l&&void 0!==l&&l.lastname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,g.jsx)(p.Z,{className:"w-100"})})}),(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("phone"),name:"phone",help:null!==l&&void 0!==l&&l.phone?l.phone[0]:null,validateStatus:null!==l&&void 0!==l&&l.phone?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,g.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("email"),name:"email",help:null!==l&&void 0!==l&&l.email?l.email[0]:null,validateStatus:null!==l&&void 0!==l&&l.email?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,g.jsx)(p.Z,{type:"email",className:"w-100"})})}),(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("password"),name:"password",help:null!==l&&void 0!==l&&l.password?l.password[0]:null,validateStatus:null!==l&&void 0!==l&&l.password?"error":"success",rules:[{required:!1,message:n("required")},{type:"string",min:6,message:n("min.6.letters")}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,g.jsx)(p.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,g.jsx)(v.Z,{span:12,children:(0,g.jsx)(s.Z.Item,{label:n("password.confirmation"),help:null!==l&&void 0!==l&&l.password_confirmation?l.password_confirmation[0]:null,validateStatus:null!==l&&void 0!==l&&l.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:n("required")},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a&&t("password")!==a?Promise.reject(n("passwords.do.not.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,g.jsx)(p.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,g.jsx)(v.Z,{span:24,children:(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:a,children:n("save")}),(0,g.jsx)(x.Z,{htmlType:"submit",onClick:()=>t(),children:n("prev")})]})})]})};var Z=a(44528);function w(e){let{prev:t}=e;const{t:a}=(0,u.$)(),{activeMenu:m}=(0,i.v9)((e=>e.menu),i.wU),v=(0,i.I0)(),p=(0,n.s0)(),[h,f]=(0,l.useState)(null),[x,w]=(0,l.useState)(!1),[y,_]=(0,l.useState)(!1),[S]=s.Z.useForm();return(0,l.useEffect)((()=>{var e,t,a;null!==m&&void 0!==m&&m.data.seller&&(a=null===m||void 0===m||null===(e=m.data)||void 0===e||null===(t=e.seller)||void 0===t?void 0:t.uuid,_(!0),r.Z.getById(a).then((e=>{const t=e.data;S.setFieldsValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone,password_confirmation:t.password_confirmation,password:t.password})})).finally((()=>_(!1))))}),[]),(0,g.jsx)(g.Fragment,{children:y?(0,g.jsx)(c.Z,{}):(0,g.jsx)(s.Z,{form:S,layout:"vertical",initialValues:{...m.data},onFinish:e=>{var t,l;w(!0);const s={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},n="shops";r.Z.update(null===m||void 0===m||null===(t=m.data)||void 0===t||null===(l=t.seller)||void 0===l?void 0:l.uuid,s).then((()=>{o.Am.success(a("successfully.updated")),p("/".concat(n)),v((0,Z.N)({perPage:10,page:1})),v((0,d.ph)({...m,nextUrl:n}))})).catch((e=>f(e.response.data.params))).finally((()=>w(!1)))},className:"py-4",children:(0,g.jsx)(j,{error:h,loadingBtn:x})})})}},24654:()=>{}}]);