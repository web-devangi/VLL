"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6625],{6625:function(e,t,n){n.r(t);var a=n(1413),i=n(29439),r=n(47313),s=n(10976),l=n(77181),u=n(68197),c=n(59624),d=n(66672),m=n(86345),o=n(59491),f=n(72652),Z=n(23560),v=n(97890),h=n(2717),g=n(90954),j=n(97421),x=n(24511),p=n(48697),b=n(73253),y=n(5764),I=n(46417);t.default=function(){var e,t,n=(0,x.$)().t,k=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,w=(0,v.UO)().id,F=(0,h.I0)(),N=(0,h.v9)((function(e){return e.brand}),h.wU).params,U=(0,r.useState)(null!==(e=k.data)&&void 0!==e&&e.image?[null===(t=k.data)||void 0===t?void 0:t.image]:[]),V=(0,i.Z)(U,2),q=V[0],z=V[1],E=s.Z.useForm(),P=(0,i.Z)(E,1)[0],S=(0,v.s0)(),A=(0,r.useState)(!1),C=(0,i.Z)(A,2),L=C[0],M=C[1],B=(0,r.useState)(!1),J=(0,i.Z)(B,2),O=J[0],R=J[1];(0,r.useEffect)((function(){return function(){var e=P.getFieldsValue(!0);F((0,g.nc)({activeMenu:k,data:e}))}}),[]);var T=function(e){return{name:e,url:j.bV+e}};return(0,r.useEffect)((function(){k.refetch&&function(e){M(!0),p.Z.getById(e).then((function(e){var t=e.data;P.setFieldsValue((0,a.Z)((0,a.Z)({},t),{},{image:[T(t.img)]})),z([T(t.img)])})).finally((function(){M(!1),F((0,g.A_)(k))}))}(w)}),[k.refetch]),(0,I.jsx)(l.Z,{title:n("edit.brand"),children:L?(0,I.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,I.jsx)(f.Z,{size:"large",className:"py-5"})}):(0,I.jsxs)(s.Z,{name:"basic",layout:"vertical",onFinish:function(e){var t,i=(0,a.Z)((0,a.Z)({},e),{},{active:e.active?1:0,"images[0]":null===(t=q[0])||void 0===t?void 0:t.name});R(!0);var r=(0,a.Z)({},N),s="seller/brands";p.Z.update(w,i).then((function(){Z.Am.success(n("successfully.updated")),F((0,g.ph)((0,a.Z)((0,a.Z)({},k),{},{nextUrl:s}))),S("/".concat(s)),F((0,b.RJ)(r))})).finally((function(){return R(!1)}))},form:P,initialValues:(0,a.Z)({},k.data),children:[(0,I.jsxs)(u.Z,{gutter:12,children:[(0,I.jsx)(c.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{label:n("title"),name:"title",rules:[{required:!0,message:n("required")}],children:(0,I.jsx)(d.Z,{})})}),(0,I.jsx)(c.Z,{span:6,children:(0,I.jsx)(s.Z.Item,{label:n("image"),name:"images",rules:[{validator:function(){return 0===q.length?Promise.reject(new Error(n("required"))):Promise.resolve()}}],children:(0,I.jsx)(y.Z,{type:"brands",imageList:q,setImageList:z,form:P,multiple:!1})})}),(0,I.jsx)(c.Z,{span:6,children:(0,I.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,I.jsx)(s.Z.Item,{label:n("active"),name:"active",valuePropName:"checked",children:(0,I.jsx)(m.Z,{})})})})]}),(0,I.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:O,children:n("submit")})]})})}}}]);