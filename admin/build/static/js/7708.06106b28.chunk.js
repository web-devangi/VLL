"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7708],{77708:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var i=s(47313),a=s(31741),l=s(47515),n=s(55613),d=s(45705),o=s(59491),r=s(77181),u=s(78508),c=s(23560),v=s(69658),m=s(74580),x=s(2717),h=s(90954),g=s(80314),p=s(13945),f=s(24511),w=s(94765),y=s(27266),j=s(70816),k=s.n(j),Z=s(97890),C=s(55940),_=s(53233),S=s(20093),b=s(46417);function I(){const{t:e}=(0,f.$)(),t=(0,x.I0)(),s=(0,Z.s0)(),j=i=>{t((0,h.bL)({url:"/users/user/".concat(i.uuid),id:"user_info",name:e("user.info")})),s("/users/user/".concat(i.uuid),{state:{user_id:i.id}})},[I,z]=(0,i.useState)([{title:e("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>j(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>j(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(n.Z,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(o.Z,{type:"primary",icon:(0,b.jsx)(a.Z,{}),onClick:()=>A(t.id)}),(0,b.jsx)(C.Z,{icon:(0,b.jsx)(l.Z,{}),onClick:()=>{P([t.id]),M(!0),U(!0)}})]})}]),{setIsModalVisible:M}=(0,i.useContext)(m._),[V,P]=(0,i.useState)(null),[Y,A]=(0,i.useState)(null),[H,D]=(0,i.useState)(!1),[N,U]=(0,i.useState)(null),{activeMenu:E}=(0,x.v9)((e=>e.menu),x.wU),{reviews:K,meta:L,loading:O,params:R}=(0,x.v9)((e=>e.deliveryboyReview),x.wU),T=E.data,$={sort:null===T||void 0===T?void 0:T.sort,column:null===T||void 0===T?void 0:T.column,perPage:null===T||void 0===T?void 0:T.perPage,page:null===T||void 0===T?void 0:T.page,assign:"deliveryman"};(0,i.useEffect)((()=>{E.refetch&&(0,x.dC)((()=>{t((0,S.Ve)($)),t((0,h.A_)(E))}))}),[E.refetch]),(0,g.Z)((()=>{t((0,S.Ve)($))}),[E.data]);const q={id:V,onChange:e=>{P(e)}};return(0,b.jsxs)(r.Z,{title:e("deliveryboy.reviews"),extra:(0,b.jsxs)(d.Z,{wrap:!0,children:[(0,b.jsx)(C.Z,{size:"",onClick:()=>{null===V||0===V.length?c.Am.warning(e("select.the.product")):(M(!0),U(!1))},children:e("delete.selected")}),(0,b.jsx)(_.Z,{columns:I,setColumns:z})]}),children:[(0,b.jsx)(u.Z,{scroll:{x:!0},rowSelection:q,columns:null===I||void 0===I?void 0:I.filter((e=>e.is_show)),dataSource:K,pagination:{pageSize:R.perPage,page:R.page,total:L.total,defaultCurrent:R.page},rowKey:e=>e.id,onChange:function(e,s,i){const{pageSize:a,current:l}=e,{field:n,order:d}=i,o=(0,p.Z)(d);t((0,h.nc)({activeMenu:E,data:{perPage:a,page:l,column:n,sort:o}}))},loading:O}),(0,b.jsx)(v.Z,{click:()=>{D(!0);const s={...Object.assign({},...V.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};w.Z.delete(s).then((()=>{c.Am.success(e("successfully.deleted")),t((0,S.Ve)()),M(!1)})).finally((()=>D(!1)))},text:e(N?"delete":"all.delete"),setText:P,loading:H}),Y&&(0,b.jsx)(y.Z,{id:Y,handleCancel:()=>A(null)})]})}}}]);