"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3445],{63445:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var r=a(1413),l=a(29439),i=a(47313),n=a(10976),t=a(77181),d=a(68197),u=a(59624),c=a(74294),m=a(66672),Z=a(86345),j=a(45705),o=a(59491),x=a(24511),h=a(33234),p=a(26747),f=a(2717),_=a(23560),b=a(90954),q=a(97890),y=a(51282),w=a(46417),g=[{title:"firebase",value:"firebase"},{title:"twilio",value:"twilio"}];function k(){var e=n.Z.useForm(),s=(0,l.Z)(e,1)[0],a=(0,x.$)().t,k=(0,i.useState)(!1),v=(0,l.Z)(k,2),I=v[0],N=v[1],F=(0,i.useState)(!1),U=(0,l.Z)(F,2),z=U[0],C=U[1],S=(0,f.I0)(),A=(0,q.s0)(),B=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,P=(0,q.UO)().type,E=(0,i.useState)(null),G=(0,l.Z)(E,2),L=G[0],M=G[1],O=(0,f.v9)((function(e){return e.sms}),f.wU).smsGatewaysList;(0,i.useEffect)((function(){B.refetch&&function(e){C(!0),h.Z.getById(e).then((function(e){console.log("res",e.data);var a=e.data;s.setFieldsValue((0,r.Z)({default:Boolean(a.default)},a.payload)),M(a.type)})).finally((function(){C(!1),S((0,b.A_)(B))}))}(P)}),[B.refetch]);return(0,w.jsx)(t.Z,{title:a("edit.sms.payload"),className:"h-100",children:z?(0,w.jsx)(y.Z,{}):(0,w.jsx)(n.Z,{form:s,layout:"vertical",onFinish:function(e){N(!0);var s={type:L,default:Number(e.default),payload:(0,r.Z)({type:void 0,default:void 0},e)},l="settings/sms-payload";h.Z.update(P,s).then((function(){S((0,p.z)()),_.Am.success(a("successfully.updated")),S((0,b.ph)((0,r.Z)((0,r.Z)({},B),{},{nextUrl:l}))),A("/".concat(l))})).finally((function(){return N(!1)}))},children:(0,w.jsxs)(t.Z,{title:a("add.sms.payload"),children:[(0,w.jsxs)(d.Z,{gutter:12,children:[(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("select.type"),rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(c.Z,{disabled:!0,className:"w-100",onChange:function(e){return M(e)},value:L,options:g.filter((function(e){return!O.some((function(s){return s.type===e.value}))}))})})}),"firebase"===P&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("android_api_key"),name:"android_api_key",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("api_key"),name:"api_key",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("app_id"),name:"app_id",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("auth_domain"),name:"auth_domain",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("ios_api_key"),name:"ios_api_key",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("measurement_id"),name:"measurement_id",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("message_sender_id"),name:"message_sender_id",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("project_id"),name:"project_id",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("server_key"),name:"server_key",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("storage_bucket"),name:"storage_bucket",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("vapid_key"),name:"vapid_key",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(Z.Z,{})})})]}),"twilio"===P&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("twilio_auth_token"),name:"twilio_auth_token",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{min:0,className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("twilio_account_id"),name:"twilio_account_id",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("twilio_number"),name:"twilio_number",rules:[{required:!0,message:a("required")}],children:(0,w.jsx)(m.Z,{className:"w-100"})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(n.Z.Item,{label:a("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(Z.Z,{})})})]})]}),(0,w.jsx)(j.Z,{children:(0,w.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:I,children:a("submit")})})]})})})}}}]);